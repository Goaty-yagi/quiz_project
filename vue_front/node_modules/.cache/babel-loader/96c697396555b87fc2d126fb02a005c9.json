{"ast":null,"code":"export default {\n  data() {\n    return {\n      sixDigit: {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': ''\n      },\n      sixDigitList: [],\n      digit1: '',\n      digit2: '',\n      digit3: '',\n      digit4: '',\n      digit5: '',\n      digit6: '',\n      fullLength: true,\n      idError: '',\n      correctID: [1, 2, 3, 4, 5, 6]\n    };\n  },\n\n  mounted() {\n    // console.log('mounted',this.$refs.digit1.value)\n    this.$refs.digit1.focus();\n  },\n\n  updated() {\n    this.checkSixDigit();\n    this.makeSixDigit();\n  },\n\n  watch: {\n    digit1: function (v) {\n      if (v.length == 1) {\n        this.$refs.digit2.focus();\n      }\n    },\n    digit2: function (v) {\n      if (v.length <= 1) {\n        this.$refs.digit3.focus();\n      }\n    },\n    digit3: function (v) {\n      if (v.length <= 1) {\n        this.$refs.digit4.focus();\n      }\n    },\n    digit4: function (v) {\n      if (v.length <= 1) {\n        this.$refs.digit5.focus();\n      }\n    },\n    digit5: function (v) {\n      if (v.length <= 1) {\n        this.$refs.digit6.focus();\n      }\n    },\n    digit6: function (v) {\n      if (v.length <= 1) {\n        this.$refs.bform.focus();\n      }\n    },\n    fullLength: function (v) {\n      if (v == false) {\n        this.$refs.bform.classList.add('button-hover');\n      } else {\n        this.$refs.bform.classList.remove('button-hover');\n      }\n    }\n  },\n  methods: {\n    checkSixDigit() {\n      console.log('digimetho');\n\n      if (!isNaN(this.digit1) && this.digit1 != '' && !isNaN(this.digit2) && this.digit2 != '' && !isNaN(this.digit3) && this.digit3 != '' && !isNaN(this.digit4) && this.digit4 != '' && !isNaN(this.digit5) && this.digit5 != '' && !isNaN(this.digit6) && this.digit6 != '') {\n        this.fullLength = false;\n      } else {\n        this.fullLength = true;\n      }\n    },\n\n    makeSixDigit() {\n      this.sixDigit[1] = this.digit1;\n      this.sixDigit[2] = this.digit2;\n      this.sixDigit[3] = this.digit3;\n      this.sixDigit[4] = this.digit4;\n      this.sixDigit[5] = this.digit5;\n      this.sixDigit[6] = this.digit6;\n    },\n\n    makeSixDigitList() {\n      for (let i in this.sixDigit) {\n        this.sixDigitList.push(Number(this.sixDigit[i]));\n      }\n    },\n\n    allclear() {\n      this.digit1 = '';\n      this.digit2 = '';\n      this.digit3 = '';\n      this.digit4 = '';\n      this.digit5 = '';\n      this.digit6 = '';\n    },\n\n    submitForm() {\n      // validate email\n      this.makeSixDigitList();\n      this.idError = this.arrayEqual(this.sixDigitList, this.correctID) ? '' : 'ID is not correct';\n\n      if (this.idError == '') {\n        this.$emit('handle');\n        this.$store.commit('addStep');\n      } else {\n        this.sixDigitList = [];\n        this.allclear();\n        this.$refs.digit1.focus();\n      }\n    },\n\n    arrayEqual(array1, array2) {\n      if (!Array.isArray(array1)) return false;\n      if (!Array.isArray(array2)) return false;\n      if (array1.length != array2.length) return false;\n\n      for (var i = 0, n = array1.length; i < n; ++i) {\n        if (array1[i] !== array2[i]) return false;\n      }\n\n      return true;\n    } // getClass(){\n    //     if (this.fullLength == false){\n    //         this.$refs.buttonHover.classList.add('button-hover')\n    //     }else{\n    //         this.$refs.buttonHover.classList.remove('button-hover')\n    //     }   \n    // },\n    // nextfocus(){\n    //     if (this.$refs.digit1.value!='' && this.sixDigit['1']==''){\n    //         this.$refs.digit1.blur()\n    //         this.$refs.digit2.focus()\n    //     }\n    //     else if(this.$refs.digit2.value!=''&& this.sixDigit['2']==''){\n    //             this.$refs.digit2.blur()\n    //             this.$refs.digit3.focus()\n    //     }\n    //     else if(this.$refs.digit3.value!=''){\n    //             this.$refs.digit3.blur()\n    //             this.$refs.digit4.focus()\n    //     }\n    //     else if(this.$refs.digit4.value!=''){\n    //             this.$refs.digit4.blur()\n    //             this.$refs.digit5.focus()\n    //     }\n    //     else if(this.$refs.digit5.value!=''){\n    //             this.$refs.digit5.blur()\n    //             this.$refs.digit6.focus()\n    //     }\n    //     else if(this.$refs.digit6.value!=''){\n    //             this.$refs.digit6.blur()\n    //             this.$refs.button-hover.focus()\n    //     }\n    // },\n    // makeSixDigit(){\n    //     if(event.target.value != ''&& this.sixDigit.length < 6){\n    //         this.sixDigit.push(event.target.value)\n    //     }\n    // }\n\n\n  }\n};","map":{"version":3,"mappings":"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","names":["data","sixDigit","sixDigitList","digit1","digit2","digit3","digit4","digit5","digit6","fullLength","idError","correctID","mounted","$refs","focus","updated","checkSixDigit","makeSixDigit","watch","v","length","bform","classList","add","remove","methods","console","log","isNaN","makeSixDigitList","i","push","Number","allclear","submitForm","arrayEqual","$emit","$store","commit","array1","array2","Array","isArray","n"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/signin/ID.vue"],"sourcesContent":["<template>\n  <div class=\"id-wrapper\">\n      <div class='id-container'>\n        <p class='id-text'>送られた６桁のIDを入力してください。</p>\n        <p>※半角数字で入力してください。</p>\n        <form class=\"id-form\" @submit.prevent='submitForm'>\n            <input class='digit' type=\"text\" ref='digit1' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit1'/>\n            <input class='digit' type=\"text\" ref='digit2' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit2'/>\n            <input class='digit' type=\"text\" ref='digit3' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit3'/>\n            <input class='digit' type=\"text\" ref='digit4' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit4'/>\n            <input class='digit' type=\"text\" ref='digit5' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit5'/>\n            <input class='digit' type=\"text\" ref='digit6' maxlength=\"1\" onfocus=\"this.select();\" oninput=\"this.value=this.value.replace(/[^0-9]/g,'');\" v-model='digit6'/>\n            <div v-if='idError' class='error'>{{ idError }}</div>\n            <div>\n                <button class='fbottun' ref='bform'><p>次へ</p></button>\n            </div>\n        </form>\n      </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            sixDigit:{\n                '1':'',\n                '2':'',\n                '3':'',\n                '4':'',\n                '5':'',\n                '6':'',\n            },\n            sixDigitList:[],\n            digit1:'',\n            digit2:'',\n            digit3:'',\n            digit4:'',\n            digit5:'',\n            digit6:'',\n            fullLength: true,\n            idError:'',\n            correctID:[1,2,3,4,5,6]\n        }\n    },\n    mounted(){\n        // console.log('mounted',this.$refs.digit1.value)\n        this.$refs.digit1.focus()\n    },\n    updated(){\n        this.checkSixDigit()\n        this.makeSixDigit()\n    },\n    watch:{\n        digit1:function(v) { if (v.length == 1) { this.$refs.digit2.focus() } },\n        digit2:function(v) { if (v.length <= 1) { this.$refs.digit3.focus() } },\n        digit3:function(v) { if (v.length <= 1) { this.$refs.digit4.focus() } },\n        digit4:function(v) { if (v.length <= 1) { this.$refs.digit5.focus() } },\n        digit5:function(v) { if (v.length <= 1) { this.$refs.digit6.focus() } },\n        digit6:function(v) { if (v.length <= 1) { this.$refs.bform.focus() } },\n        fullLength:function(v) {if (v == false) { this.$refs.bform.classList.add('button-hover')}\n        else{this.$refs.bform.classList.remove('button-hover')}},\n    },\n    methods:{\n        checkSixDigit(){\n            console.log('digimetho')\n            if (!isNaN(this.digit1)&&this.digit1!=''&&\n                !isNaN(this.digit2)&&this.digit2!=''&&\n                !isNaN(this.digit3)&&this.digit3!=''&&\n                !isNaN(this.digit4)&&this.digit4!=''&&\n                !isNaN(this.digit5)&&this.digit5!=''&&\n                !isNaN(this.digit6)&&this.digit6!=''){\n                    this.fullLength = false\n                }\n            else{this.fullLength = true}\n        },\n        makeSixDigit(){\n            this.sixDigit[1] = this.digit1\n            this.sixDigit[2] = this.digit2\n            this.sixDigit[3] = this.digit3\n            this.sixDigit[4] = this.digit4\n            this.sixDigit[5] = this.digit5\n            this.sixDigit[6] = this.digit6\n        },\n        makeSixDigitList(){\n            for (let i in this.sixDigit){\n                this.sixDigitList.push(Number(this.sixDigit[i]))\n            }\n        },\n        allclear(){\n            this.digit1 =''\n            this.digit2 =''\n            this.digit3 =''\n            this.digit4 =''\n            this.digit5 =''\n            this.digit6 =''\n\n        },\n        submitForm(){\n            // validate email\n            this.makeSixDigitList()\n            this.idError = this.arrayEqual(this.sixDigitList,this.correctID)?\n            '' : 'ID is not correct'\n            if (this.idError == ''){\n                this.$emit('handle')\n                this.$store.commit('addStep')\n            }else{\n                this.sixDigitList=[]\n                this.allclear()\n                this.$refs.digit1.focus()\n            }\n        },\n        arrayEqual(array1,array2){\n            if (!Array.isArray(array1))    return false;\n            if (!Array.isArray(array2))    return false;\n            if (array1.length != array2.length) return false;\n            for (var i = 0, n = array1.length; i < n; ++i) {\n                if (array1[i] !== array2[i]) return false;\n            }\n            return true;\n        },\n        // getClass(){\n        //     if (this.fullLength == false){\n        //         this.$refs.buttonHover.classList.add('button-hover')\n        //     }else{\n        //         this.$refs.buttonHover.classList.remove('button-hover')\n        //     }   \n        // },\n        // nextfocus(){\n        //     if (this.$refs.digit1.value!='' && this.sixDigit['1']==''){\n        //         this.$refs.digit1.blur()\n        //         this.$refs.digit2.focus()\n        //     }\n        //     else if(this.$refs.digit2.value!=''&& this.sixDigit['2']==''){\n        //             this.$refs.digit2.blur()\n        //             this.$refs.digit3.focus()\n        //     }\n        //     else if(this.$refs.digit3.value!=''){\n        //             this.$refs.digit3.blur()\n        //             this.$refs.digit4.focus()\n        //     }\n        //     else if(this.$refs.digit4.value!=''){\n        //             this.$refs.digit4.blur()\n        //             this.$refs.digit5.focus()\n        //     }\n        //     else if(this.$refs.digit5.value!=''){\n        //             this.$refs.digit5.blur()\n        //             this.$refs.digit6.focus()\n        //     }\n        //     else if(this.$refs.digit6.value!=''){\n        //             this.$refs.digit6.blur()\n        //             this.$refs.button-hover.focus()\n        //     }\n        // },\n        \n        // makeSixDigit(){\n        //     if(event.target.value != ''&& this.sixDigit.length < 6){\n        //         this.sixDigit.push(event.target.value)\n        //     }\n        // }\n    }\n}\n</script>\n\n<style lang='scss' scoped>\n    .id-wrapper{\n        width:100vw;\n        height:100vh;\n    }\n    .id-container{\n        display:flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        width:100%;\n        height:25rem;\n    }\n    .id-text{\n        color:white;    \n        margin-bottom:1rem;    \n    }\n    .id-form{\n        height: 15%;\n        margin-bottom:2rem; \n        \n    }\n    .digit{\n        width: 3rem; \n        height: 4rem;\n        border-radius: 0.8rem;\n        font-size:2.5rem;\n        text-align: center;\n    }\n    .error{\n        color:red;\n        text-align: center;\n        font-weight: bold;\n        margin-bottom:0.2rem;\n        border: 0.1rem solid red;\n        background:rgb(243, 214, 214);\n        width: 90%;\n        margin-left: auto;\n        margin-right: auto;\n        margin-top:1rem;\n        }\n    p {\n        color:white;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}