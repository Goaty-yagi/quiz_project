{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Cropper from 'cropperjs';\nexport default {\n  data: function data() {\n    return {\n      previewFile: '',\n      canvas: ''\n    };\n  },\n  props: ['selectedFile'],\n  beforeMount: function beforeMount() {\n    this.previewFile = this.selectedFile;\n  },\n  mounted: function mounted() {\n    console.log('cropperOpen', this.previewFile);\n    this.imageCropper();\n  },\n  methods: {\n    saveImg: function saveImg() {\n      this.canvas = this.cropper.getCroppedCanvas({\n        width: 160,\n        height: 90,\n        minCropBoxHeight: 300,\n        minCropBoxWidth: 300,\n        maxWidth: 4096,\n        maxHeight: 4096,\n        fillColor: '#fff',\n        imageSmoothingEnabled: false,\n        imageSmoothingQuality: 'high'\n      });\n      console.log(this.canvas);\n      this.$emit('getCanvas', this.canvas);\n      this.$emit('handleShowCropper');\n    },\n    imageCropper: function imageCropper() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.cropper = new Cropper(_this.$refs.image, {\n                  zoomable: false,\n                  scalable: false,\n                  zoomOnTouch: true,\n                  aspectRatio: 1,\n                  crop: function crop(event) {\n                    console.log(event.detail.x);\n                    console.log(event.detail.y);\n                    console.log(event.detail.width);\n                    console.log(event.detail.height);\n                    console.log(event.detail.rotate);\n                    console.log(event.detail.scaleX);\n                    console.log(event.detail.scaleY);\n                  }\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    chancel: function chancel() {\n      this.previewFile = null;\n      this.$emit('handleShowCropper');\n    }\n  }\n};","map":{"version":3,"mappings":";;AAaA,OAAOA,OAAP,MAAoB,WAApB;AACA,eAAe;EAEXC,IAFW,kBAEL;IACF,OAAM;MACFC,WAAW,EAAC,EADV;MAEFC,MAAM,EAAC;IAFL,CAAN;EAIH,CAPU;EAQXC,KAAK,EAAC,CACF,cADE,CARK;EAWXC,WAXW,yBAWE;IACT,KAAKH,WAAL,GAAmB,KAAKI,YAAxB;EACH,CAbU;EAcXC,OAdW,qBAcF;IACLC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B,KAAKP,WAA/B;IACA,KAAKQ,YAAL;EACH,CAjBU;EAkBXC,OAAO,EAAC;IACJC,OADI,qBACK;MACL,KAAKT,MAAL,GAAc,KAAKU,OAAL,CAAaC,gBAAb,CAA8B;QACxCC,KAAK,EAAE,GADiC;QAExCC,MAAM,EAAE,EAFgC;QAGxCC,gBAAgB,EAAE,GAHsB;QAIxCC,eAAe,EAAE,GAJuB;QAKxCC,QAAQ,EAAE,IAL8B;QAMxCC,SAAS,EAAE,IAN6B;QAOxCC,SAAS,EAAE,MAP6B;QAQxCC,qBAAqB,EAAE,KARiB;QASxCC,qBAAqB,EAAE;MATiB,CAA9B,CAAd;MAWAf,OAAO,CAACC,GAAR,CAAY,KAAKN,MAAjB;MACA,KAAKqB,KAAL,CAAW,WAAX,EAAwB,KAAKrB,MAA7B;MACA,KAAKqB,KAAL,CAAW,mBAAX;IACH,CAhBG;IAiBEd,YAjBF,0BAiBgB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAChB,KAAI,CAACG,OAAL,GAAe,IAAIb,OAAJ,CAAY,KAAI,CAACyB,KAAL,CAAWC,KAAvB,EAA8B;kBAC7CC,QAAQ,EAAE,KADmC;kBAE7CC,QAAQ,EAAE,KAFmC;kBAG7CC,WAAW,EAAE,IAHgC;kBAI7CC,WAAW,EAAE,CAJgC;kBAK7CC,IAL6C,gBAKxCC,KALwC,EAKjC;oBACJxB,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAaC,CAAzB;oBACA1B,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAaE,CAAzB;oBACA3B,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAalB,KAAzB;oBACAP,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAajB,MAAzB;oBACAR,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAaG,MAAzB;oBACA5B,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAaI,MAAzB;oBACA7B,OAAO,CAACC,GAAR,CAAYuB,KAAK,CAACC,MAAN,CAAaK,MAAzB;kBACH;gBAbwC,CAA9B,CAAf;;cADgB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAgBnB,CAjCG;IAkCJC,OAlCI,qBAkCK;MACL,KAAKrC,WAAL,GAAiB,IAAjB;MACA,KAAKsB,KAAL,CAAW,mBAAX;IACH;EArCG;AAlBG,CAAf","names":["Cropper","data","previewFile","canvas","props","beforeMount","selectedFile","mounted","console","log","imageCropper","methods","saveImg","cropper","getCroppedCanvas","width","height","minCropBoxHeight","minCropBoxWidth","maxWidth","maxHeight","fillColor","imageSmoothingEnabled","imageSmoothingQuality","$emit","$refs","image","zoomable","scalable","zoomOnTouch","aspectRatio","crop","event","detail","x","y","rotate","scaleX","scaleY","chancel"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/board/CropperField.vue"],"sourcesContent":["<template>\n    <div class='l-wrapper'>\n        <div class=\"cropper-outer-wrapper\" v-if=\"previewFile\">\n            <div class='cropper-wrapper'>\n                <img ref='image' :src=\"previewFile\">\n                <button class='save-button' v-if='previewFile' @click='chancel'>chancel</button>\n                <button @click=\"saveImg\">save</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Cropper from 'cropperjs';\nexport default {\n    \n    data(){\n        return{\n            previewFile:'',\n            canvas:''\n        }\n    },\n    props:[\n        'selectedFile',\n    ],\n    beforeMount(){\n        this.previewFile = this.selectedFile\n    },\n    mounted(){\n        console.log('cropperOpen',this.previewFile)\n        this.imageCropper()\n    },\n    methods:{\n        saveImg(){\n            this.canvas = this.cropper.getCroppedCanvas({\n                width: 160,\n                height: 90,\n                minCropBoxHeight: 300,\n                minCropBoxWidth: 300,\n                maxWidth: 4096,\n                maxHeight: 4096,\n                fillColor: '#fff',\n                imageSmoothingEnabled: false,\n                imageSmoothingQuality: 'high',\n            });\n            console.log(this.canvas)\n            this.$emit('getCanvas', this.canvas)\n            this.$emit('handleShowCropper')\n        },\n        async imageCropper(){\n            this.cropper = new Cropper(this.$refs.image, {\n            zoomable: false,\n            scalable: false,\n            zoomOnTouch: true,\n            aspectRatio: 1,\n            crop(event) {\n                    console.log(event.detail.x);\n                    console.log(event.detail.y);\n                    console.log(event.detail.width);\n                    console.log(event.detail.height);\n                    console.log(event.detail.rotate);\n                    console.log(event.detail.scaleX);\n                    console.log(event.detail.scaleY);\n                },\n            })\n        },\n        chancel(){\n            this.previewFile=null\n            this.$emit('handleShowCropper')\n        },\n    }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}