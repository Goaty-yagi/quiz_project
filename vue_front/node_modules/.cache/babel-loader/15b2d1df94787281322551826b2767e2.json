{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _typeof from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _objectSpread from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport axios from 'axios';\nimport { mapGetters, mapActions } from 'vuex';\nimport Result from '@/components/quiz_components/Result.vue';\nimport TestResult from '@/components/initial/TestResult.vue';\nimport { createHydrationRenderer } from '@vue/runtime-core';\nexport default {\n  components: {\n    Result: Result,\n    TestResult: TestResult\n  },\n  data: function data() {\n    return {\n      questionLengthForHTML: 1,\n      questionLengthCounter: 1,\n      SelectedAnswerInfo: {},\n      selectedAnswer: {},\n      answerIDAndOrder: {},\n      showResult: false,\n      showNextOrFinishButton: false,\n      result: false,\n      countupDict: {\n        answerID: '',\n        questionID: '',\n        questionType: ''\n      },\n      pagination: {\n        a: 0,\n        b: 1\n      },\n      resultHandleDict: {\n        isCorrect: false,\n        IsNotCorrect: false,\n        answerIDType3: '',\n        questionType4: false,\n        answerAllTrueType4: false,\n        answerIDType4: '',\n        answerIDType5: ''\n      },\n      maxSelectReach: false,\n      // currentQuestionType:{\n      //     select: false,\n      //     manySelect: false,\n      //     order: false\n      // },\n      selectedIndexNum: null,\n      showSelectNum: true,\n      selectedOrderAnswer: {},\n      selectAnswerCounter: 0,\n      NumOfIscorrect: 0,\n      // here for status attribute\n      userStatusDict: {\n        status: '',\n        isCorrect: 0,\n        isFalse: 0\n      },\n      // from here for test attributes\n      quizTestInfo: {\n        level: '',\n        quizId: 4\n      },\n      LevelCounters: {\n        handleLevelUp: 0,\n        handleLevelDown: 0\n      },\n      finalResult: {\n        grade: '',\n        level: ''\n      },\n      finishTest: false,\n      currentLevel: 1,\n      currentGrade: \"\",\n      correctAnswer: {},\n      startGradeAndLevel: {\n        grade: '',\n        level: ''\n      },\n      tempStatusDict: {\n        'status': [],\n        'grade': '',\n        'level': ''\n      },\n      setQuizAndLevel: {\n        'quizId': '',\n        'level': ''\n      },\n      gradeList: ['超初級', '初級', '中級', '上級']\n    };\n  },\n  created: function created() {\n    console.log(\"created\");\n    this.$store.dispatch('setQuizIdAndlevelAction'); // this.getquiz()\n\n    this.getTestQuestions();\n  },\n  mounted: function mounted() {\n    this.startGradeAndLevel.grade = this.quizTakerObject.grade;\n    this.startGradeAndLevel.level = this.quizTakerObject.level;\n    this.quizTestInfo.quizId = this.quizTakerObject.grade;\n    this.currentGrade = this.quizTakerObject.grade;\n    console.log('mounted', this.quizTestInfo.quizId, this.currentGrade);\n    this.currentLevel = this.quizTakerObject.level;\n    this.$store.commit('onQuizTrue');\n    this.SelectedAnswerInfo = {};\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.$store.commit('onQuizFalse');\n  },\n  computed: mapGetters(['questions', 'quiz', 'quizTakerObject', 'gradeForConvert']),\n  methods: _objectSpread(_objectSpread({}, mapActions(['getTestQuestions'])), {}, {\n    nextQuestion: function nextQuestion(questionType, questionID) {\n      this.handleCountUpDict(this.selectedAnswer, questionType, questionID);\n      this.pagination.a += 1;\n      this.pagination.b += 1;\n      this.selectedIndexNum = null;\n      this.showNextOrFinishButton = false;\n      this.selectAnswerHandler(questionType);\n      this.setTempStatusDict();\n      this.questionLengthCounter += 1;\n      this.questionLengthForHTML += 1;\n      this.checkConsecutiveResult();\n      this.NumOfIscorrect = 0;\n      this.maxSelectReach = false;\n      this.selectedOrderAnswer = {};\n      this.selectedAnswer = {};\n      this.answerIDAndOrder = {};\n      this.selectAnswerCounter = 0;\n      console.log(\"CCC\", this.SelectedAnswerInfo, 'current', this.currentLevel);\n      this.scrollTop();\n    },\n    onClick: function onClick(answerindex, answer, question) {\n      // this is for 2 things,\n      // first is for controling CSS return selectedIndexNum\n      // which used for questionType 3, and selectedOrderAnswer\n      // which used for questionType 4 and 5.\n      // second is for selected-answer and is_correct.\n      // return selectedAnswer for questionType 3.\n      // for questionType 4, use getAnswerIDAndOrder function.\n      // for questionType 5, use getIDAndIsCorrect function.\n      if (question.question_type == 3) {\n        if (this.selectedIndexNum == answerindex) {\n          this.selectedIndexNum = null;\n          this.selectedAnswer = {};\n          this.showNextOrFinishButton = false;\n        } else {\n          this.selectedIndexNum = answerindex;\n          this.selectedAnswer['answerID'] = answer.id;\n          this.selectedAnswer['isCorrect'] = answer.is_correct;\n          this.handleShowNextOrFinishButton();\n        }\n      } else if (question.question_type == 4) {\n        console.log(\"in No4 DELETE\");\n\n        if (this.selectedOrderAnswer[answerindex + 1]) {\n          this.selectedOrderAnswer = this.changeOrder(this.selectedOrderAnswer, answerindex + 1);\n          this.getAnswerIDAndOrder(answer.answer_id, this.selectAnswerCounter);\n          this.selectAnswerCounter -= 1;\n          this.showNextOrFinishButton = false;\n        } else {\n          console.log(\"in No4 ADD\");\n          this.selectAnswerCounter += 1;\n          this.selectedOrderAnswer[answerindex + 1] = this.selectAnswerCounter;\n          this.getAnswerIDAndOrder(answer.answer_id, this.selectAnswerCounter);\n          console.log(\"Onclick-No4\", Object.keys(this.selectedOrderAnswer).length, question.length);\n\n          if (Object.keys(this.selectedOrderAnswer).length == question.answer.length) {\n            this.handleShowNextOrFinishButton();\n          }\n        }\n      } else if (question.question_type == 5) {\n        console.log(\"on click_type5 question\", question);\n        this.getNumOfIscorrect(question.answer);\n\n        if (this.selectedOrderAnswer[answerindex + 1]) {\n          this.selectedOrderAnswer = this.changeOrder(this.selectedOrderAnswer, answerindex + 1); // console.log('SOA',this.selectedOrderAnswer)\n\n          this.getIDAndIsCorrect(answer.id, answer.is_correct);\n          this.selectAnswerCounter -= 1;\n\n          if (question.max_select) {\n            if (Object.keys(this.selectedOrderAnswer).length < question.max_select) {\n              this.showNextOrFinishButton = false;\n              this.maxSelectReach = false;\n            }\n          } else if (Object.keys(this.selectedOrderAnswer).length == 0) {\n            this.showNextOrFinishButton = false;\n          }\n        } else {\n          this.selectAnswerCounter += 1;\n          this.selectedOrderAnswer[answerindex + 1] = this.selectAnswerCounter;\n          this.getIDAndIsCorrect(answer.id, answer.is_correct);\n\n          if (question.max_select) {\n            if (Object.keys(this.selectedOrderAnswer).length == question.max_select) {\n              this.handleShowNextOrFinishButton();\n              this.maxSelectReach = true;\n            }\n          } else {\n            this.handleShowNextOrFinishButton();\n          }\n        }\n      }\n    },\n    changeOrder: function changeOrder(dict, index) {\n      // if deleted, the num or nums before the deleted items order num\n      // change\n      var orderNum = dict[index];\n      delete dict[index];\n\n      if (dict) {\n        var changeDict = {};\n        Object.keys(dict).forEach(function (key) {\n          if (dict[key] > orderNum) {\n            dict[key] -= 1;\n          }\n        });\n      }\n\n      return dict;\n    },\n    selectAnswerHandler: function selectAnswerHandler(questionType) {\n      var _this = this;\n\n      // this is get informations about selected-answer for result component\n      // return SelectedAnswerInfo\n      if (questionType == 3) {\n        this.SelectedAnswerInfo[this.questionLengthCounter] = {};\n        this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType;\n        this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = this.selectedAnswer.isCorrect;\n        this.handleUserStatus(this.selectedAnswer.isCorrect);\n        this.SelectedAnswerInfo[this.questionLengthCounter]['answerID'] = this.selectedAnswer.answerID;\n      } else if (questionType == 4) {\n        this.SelectedAnswerInfo[this.questionLengthCounter] = {};\n        this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType;\n        var stringKeys = Object.keys(this.answerIDAndOrder[this.questionLengthCounter]).map(function (a) {\n          return Number(a);\n        });\n\n        if (JSON.stringify(stringKeys) == JSON.stringify(Object.values(this.answerIDAndOrder[this.questionLengthCounter]))) {\n          this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = true;\n          this.handleUserStatus(true);\n        } else {\n          this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = false;\n          this.handleUserStatus(false);\n        }\n\n        this.makeOrderBoolean();\n        this.SelectedAnswerInfo[this.questionLengthCounter]['orderAnswer'] = this.answerIDAndOrder;\n      } else if (questionType == 5) {\n        this.SelectedAnswerInfo[this.questionLengthCounter] = {};\n        this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType;\n        var isCorrectCounter = 0;\n        var type5IsCorrect = true;\n        Object.values(this.selectedAnswer).forEach(function (value) {\n          if (value == false) {\n            _this.SelectedAnswerInfo[_this.questionLengthCounter]['isCorrect'] = false;\n\n            _this.handleUserStatus(false);\n\n            type5IsCorrect = false;\n          } else {\n            isCorrectCounter += 1;\n          }\n        });\n        console.log('SAH', this.NumOfIscorrect, isCorrectCounter);\n\n        if (this.NumOfIscorrect == isCorrectCounter && type5IsCorrect) {\n          this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = true;\n          this.handleUserStatus(true);\n        } else if (type5IsCorrect == false && isCorrectCounter > 0) {\n          this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = null;\n          this.handleUserStatus(false);\n        } // else if(this.maxSelectReach){\n        //     this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = null\n        // }\n\n\n        this.SelectedAnswerInfo[this.questionLengthCounter]['selectedAnswer'] = this.selectedAnswer;\n      }\n    },\n    getAnswerIDAndOrder: function getAnswerIDAndOrder(answerID, orderNum) {\n      // this is for collecting answer from questionType 4\n      console.log(\"GAID\");\n\n      if (this.questionLengthCounter in this.answerIDAndOrder) {\n        console.log(\"first-IF TRUE\", this.questionLengthCounter, this.answerIDAndOrder);\n        console.log(\"sono2daze\", orderNum, this.answerIDAndOrder[this.questionLengthCounter]);\n\n        if (orderNum in this.answerIDAndOrder[this.questionLengthCounter]) {\n          this.answerIDAndOrder[this.questionLengthCounter] = this.changeOrder(this.answerIDAndOrder[this.questionLengthCounter], orderNum);\n        } else {\n          this.answerIDAndOrder[this.questionLengthCounter][orderNum] = answerID;\n        }\n      } else {\n        this.answerIDAndOrder[this.questionLengthCounter] = {};\n        this.answerIDAndOrder[this.questionLengthCounter][orderNum] = answerID;\n      }\n    },\n    makeOrderBoolean: function makeOrderBoolean() {\n      // this is for AnswerIDAndOrder{1:1} to be {1:true}\n      var newDict = {};\n      var IntegerKeys = Object.keys(this.answerIDAndOrder[this.questionLengthCounter]).map(function (a) {\n        return Number(a);\n      });\n\n      for (var i = 0; i < IntegerKeys.length; i++) {\n        if (IntegerKeys[i] == Object.values(this.answerIDAndOrder[this.questionLengthCounter])[i]) {\n          newDict[i + 1] = true;\n        } else {\n          newDict[i + 1] = false;\n        }\n      }\n\n      this.answerIDAndOrder = newDict; // stringKeys.forEach(num =>{\n      //     Object.values(this.answerIDAndOrder[this.questionLengthCounter]).forEach(value =>{\n      //         if(num == )\n      //     })\n      // })\n    },\n    getIDAndIsCorrect: function getIDAndIsCorrect(id, isCorrect) {\n      // this is for questionType 5 \n      if (id in this.selectedAnswer) {\n        delete this.selectedAnswer[id];\n        console.log(id, \"deleted\", this.selectedAnswer);\n      } else {\n        this.selectedAnswer[id] = isCorrect;\n        console.log(id, \"added\", this.selectedAnswer);\n      }\n    },\n    getNumOfIscorrect: function getNumOfIscorrect(answers) {\n      var _this2 = this;\n\n      // this is for questionType 5\n      console.log('inGNOI', this.NumOfIscorrect, answers);\n\n      if (this.NumOfIscorrect == false) {\n        console.log('Gp');\n        Object.values(answers).forEach(function (value) {\n          if (value.is_correct) {\n            _this2.NumOfIscorrect += 1;\n          }\n        });\n      }\n    },\n    handleShowNextOrFinishButton: function handleShowNextOrFinishButton() {\n      this.showNextOrFinishButton = true;\n    },\n    resultAnswerHandler: function resultAnswerHandler() {\n      var _this3 = this;\n\n      if (this.result) {\n        this.resultHandleDict.isCorrect = false;\n        this.resultHandleDict.isNotCorrect = false;\n        this.resultHandleDict.answerAllTrueType4 = false;\n        this.resultHandleDict.questionType4 = false;\n        this.resultHandleDict.answerIDType3 = '';\n        this.resultHandleDict.answerIDType4 = '';\n        this.resultHandleDict.answerIDType5 = '';\n        Object.keys(this.SelectedAnswerInfo).forEach(function (key) {\n          if (key == _this3.questionLengthCounter) {\n            console.log(\"currentType\", _this3.SelectedAnswerInfo[key].questionType, _this3.SelectedAnswerInfo[key].isCorrect);\n\n            if (_this3.SelectedAnswerInfo[key].isCorrect) {\n              if (_this3.SelectedAnswerInfo[key].questionType == 4) {\n                _this3.resultHandleDict.answerAllTrueType4 = true;\n              } else if (_this3.SelectedAnswerInfo[key].questionType == 5) {\n                _this3.resultHandleDict.answerIDType5 = _this3.SelectedAnswerInfo[key].selectedAnswer;\n              }\n\n              _this3.resultHandleDict.isCorrect = true;\n            } else if (_this3.SelectedAnswerInfo[key].isCorrect == false && _this3.SelectedAnswerInfo[key].questionType == 3) {\n              _this3.resultHandleDict.isCorrect = true;\n              _this3.resultHandleDict.isNotCorrect = true;\n              _this3.resultHandleDict.answerIDType3 = _this3.SelectedAnswerInfo[key].answerID;\n            } else if (_this3.SelectedAnswerInfo[key].questionType == 5) {\n              console.log(\"in type5\");\n              _this3.resultHandleDict.isCorrect = true;\n              _this3.resultHandleDict.isNotCorrect = true;\n              _this3.resultHandleDict.answerIDType5 = _this3.SelectedAnswerInfo[key].selectedAnswer;\n              console.log(\"type5\", _this3.resultHandleDict.answerIDType5);\n            } else if (_this3.SelectedAnswerInfo[key].isCorrect == false && _this3.SelectedAnswerInfo[key].questionType == 4) {\n              _this3.resultHandleDict.questionType4 = true;\n              _this3.resultHandleDict.isCorrect = true;\n              _this3.resultHandleDict.isNotCorrect = true;\n              _this3.resultHandleDict.answerIDType4 = _this3.SelectedAnswerInfo[key].orderAnswer;\n            }\n          }\n        });\n      }\n    },\n    type3And5CheckResult: function type3And5CheckResult(selectedAnswer5, selectedAnswer3, answerID) {\n      // console.log(selectedAnswer, answerID)\n      if (this.result) {\n        console.log(\"type\", this.SelectedAnswerInfo[this.questionLengthCounter].questionType, \"5\", selectedAnswer5, \"3\", selectedAnswer3, answerID, this.questionLengthCounter);\n\n        if (this.SelectedAnswerInfo[this.questionLengthCounter].questionType == 5) {\n          console.log(\"go\");\n\n          if (answerID in selectedAnswer5) {\n            return true;\n          } else {\n            return false;\n          }\n        } else if (this.SelectedAnswerInfo[this.questionLengthCounter].questionType == 3) {\n          if (answerID == selectedAnswer3) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    },\n    handlePagination: function handlePagination(a, b) {\n      // this is for result component\n      console.log(\"HP\", a, b);\n      this.pagination.a = a;\n      this.pagination.b = b;\n      this.questionLengthCounter = b;\n    },\n    handleCountUpDict: function handleCountUpDict(selectedAnswer, questionType, questionID) {\n      var _this4 = this;\n\n      this.countupDict.questionType = questionType;\n      this.countupDict.questionID = questionID;\n\n      if (questionType == 5) {\n        this.countupDict.answerID = Object.keys(selectedAnswer);\n      } else if (questionType == 3) {\n        Object.keys(selectedAnswer).forEach(function (key) {\n          if (key = \"answerID\") {\n            _this4.countupDict.answerID = selectedAnswer[key];\n          }\n        });\n      }\n\n      this.$store.dispatch('countUpAnswerAndQuestion', this.countupDict);\n    },\n    HandleShowResult: function HandleShowResult() {\n      this.showResult = !this.showResult;\n    },\n    handleResult: function handleResult() {\n      this.result = !this.result;\n    },\n    handleUserStatus: function handleUserStatus(selectedAnswer) {\n      // this is for only is_true and is_false\n      console.log(selectedAnswer);\n      this.userStatusDict.isCorrect = 0;\n      this.userStatusDict.isFalse = 0;\n\n      if (selectedAnswer) {\n        this.userStatusDict.isCorrect = 1;\n      } else {\n        this.userStatusDict.isFalse = 1;\n      }\n\n      this.$store.dispatch('userStatusPost', this.userStatusDict);\n      console.log('HUS', this.userStatusDict);\n    },\n    getQuestionStatus: function getQuestionStatus(lavel, status) {\n      this.userStatusDict.status = status;\n      return lavel;\n    },\n    resultNext: function resultNext() {\n      this.pagination.a += 1;\n      this.pagination.b += 1;\n      this.questionLengthCounter += 1;\n      this.resultAnswerHandler();\n      this.scrollTop();\n    },\n    resultBack: function resultBack() {\n      this.pagination.a -= 1;\n      this.pagination.b -= 1;\n      this.questionLengthCounter -= 1;\n      this.resultAnswerHandler();\n      this.scrollTop();\n    },\n    scrollTop: function scrollTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    },\n    setTempStatusDict: function setTempStatusDict() {\n      console.log('IN-setSD', this.tempStatusDict, this.userStatusDict);\n\n      var _ = require('lodash');\n\n      var copyObject = _.cloneDeep(this.userStatusDict);\n\n      if (!this.tempStatusDict.status[0]) {\n        this.tempStatusDict.status.push(copyObject);\n        console.log('pushed');\n      } else {\n        for (var i in this.tempStatusDict.status) {\n          console.log('loop', i, _typeof(i), this.tempStatusDict.status[i].status, copyObject.status);\n\n          if (this.tempStatusDict.status[i].status == copyObject.status) {\n            console.log('true', this.tempStatusDict);\n\n            if (copyObject.isCorrect) {\n              console.log('correct');\n              this.tempStatusDict.status[i].isCorrect += 1;\n              console.log('correct', this.tempStatusDict);\n              break;\n            } else {\n              console.log('notcorrect');\n              this.tempStatusDict.status[i].isFalse += 1;\n              console.log('notcorrect', this.tempStatusDict);\n              break;\n            }\n          } else {\n            console.log('false', i, this.tempStatusDict.status.length - 1);\n\n            if (Number(i) == this.tempStatusDict.status.length - 1) {\n              this.tempStatusDict.status.push(copyObject);\n              console.log('pushed2', this.tempStatusDict.status);\n            }\n          }\n        }\n      }\n    },\n    // from here for test function\n    quizTestInfoHandler: function quizTestInfoHandler() {\n      console.log('in-QTIH', _typeof(this.currentLevel), this.currentLevel, this.quizTestInfo.grade);\n\n      if (this.currentLevel >= 11) {\n        console.log('over 11');\n        this.currentLevel = 1;\n        console.log('CL', this.currentLevel);\n\n        var _iterator = _createForOfIteratorHelper(this.gradeList.entries()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                index = _step$value[0],\n                i = _step$value[1];\n\n            console.log('i', i, 'index', index);\n            this.$store.commit('convertGradeFromIntToID', i);\n            console.log(this.gradeForConvert, this.currentGrade);\n\n            if (this.gradeForConvert == this.currentGrade) {\n              this.$store.commit('convertGradeFromIntToID', this.gradeList[index + 1]);\n              this.quizTestInfo.quizId = this.gradeForConvert;\n              this.currentGrade = this.gradeForConvert;\n              console.log(\"info\", this.quizTestInfo);\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else if (this.currentLevel == 0) {\n        this.currentLevel = 10;\n\n        var _iterator2 = _createForOfIteratorHelper(this.gradeList.entries()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _step2$value = _slicedToArray(_step2.value, 2),\n                _index = _step2$value[0],\n                _i = _step2$value[1];\n\n            this.$store.commit('convertGradeFromIntToID', _i);\n            console.log(this.gradeForConvert, this.currentGrade);\n\n            if (this.gradeForConvert == this.currentGrade) {\n              this.$store.commit('convertGradeFromIntToID', this.gradeList[_index - 1]);\n              this.quizTestInfo.quizId = this.gradeForConvert;\n              this.currentGrade = this.gradeForConvert;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n\n      console.log(\"do nothing\");\n    },\n    checkConsecutiveResult: function checkConsecutiveResult() {\n      var correctCounter = 0;\n      console.log('SS', this.SelectedAnswerInfo);\n\n      if (Object.keys(this.SelectedAnswerInfo).length >= 4) {\n        if (Object.keys(this.SelectedAnswerInfo).length == 10) {\n          var isTrue = 0;\n          var isFalse = 0;\n\n          for (var i = 1; i <= 10; i++) {\n            if (this.SelectedAnswerInfo[i].isCorrect) {\n              isTrue += 1;\n            } else {\n              isFalse += 1;\n            }\n          }\n\n          console.log(\"isT\", isTrue);\n          console.log(\"isF\", isFalse);\n\n          if (isTrue >= 7) {\n            this.LevelCounters.handleLevelUp += 1;\n            this.currentLevel += 1;\n            this.quizTestInfoHandler();\n\n            if (this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown == 3) {\n              this.finishTest = true;\n              this.getFinalResult();\n              this.LevelCounters.handleLevelUp = 0;\n              this.LevelCounters.handleLevelDown = 0;\n            } else {\n              this.quizTestInfo.level = this.currentLevel;\n              this.$store.commit('getTestQuizInfo', this.quizTestInfo);\n              this.getTestQuestions();\n              this.pagination.a = 0;\n              this.pagination.b = 1;\n              this.SelectedAnswerInfo = {};\n              correctCounter = 0;\n              this.questionLengthCounter = 1;\n            }\n          } else if (isTrue > 4 && isTrue < 7) {\n            this.finishTest = true;\n            this.getFinalResult();\n            this.LevelCounters.handleLevelUp = 0;\n            this.LevelCounters.handleLevelDown = 0;\n          } else {\n            console.log(\"IT\", isTrue);\n            this.LevelCounters.handleLevelDown += 1;\n            this.$store.commit('convertGradeFromIntToID', this.gradeList[0]);\n            console.log('CG', this.currentGrade, 'CON', this.gradeForConvert, 'CL', this.currentLevel);\n            console.log(this.currentGrade != this.gradeForConvert && this.currentLevel != 1);\n            console.log(this.currentGrade != this.gradeForConvert, this.currentLevel != 1);\n\n            if (this.currentGrade != this.gradeForConvert) {\n              console.log(\"dpwn start\");\n              this.currentLevel -= 1;\n              this.quizTestInfoHandler();\n\n              if (this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown == 3) {\n                this.finishTest = true;\n                this.getFinalResult();\n                this.LevelCounters.handleLevelUp = 0;\n                this.LevelCounters.handleLevelDown = 0;\n              } else {\n                this.quizTestInfo.level = this.currentLevel;\n                this.$store.commit('getTestQuizInfo', this.quizTestInfo);\n                this.getTestQuestions();\n                correctCounter = 0;\n                this.pagination.a = 0;\n                this.pagination.b = 1;\n                this.questionLengthCounter = 1;\n                this.SelectedAnswerInfo = {};\n              }\n            } else {\n              console.log('no more low level');\n            }\n          }\n\n          if (this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown == 3) {\n            this.finishTest = true;\n            this.getFinalResult();\n            this.LevelCounters.handleLevelUp = 0;\n            this.LevelCounters.handleLevelDown = 0;\n          }\n        } else {\n          console.log(\"longer than 4\");\n          var num4 = 0;\n          num4 = Object.keys(this.SelectedAnswerInfo).length - 4; // check correct answer 4 times in a row\n\n          for (var _i2 = 1; _i2 <= 4; _i2++) {\n            console.log(\"forloop\", this.SelectedAnswerInfo);\n\n            if (this.SelectedAnswerInfo[_i2 + num4].isCorrect) {\n              correctCounter += 1;\n            }\n          }\n\n          if (correctCounter == 4) {\n            console.log(\"correct4\", this.LevelCounters.handleLevelUp, this.LevelCounters.handleLevelDown);\n            this.LevelCounters.handleLevelUp += 1;\n\n            if (this.LevelCounters.handleLevelUp >= 3 && this.LevelCounters.handleLevelDown == 0) {\n              this.finishTest = true;\n              this.getFinalResult();\n              this.LevelCounters.handleLevelUp = 0;\n            } else if (this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown == 3) {\n              console.log(\"quiz done\", this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown);\n              this.finishTest = true;\n              this.getFinalResult();\n              this.LevelCounters.handleLevelUp = 0;\n              this.LevelCounters.handleLevelDown = 0;\n            } else {\n              console.log('UP');\n              this.currentLevel += 1;\n              this.quizTestInfoHandler();\n              this.quizTestInfo.level = this.currentLevel;\n              this.$store.commit('getTestQuizInfo', this.quizTestInfo);\n              this.getTestQuestions();\n              this.pagination.a = 0;\n              this.pagination.b = 1;\n              this.SelectedAnswerInfo = {};\n              correctCounter = 0;\n              this.questionLengthCounter = 1;\n            }\n          } else if (correctCounter == 0) {\n            console.log(\"zeroCA\");\n            this.$store.commit('convertGradeFromIntToID', this.gradeList[0]);\n\n            if (this.currentLevel == 1 && this.currentGrade == this.gradeForConvert) {\n              console.log(\"no more low level\");\n              this.finishTest = true;\n              this.getFinalResult();\n              this.LevelCounters.handleLevelUp = 0;\n              this.LevelCounters.handleLevelDown = 0;\n            } else {\n              this.LevelCounters.handleLevelDown += 1;\n              console.log(\"in down-part\", this.LevelCounters.handleLevelUp, this.LevelCounters.handleLevelDown);\n\n              if (this.LevelCounters.handleLevelDown >= 3 && this.LevelCounters.handleLevelUp == 0) {\n                this.finishTest = true;\n                this.getFinalResult();\n                this.LevelCounters.handleLevelDown = 0;\n              } else if (this.LevelCounters.handleLevelUp + this.LevelCounters.handleLevelDown == 3) {\n                this.finishTest = true;\n                this.getFinalResult();\n                this.LevelCounters.handleLevelUp = 0;\n                this.LevelCounters.handleLevelDown = 0;\n              } else {\n                console.log('down', this.currentLevel);\n                this.currentLevel -= 1;\n                this.quizTestInfoHandler();\n                this.quizTestInfo.level = this.currentLevel;\n                this.$store.commit('getTestQuizInfo', this.quizTestInfo);\n                this.getTestQuestions();\n                correctCounter = 0;\n                this.pagination.a = 0;\n                this.pagination.b = 1;\n                this.questionLengthCounter = 1;\n                this.SelectedAnswerInfo = {};\n              }\n            }\n          }\n        }\n      }\n    },\n    updateQuizTaker: function updateQuizTaker() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('UQT', _this5.$store.state.signup.djangoUser.quiz_taker);\n\n                _this5.$store.commit(\"convertGradeFromIntToID\", _this5.finalResult.grade);\n\n                _context.next = 4;\n                return axios.patch(\"api/quiz-taker-test/?quiz_taker=\".concat(_this5.$store.getters.quizTaker, \"&grade=\").concat(_this5.currentGrade, \"&level=\").concat(_this5.finalResult.level));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getFinalResult: function getFinalResult() {\n      console.log(\"GFR\", this.currentGrade);\n      this.$store.commit('convertGradeFromIDToInt', this.currentGrade);\n      this.finalResult.grade = this.gradeForConvert;\n      console.log('final_grade', this.gradeForConvert);\n      this.finalResult.level = this.currentLevel;\n      this.tempStatusDict.level = this.currentLevel;\n      this.$store.dispatch('convertGradeFromIntToIDForNewUser', this.currentGrade);\n      this.tempStatusDict.grade = this.$store.getters.gradeForConvert;\n      this.tempStatusDict.grade = this.$store.state.quiz.gradeForConvert;\n\n      if (!this.tempStatusDict.grade) {\n        // 4 is 超初級. it might be chainge\n        this.tempStatusDict.grade = 4;\n      }\n\n      var payload = {\n        grade: this.currentGrade,\n        level: this.currentLevel\n      };\n      this.$store.dispatch('updateQuizTakerAction', payload); // this.$store.commit('setTempUser',this.tempStatusDict)\n      // this.$store.commit('tempUserTestTrue')\n\n      this.updateQuizTaker();\n      this.$store.commit('convertGradeFromIDToInt', this.startGradeAndLevel.grade);\n      console.log('int', this.gradeForConvert);\n    }\n  })\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AAqGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EAAmBC,UAAnB,QAAoC,MAApC;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,SAASC,uBAAT,QAAwC,mBAAxC;AAEA,eAAe;EACXC,UAAU,EAAE;IACZH,MAAM,EAANA,MADY;IAEZC,UAAS,EAATA;EAFY,CADD;EAKXG,IALW,kBAKL;IACF,OAAM;MACFC,qBAAqB,EAAC,CADpB;MAEFC,qBAAqB,EAAC,CAFpB;MAGFC,kBAAkB,EAAC,EAHjB;MAIFC,cAAc,EAAE,EAJd;MAKFC,gBAAgB,EAAC,EALf;MAMFC,UAAU,EAAE,KANV;MAOFC,sBAAsB,EAAC,KAPrB;MAQFC,MAAM,EAAE,KARN;MASFC,WAAW,EAAC;QACRC,QAAQ,EAAC,EADD;QAERC,UAAU,EAAC,EAFH;QAGRC,YAAY,EAAC;MAHL,CATV;MAcFC,UAAU,EAAC;QACPC,CAAC,EAAE,CADI;QAEPC,CAAC,EAAE;MAFI,CAdT;MAkBFC,gBAAgB,EAAC;QACbC,SAAS,EAAE,KADE;QAEbC,YAAY,EAAE,KAFD;QAGbC,aAAa,EAAE,EAHF;QAIbC,aAAa,EAAE,KAJF;QAKbC,kBAAkB,EAAE,KALP;QAMbC,aAAa,EAAE,EANF;QAObC,aAAa,EAAE;MAPF,CAlBf;MA4BFC,cAAc,EAAE,KA5Bd;MA6BF;MACA;MACA;MACA;MACA;MACAC,gBAAgB,EAAE,IAlChB;MAmCFC,aAAa,EAAE,IAnCb;MAoCFC,mBAAmB,EAAC,EApClB;MAqCFC,mBAAmB,EAAC,CArClB;MAsCFC,cAAc,EAAC,CAtCb;MAuCF;MACAC,cAAc,EAAC;QACXC,MAAM,EAAC,EADI;QAEXd,SAAS,EAAC,CAFC;QAGXe,OAAO,EAAC;MAHG,CAxCb;MA6CF;MACAC,YAAY,EAAC;QACTC,KAAK,EAAC,EADG;QAETC,MAAM,EAAC;MAFE,CA9CX;MAkDFC,aAAa,EAAC;QACVC,aAAa,EAAC,CADJ;QAEVC,eAAe,EAAC;MAFN,CAlDZ;MAsDFC,WAAW,EAAC;QACRC,KAAK,EAAC,EADE;QAERN,KAAK,EAAC;MAFE,CAtDV;MA0DFO,UAAU,EAAC,KA1DT;MA2DFC,YAAY,EAAC,CA3DX;MA4DFC,YAAY,EAAC,EA5DX;MA6DFC,aAAa,EAAC,EA7DZ;MA8DFC,kBAAkB,EAAC;QACfL,KAAK,EAAC,EADS;QAEfN,KAAK,EAAC;MAFS,CA9DjB;MAkEFY,cAAc,EAAC;QACX,UAAS,EADE;QAEX,SAAQ,EAFG;QAGX,SAAQ;MAHG,CAlEb;MAuEFC,eAAe,EAAC;QACZ,UAAS,EADG;QAEZ,SAAQ;MAFI,CAvEd;MA2EFC,SAAS,EAAC,CACN,KADM,EAEN,IAFM,EAGN,IAHM,EAIN,IAJM;IA3ER,CAAN;EAkFH,CAxFU;EAyFXC,OAzFW,qBAyFF;IACLC,OAAO,CAACC,GAAR,CAAY,SAAZ;IACA,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,yBAArB,EAFK,CAGL;;IACA,KAAKC,gBAAL;EACH,CA9FU;EA+FXC,OA/FW,qBA+FF;IACL,KAAKV,kBAAL,CAAwBL,KAAxB,GAAgC,KAAKgB,eAAL,CAAqBhB,KAArD;IACA,KAAKK,kBAAL,CAAwBX,KAAxB,GAAgC,KAAKsB,eAAL,CAAqBtB,KAArD;IACA,KAAKD,YAAL,CAAkBE,MAAlB,GAA2B,KAAKqB,eAAL,CAAqBhB,KAAhD;IACA,KAAKG,YAAL,GAAoB,KAAKa,eAAL,CAAqBhB,KAAzC;IACAU,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKlB,YAAL,CAAkBE,MAAxC,EAA+C,KAAKQ,YAApD;IACA,KAAKD,YAAL,GAAoB,KAAKc,eAAL,CAAqBtB,KAAzC;IACA,KAAKkB,MAAL,CAAYK,MAAZ,CAAmB,YAAnB;IACA,KAAKtD,kBAAL,GAA0B,EAA1B;EACH,CAxGU;EAyGXuD,aAzGW,2BAyGI;IACX,KAAKN,MAAL,CAAYK,MAAZ,CAAmB,aAAnB;EACH,CA3GU;EA4GXE,QAAQ,EAAEjE,UAAU,CAAC,CAAC,WAAD,EAAa,MAAb,EAAqB,iBAArB,EAAwC,iBAAxC,CAAD,CA5GT;EA6GXkE,OAAO,kCACAjE,UAAU,CAAC,CAAC,kBAAD,CAAD,CADV;IAEHkE,YAFG,wBAEUjD,YAFV,EAEuBD,UAFvB,EAEkC;MACjC,KAAKmD,iBAAL,CAAuB,KAAK1D,cAA5B,EAA2CQ,YAA3C,EAAwDD,UAAxD;MACA,KAAKE,UAAL,CAAgBC,CAAhB,IAAqB,CAArB;MACA,KAAKD,UAAL,CAAgBE,CAAhB,IAAqB,CAArB;MACA,KAAKU,gBAAL,GAAuB,IAAvB;MACA,KAAKlB,sBAAL,GAA8B,KAA9B;MACA,KAAKwD,mBAAL,CACInD,YADJ;MAGA,KAAKoD,iBAAL;MACA,KAAK9D,qBAAL,IAA8B,CAA9B;MACA,KAAKD,qBAAL,IAA8B,CAA9B;MACA,KAAKgE,sBAAL;MACA,KAAKpC,cAAL,GAAsB,CAAtB;MACA,KAAKL,cAAL,GAAsB,KAAtB;MACA,KAAKG,mBAAL,GAA2B,EAA3B;MACA,KAAKvB,cAAL,GAAsB,EAAtB;MACA,KAAKC,gBAAL,GAAwB,EAAxB;MACA,KAAKuB,mBAAL,GAA2B,CAA3B;MACAsB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKhD,kBAAvB,EAA0C,SAA1C,EAAoD,KAAKuC,YAAzD;MACA,KAAKwB,SAAL;IACH,CAvBE;IAwBHC,OAxBG,mBAwBKC,WAxBL,EAwBkBC,MAxBlB,EAwB0BC,QAxB1B,EAwBmC;MAClC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAGA,QAAQ,CAACC,aAAT,IAA0B,CAA7B,EAA+B;QAC3B,IAAG,KAAK9C,gBAAL,IAAuB2C,WAA1B,EAAsC;UAClC,KAAK3C,gBAAL,GAAwB,IAAxB;UACA,KAAKrB,cAAL,GAAsB,EAAtB;UACA,KAAKG,sBAAL,GAA8B,KAA9B;QACH,CAJD,MAIK;UACD,KAAKkB,gBAAL,GAAwB2C,WAAxB;UACA,KAAKhE,cAAL,CAAoB,UAApB,IAAkCiE,MAAM,CAACG,EAAzC;UACA,KAAKpE,cAAL,CAAoB,WAApB,IAAmCiE,MAAM,CAACI,UAA1C;UACA,KAAKC,4BAAL;QACJ;MACH,CAXD,MAWM,IAAGJ,QAAQ,CAACC,aAAT,IAA0B,CAA7B,EAA+B;QACjCrB,OAAO,CAACC,GAAR,CAAY,eAAZ;;QACA,IAAG,KAAKxB,mBAAL,CAAyByC,WAAW,GAAC,CAArC,CAAH,EAA2C;UACvC,KAAKzC,mBAAL,GACA,KAAKgD,WAAL,CAAiB,KAAKhD,mBAAtB,EAA0CyC,WAAW,GAAC,CAAtD,CADA;UAEA,KAAKQ,mBAAL,CAAyBP,MAAM,CAACQ,SAAhC,EAA0C,KAAKjD,mBAA/C;UACA,KAAKA,mBAAL,IAA4B,CAA5B;UACA,KAAKrB,sBAAL,GAA8B,KAA9B;QAEH,CAPD,MAOK;UACD2C,OAAO,CAACC,GAAR,CAAY,YAAZ;UACA,KAAKvB,mBAAL,IAA4B,CAA5B;UACA,KAAKD,mBAAL,CAAyByC,WAAW,GAAC,CAArC,IAA0C,KAAKxC,mBAA/C;UACA,KAAKgD,mBAAL,CAAyBP,MAAM,CAACQ,SAAhC,EAA0C,KAAKjD,mBAA/C;UACAsB,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B2B,MAAM,CAACC,IAAP,CAAY,KAAKpD,mBAAjB,EAAsCqD,MAAhE,EAAwEV,QAAQ,CAACU,MAAjF;;UACA,IAAGF,MAAM,CAACC,IAAP,CAAY,KAAKpD,mBAAjB,EAAsCqD,MAAtC,IAAgDV,QAAQ,CAACD,MAAT,CAAgBW,MAAnE,EAA0E;YAC1E,KAAKN,4BAAL;UACA;QACJ;MACH,CAnBK,MAmBA,IAAGJ,QAAQ,CAACC,aAAT,IAA0B,CAA7B,EAA+B;QACjCrB,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAsCmB,QAAtC;QACA,KAAKW,iBAAL,CAAuBX,QAAQ,CAACD,MAAhC;;QACA,IAAG,KAAK1C,mBAAL,CAAyByC,WAAW,GAAC,CAArC,CAAH,EAA2C;UACvC,KAAKzC,mBAAL,GACA,KAAKgD,WAAL,CAAiB,KAAKhD,mBAAtB,EAA0CyC,WAAW,GAAC,CAAtD,CADA,CADuC,CAGvC;;UACA,KAAKc,iBAAL,CAAuBb,MAAM,CAACG,EAA9B,EAAkCH,MAAM,CAACI,UAAzC;UACA,KAAK7C,mBAAL,IAA4B,CAA5B;;UACA,IAAG0C,QAAQ,CAACa,UAAZ,EAAuB;YACnB,IAAGL,MAAM,CAACC,IAAP,CAAY,KAAKpD,mBAAjB,EAAsCqD,MAAtC,GAA+CV,QAAQ,CAACa,UAA3D,EAAsE;cAClE,KAAK5E,sBAAL,GAA8B,KAA9B;cACA,KAAKiB,cAAL,GAAsB,KAAtB;YACJ;UACH,CALD,MAKM,IAAGsD,MAAM,CAACC,IAAP,CAAY,KAAKpD,mBAAjB,EAAsCqD,MAAtC,IAAgD,CAAnD,EAAqD;YACvD,KAAKzE,sBAAL,GAA8B,KAA9B;UACJ;QACH,CAdD,MAcK;UACD,KAAKqB,mBAAL,IAA4B,CAA5B;UACA,KAAKD,mBAAL,CAAyByC,WAAW,GAAC,CAArC,IAA0C,KAAKxC,mBAA/C;UACA,KAAKsD,iBAAL,CAAuBb,MAAM,CAACG,EAA9B,EAAkCH,MAAM,CAACI,UAAzC;;UACA,IAAGH,QAAQ,CAACa,UAAZ,EAAuB;YACnB,IAAGL,MAAM,CAACC,IAAP,CAAY,KAAKpD,mBAAjB,EAAsCqD,MAAtC,IAAgDV,QAAQ,CAACa,UAA5D,EAAuE;cACnE,KAAKT,4BAAL;cACA,KAAKlD,cAAL,GAAsB,IAAtB;YACJ;UACH,CALD,MAKK;YACD,KAAKkD,4BAAL;UACJ;QACJ;MACJ;IACH,CA9FE;IA+FHC,WA/FG,uBA+FSS,IA/FT,EA+FeC,KA/Ff,EA+FqB;MACpB;MACA;MACA,IAAIC,QAAO,GAAIF,IAAI,CAACC,KAAD,CAAnB;MACA,OAAOD,IAAI,CAACC,KAAD,CAAX;;MACA,IAAGD,IAAH,EAAQ;QACJ,IAAIG,UAAS,GAAI,EAAjB;QACAT,MAAM,CAACC,IAAP,CAAYK,IAAZ,EAAkBI,OAAlB,CAA0B,aAAE,EAAI;UAC5B,IAAGJ,IAAI,CAACK,GAAD,CAAJ,GAAYH,QAAf,EAAwB;YACpBF,IAAI,CAACK,GAAD,CAAJ,IAAa,CAAb;UACJ;QACH,CAJD;MAKJ;;MACJ,OAAOL,IAAP;IACC,CA7GE;IA8GHrB,mBA9GG,+BA8GiBnD,YA9GjB,EA8G8B;MAAA;;MAC7B;MACA;MACA,IAAGA,YAAW,IAAK,CAAnB,EAAqB;QACjB,KAAKT,kBAAL,CAAwB,KAAKD,qBAA7B,IAAsD,EAAtD;QACA,KAAKC,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,cAApD,IAAsEU,YAAtE;QACA,KAAKT,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,WAApD,IAAmE,KAAKE,cAAL,CAAoBa,SAAvF;QACA,KAAKyE,gBAAL,CAAsB,KAAKtF,cAAL,CAAoBa,SAA1C;QACA,KAAKd,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,UAApD,IAAkE,KAAKE,cAAL,CAAoBM,QAAtF;MACJ,CANA,MAOK,IAAGE,YAAW,IAAK,CAAnB,EAAqB;QACtB,KAAKT,kBAAL,CAAwB,KAAKD,qBAA7B,IAAsD,EAAtD;QACA,KAAKC,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,cAApD,IAAsEU,YAAtE;QACA,IAAI+E,UAAS,GAAIb,MAAM,CAACC,IAAP,CAAY,KAAK1E,gBAAL,CAAsB,KAAKH,qBAA3B,CAAZ,EAA+D0F,GAA/D,CAAmE,UAAS9E,CAAT,EAAW;UAC3F,OAAO+E,MAAM,CAAC/E,CAAD,CAAb;QACH,CAFgB,CAAjB;;QAGA,IAAGgF,IAAI,CAACC,SAAL,CAAeJ,UAAf,KAA8BG,IAAI,CAACC,SAAL,CAAejB,MAAM,CAACkB,MAAP,CAAc,KAAK3F,gBAAL,CAAsB,KAAKH,qBAA3B,CAAd,CAAf,CAAjC,EAAkH;UAC9G,KAAKC,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,WAApD,IAAmE,IAAnE;UACA,KAAKwF,gBAAL,CAAsB,IAAtB;QACH,CAHD,MAGK;UACD,KAAKvF,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,WAApD,IAAmE,KAAnE;UACA,KAAKwF,gBAAL,CAAsB,KAAtB;QACJ;;QACA,KAAKO,gBAAL;QACA,KAAK9F,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,aAApD,IAAqE,KAAKG,gBAA1E;MACH,CAfI,MAeC,IAAGO,YAAW,IAAK,CAAnB,EAAqB;QACvB,KAAKT,kBAAL,CAAwB,KAAKD,qBAA7B,IAAsD,EAAtD;QACA,KAAKC,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,cAApD,IAAsEU,YAAtE;QACA,IAAIsF,gBAAe,GAAI,CAAvB;QACA,IAAIC,cAAa,GAAI,IAArB;QACArB,MAAM,CAACkB,MAAP,CAAc,KAAK5F,cAAnB,EAAmCoF,OAAnC,CAA2C,eAAI,EAAI;UAC/C,IAAGY,KAAI,IAAK,KAAZ,EAAkB;YACd,KAAI,CAACjG,kBAAL,CAAwB,KAAI,CAACD,qBAA7B,EAAoD,WAApD,IAAmE,KAAnE;;YACA,KAAI,CAACwF,gBAAL,CAAsB,KAAtB;;YACAS,cAAa,GAAI,KAAjB;UACH,CAJD,MAIK;YACDD,gBAAe,IAAK,CAApB;UACJ;QACH,CARD;QASAhD,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKtB,cAAvB,EAAuCqE,gBAAvC;;QACA,IAAG,KAAKrE,cAAL,IAAuBqE,gBAAvB,IACHC,cADA,EACe;UACX,KAAKhG,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,WAApD,IAAmE,IAAnE;UACA,KAAKwF,gBAAL,CAAsB,IAAtB;QACH,CAJD,MAIM,IAAGS,cAAc,IAAE,KAAhB,IACTD,gBAAe,GAAI,CADb,EACe;UACjB,KAAK/F,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,WAApD,IAAmE,IAAnE;UACA,KAAKwF,gBAAL,CAAsB,KAAtB;QACJ,CAvBuB,CAwBvB;QACA;QACA;;;QACA,KAAKvF,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoD,gBAApD,IAAwE,KAAKE,cAA7E;MACJ;IACH,CApKE;IAqKHwE,mBArKG,+BAqKiBlE,QArKjB,EAqK0B4E,QArK1B,EAqKmC;MAClC;MACApC,OAAO,CAACC,GAAR,CAAY,MAAZ;;MACA,IAAG,KAAKjD,qBAAL,IAA8B,KAAKG,gBAAtC,EAAuD;QACnD6C,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,KAAKjD,qBAAjC,EAAwD,KAAKG,gBAA7D;QACA6C,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBmC,QAAxB,EAAkC,KAAKjF,gBAAL,CAAsB,KAAKH,qBAA3B,CAAlC;;QACA,IAAGoF,QAAO,IAAK,KAAKjF,gBAAL,CAAsB,KAAKH,qBAA3B,CAAf,EAAiE;UAC7D,KAAKG,gBAAL,CAAsB,KAAKH,qBAA3B,IACA,KAAKyE,WAAL,CAAiB,KAAKtE,gBAAL,CAAsB,KAAKH,qBAA3B,CAAjB,EAAmEoF,QAAnE,CADA;QAEH,CAHD,MAGK;UACD,KAAKjF,gBAAL,CAAsB,KAAKH,qBAA3B,EAAkDoF,QAAlD,IAA8D5E,QAA9D;QACJ;MACH,CATD,MASK;QACD,KAAKL,gBAAL,CAAsB,KAAKH,qBAA3B,IAAoD,EAApD;QACA,KAAKG,gBAAL,CAAsB,KAAKH,qBAA3B,EAAkDoF,QAAlD,IAA8D5E,QAA9D;MACJ;IACH,CArLE;IAsLHuF,gBAtLG,8BAsLe;MACd;MACA,IAAII,OAAM,GAAI,EAAd;MACA,IAAIC,WAAU,GAAIxB,MAAM,CAACC,IAAP,CAAY,KAAK1E,gBAAL,CAAsB,KAAKH,qBAA3B,CAAZ,EAA+D0F,GAA/D,CAAmE,UAAS9E,CAAT,EAAW;QACxF,OAAO+E,MAAM,CAAC/E,CAAD,CAAb;MACH,CAFa,CAAlB;;MAGA,KAAI,IAAIyF,IAAI,CAAZ,EAAeA,IAAID,WAAW,CAACtB,MAA/B,EAAuCuB,CAAC,EAAxC,EAA2C;QACvC,IAAGD,WAAW,CAACC,CAAD,CAAX,IAAkBzB,MAAM,CAACkB,MAAP,CAAc,KAAK3F,gBAAL,CAAsB,KAAKH,qBAA3B,CAAd,EAAiEqG,CAAjE,CAArB,EAAyF;UACrFF,OAAO,CAACE,CAAC,GAAC,CAAH,CAAP,GAAe,IAAf;QACH,CAFD,MAEK;UACDF,OAAO,CAACE,CAAC,GAAC,CAAH,CAAP,GAAe,KAAf;QACJ;MACJ;;MACA,KAAKlG,gBAAL,GAAwBgG,OAAxB,CAbc,CAcd;MACA;MACA;MACA;MACA;IACH,CAzME;IA0MHnB,iBA1MG,6BA0MeV,EA1Mf,EA0MmBvD,SA1MnB,EA0M6B;MAC5B;MACA,IAAGuD,EAAC,IAAK,KAAKpE,cAAd,EAA6B;QACzB,OAAO,KAAKA,cAAL,CAAoBoE,EAApB,CAAP;QACAtB,OAAO,CAACC,GAAR,CAAYqB,EAAZ,EAAe,SAAf,EAAyB,KAAKpE,cAA9B;MACH,CAHD,MAGK;QACD,KAAKA,cAAL,CAAoBoE,EAApB,IAA0BvD,SAA1B;QACAiC,OAAO,CAACC,GAAR,CAAYqB,EAAZ,EAAe,OAAf,EAAuB,KAAKpE,cAA5B;MACJ;IACH,CAnNE;IAoNH6E,iBApNG,6BAoNeuB,OApNf,EAoNuB;MAAA;;MACtB;MACAtD,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqB,KAAKtB,cAA1B,EAAyC2E,OAAzC;;MACA,IAAG,KAAK3E,cAAL,IAAqB,KAAxB,EAA8B;QAC1BqB,OAAO,CAACC,GAAR,CAAY,IAAZ;QACC2B,MAAM,CAACkB,MAAP,CAAcQ,OAAd,EAAuBhB,OAAvB,CAA+B,eAAI,EAAI;UACpC,IAAGY,KAAK,CAAC3B,UAAT,EAAoB;YAChB,MAAI,CAAC5C,cAAL,IAAuB,CAAvB;UACJ;QACH,CAJA;MAKL;IACH,CA/NE;IAgOH6C,4BAhOG,0CAgO2B;MAC1B,KAAKnE,sBAAL,GAA8B,IAA9B;IACH,CAlOE;IAmOHkG,mBAnOG,iCAmOkB;MAAA;;MACjB,IAAG,KAAKjG,MAAR,EAAe;QACX,KAAKQ,gBAAL,CAAsBC,SAAtB,GAAkC,KAAlC;QACA,KAAKD,gBAAL,CAAsB0F,YAAtB,GAAqC,KAArC;QACA,KAAK1F,gBAAL,CAAsBK,kBAAtB,GAA2C,KAA3C;QACA,KAAKL,gBAAL,CAAsBI,aAAtB,GAAsC,KAAtC;QACA,KAAKJ,gBAAL,CAAsBG,aAAtB,GAAsC,EAAtC;QACA,KAAKH,gBAAL,CAAsBM,aAAtB,GAAsC,EAAtC;QACA,KAAKN,gBAAL,CAAsBO,aAAtB,GAAsC,EAAtC;QACAuD,MAAM,CAACC,IAAP,CAAY,KAAK5E,kBAAjB,EAAqCqF,OAArC,CAA6C,aAAE,EAAI;UAC/C,IAAGC,GAAG,IAAE,MAAI,CAACvF,qBAAb,EAAmC;YAC/BgD,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B,MAAI,CAAChD,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAAvD,EAAoE,MAAI,CAACT,kBAAL,CAAwBsF,GAAxB,EAA6BxE,SAAjG;;YACA,IAAG,MAAI,CAACd,kBAAL,CAAwBsF,GAAxB,EAA6BxE,SAAhC,EAA0C;cACtC,IAAG,MAAI,CAACd,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAA7B,IAA2C,CAA9C,EAAgD;gBAC5C,MAAI,CAACI,gBAAL,CAAsBK,kBAAtB,GAA2C,IAA3C;cACH,CAFD,MAEM,IAAG,MAAI,CAAClB,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAA7B,IAA2C,CAA9C,EAAgD;gBAClD,MAAI,CAACI,gBAAL,CAAsBO,aAAtB,GAAsC,MAAI,CAACpB,kBAAL,CAAwBsF,GAAxB,EAA6BrF,cAAnE;cACJ;;cACA,MAAI,CAACY,gBAAL,CAAsBC,SAAtB,GAAkC,IAAlC;YACH,CAPD,MAOM,IAAG,MAAI,CAACd,kBAAL,CAAwBsF,GAAxB,EAA6BxE,SAA7B,IAAwC,KAAxC,IACL,MAAI,CAACd,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAA7B,IAA2C,CADzC,EAC2C;cACzC,MAAI,CAACI,gBAAL,CAAsBC,SAAtB,GAAkC,IAAlC;cACA,MAAI,CAACD,gBAAL,CAAsB0F,YAAtB,GAAqC,IAArC;cACA,MAAI,CAAC1F,gBAAL,CAAsBG,aAAtB,GAAsC,MAAI,CAAChB,kBAAL,CAAwBsF,GAAxB,EAA6B/E,QAAnE;YACP,CALK,MAKA,IAAG,MAAI,CAACP,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAA7B,IAA2C,CAA9C,EAAgD;cAClDsC,OAAO,CAACC,GAAR,CAAY,UAAZ;cACI,MAAI,CAACnC,gBAAL,CAAsBC,SAAtB,GAAkC,IAAlC;cACA,MAAI,CAACD,gBAAL,CAAsB0F,YAAtB,GAAqC,IAArC;cACA,MAAI,CAAC1F,gBAAL,CAAsBO,aAAtB,GAAsC,MAAI,CAACpB,kBAAL,CAAwBsF,GAAxB,EAA6BrF,cAAnE;cACA8C,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoB,MAAI,CAACnC,gBAAL,CAAsBO,aAA1C;YACP,CANK,MAMA,IAAG,MAAI,CAACpB,kBAAL,CAAwBsF,GAAxB,EAA6BxE,SAA7B,IAAwC,KAAxC,IACL,MAAI,CAACd,kBAAL,CAAwBsF,GAAxB,EAA6B7E,YAA7B,IAA2C,CADzC,EAC2C;cACzC,MAAI,CAACI,gBAAL,CAAsBI,aAAtB,GAAsC,IAAtC;cACA,MAAI,CAACJ,gBAAL,CAAsBC,SAAtB,GAAkC,IAAlC;cACA,MAAI,CAACD,gBAAL,CAAsB0F,YAAtB,GAAqC,IAArC;cACA,MAAI,CAAC1F,gBAAL,CAAsBM,aAAtB,GAAsC,MAAI,CAACnB,kBAAL,CAAwBsF,GAAxB,EAA6BkB,WAAnE;YACR;UACJ;QACH,CA7BD;MA8BJ;IACH,CA3QE;IA4QHC,oBA5QG,gCA4QkBC,eA5QlB,EA4QkCC,eA5QlC,EA4QmDpG,QA5QnD,EA4Q4D;MAC3D;MACA,IAAG,KAAKF,MAAR,EAAe;QACX0C,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKhD,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoDU,YAAvE,EAAoF,GAApF,EAAwFiG,eAAxF,EAAyG,GAAzG,EAA6GC,eAA7G,EAA6HpG,QAA7H,EAAsI,KAAKR,qBAA3I;;QACA,IAAG,KAAKC,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoDU,YAApD,IAAkE,CAArE,EAAuE;UACnEsC,OAAO,CAACC,GAAR,CAAY,IAAZ;;UACA,IAAGzC,QAAO,IAAKmG,eAAf,EAA+B;YAC3B,OAAO,IAAP;UACH,CAFD,MAEK;YACD,OAAO,KAAP;UACJ;QACJ,CAPA,MAQK,IAAG,KAAK1G,kBAAL,CAAwB,KAAKD,qBAA7B,EAAoDU,YAApD,IAAkE,CAArE,EAAuE;UACxE,IAAGF,QAAO,IAAKoG,eAAf,EAA+B;YAC3B,OAAO,IAAP;UACH,CAFD,MAEK;YACD,OAAO,KAAP;UACJ;QACJ;MACJ;IACH,CAhSE;IAiSHC,gBAjSG,4BAiScjG,CAjSd,EAiSgBC,CAjShB,EAiSkB;MACjB;MACAmC,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBrC,CAAjB,EAAmBC,CAAnB;MACA,KAAKF,UAAL,CAAgBC,CAAhB,GAAoBA,CAApB;MACA,KAAKD,UAAL,CAAgBE,CAAhB,GAAoBA,CAApB;MACA,KAAKb,qBAAL,GAA6Ba,CAA7B;IACH,CAvSE;IAwSH+C,iBAxSG,6BAwSe1D,cAxSf,EAwS8BQ,YAxS9B,EAwS2CD,UAxS3C,EAwSsD;MAAA;;MACrD,KAAKF,WAAL,CAAiBG,YAAjB,GAAgCA,YAAhC;MACA,KAAKH,WAAL,CAAiBE,UAAjB,GAA8BA,UAA9B;;MACA,IAAGC,YAAW,IAAK,CAAnB,EAAqB;QACjB,KAAKH,WAAL,CAAiBC,QAAjB,GAA4BoE,MAAM,CAACC,IAAP,CAAY3E,cAAZ,CAA5B;MACH,CAFD,MAEM,IAAGQ,YAAW,IAAK,CAAnB,EAAqB;QACvBkE,MAAM,CAACC,IAAP,CAAY3E,cAAZ,EAA4BoF,OAA5B,CAAoC,aAAE,EAAK;UACvC,IAAGC,GAAE,GAAI,UAAT,EAAoB;YAChB,MAAI,CAAChF,WAAL,CAAiBC,QAAjB,GAA4BN,cAAc,CAACqF,GAAD,CAA1C;UACJ;QACH,CAJD;MAKJ;;MACA,KAAKrC,MAAL,CAAYC,QAAZ,CAAqB,0BAArB,EAAgD,KAAK5C,WAArD;IACH,CArTE;IAsTHuG,gBAtTG,8BAsTe;MACd,KAAK1G,UAAL,GAAkB,CAAC,KAAKA,UAAxB;IACH,CAxTE;IAyTH2G,YAzTG,0BAyTW;MACV,KAAKzG,MAAL,GAAc,CAAE,KAAKA,MAArB;IACH,CA3TE;IA4THkF,gBA5TG,4BA4TctF,cA5Td,EA4T6B;MAC5B;MACA8C,OAAO,CAACC,GAAR,CAAY/C,cAAZ;MACA,KAAK0B,cAAL,CAAoBb,SAApB,GAAgC,CAAhC;MACA,KAAKa,cAAL,CAAoBE,OAApB,GAA8B,CAA9B;;MACA,IAAG5B,cAAH,EAAkB;QACd,KAAK0B,cAAL,CAAoBb,SAApB,GAAgC,CAAhC;MACH,CAFD,MAEK;QACD,KAAKa,cAAL,CAAoBE,OAApB,GAA8B,CAA9B;MACJ;;MACA,KAAKoB,MAAL,CAAYC,QAAZ,CAAqB,gBAArB,EAAsC,KAAKvB,cAA3C;MACAoB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKrB,cAAvB;IAEH,CAzUE;IA0UHoF,iBA1UG,6BA0UeC,KA1Uf,EA0UqBpF,MA1UrB,EA0U4B;MAC3B,KAAKD,cAAL,CAAoBC,MAApB,GAA6BA,MAA7B;MACA,OAAOoF,KAAP;IACH,CA7UE;IA8UHC,UA9UG,wBA8US;MACR,KAAKvG,UAAL,CAAgBC,CAAhB,IAAqB,CAArB;MACA,KAAKD,UAAL,CAAgBE,CAAhB,IAAqB,CAArB;MACA,KAAKb,qBAAL,IAA8B,CAA9B;MACA,KAAKuG,mBAAL;MACA,KAAKvC,SAAL;IACH,CApVE;IAqVHmD,UArVG,wBAqVS;MACR,KAAKxG,UAAL,CAAgBC,CAAhB,IAAqB,CAArB;MACA,KAAKD,UAAL,CAAgBE,CAAhB,IAAqB,CAArB;MACA,KAAKb,qBAAL,IAA8B,CAA9B;MACA,KAAKuG,mBAAL;MACA,KAAKvC,SAAL;IACH,CA3VE;IA4VHA,SA5VG,uBA4VQ;MACPoD,MAAM,CAACC,QAAP,CAAgB;QAChBC,GAAG,EAAE,CADW;QAEhBC,QAAQ,EAAE;MAFM,CAAhB;IAIH,CAjWE;IAkWHzD,iBAlWG,+BAkWgB;MACfd,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuB,KAAKL,cAA5B,EAA2C,KAAKhB,cAAhD;;MACA,IAAM4F,IAAIC,OAAO,CAAC,QAAD,CAAjB;;MACA,IAAIC,UAAS,GAAIF,CAAC,CAACG,SAAF,CAAY,KAAK/F,cAAjB,CAAjB;;MACA,IAAG,CAAC,KAAKgB,cAAL,CAAoBf,MAApB,CAA2B,CAA3B,CAAJ,EAAkC;QAC9B,KAAKe,cAAL,CAAoBf,MAApB,CAA2B+F,IAA3B,CAAgCF,UAAhC;QACA1E,OAAO,CAACC,GAAR,CAAY,QAAZ;MACJ,CAHA,MAII;QACA,KAAI,IAAIoD,CAAR,IAAa,KAAKzD,cAAL,CAAoBf,MAAjC,EAAwC;UACpCmB,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBoD,CAAnB,UAA4BA,CAA5B,GAA+B,KAAKzD,cAAL,CAAoBf,MAApB,CAA2BwE,CAA3B,EAA8BxE,MAA7D,EAAoE6F,UAAU,CAAC7F,MAA/E;;UACA,IAAG,KAAKe,cAAL,CAAoBf,MAApB,CAA2BwE,CAA3B,EAA8BxE,MAA9B,IAAsC6F,UAAU,CAAC7F,MAApD,EAA2D;YACvDmB,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKL,cAAxB;;YACA,IAAG8E,UAAU,CAAC3G,SAAd,EAAwB;cACpBiC,OAAO,CAACC,GAAR,CAAY,SAAZ;cACA,KAAKL,cAAL,CAAoBf,MAApB,CAA2BwE,CAA3B,EAA8BtF,SAA9B,IAAyC,CAAzC;cACAiC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKL,cAA3B;cACA;YACH,CALD,MAKK;cACDI,OAAO,CAACC,GAAR,CAAY,YAAZ;cACA,KAAKL,cAAL,CAAoBf,MAApB,CAA2BwE,CAA3B,EAA8BvE,OAA9B,IAAuC,CAAvC;cACAkB,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,KAAKL,cAA9B;cACA;YACJ;UACJ,CAbA,MAcI;YACAI,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBoD,CAApB,EAAsB,KAAKzD,cAAL,CAAoBf,MAApB,CAA2BiD,MAA3B,GAAmC,CAAzD;;YACA,IAAGa,MAAM,CAACU,CAAD,CAAN,IAAa,KAAKzD,cAAL,CAAoBf,MAApB,CAA2BiD,MAA3B,GAAmC,CAAnD,EAAqD;cACjD,KAAKlC,cAAL,CAAoBf,MAApB,CAA2B+F,IAA3B,CAAgCF,UAAhC;cACA1E,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKL,cAAL,CAAoBf,MAA1C;YACJ;UACJ;QACJ;MACJ;IACH,CApYE;IAsYH;IACAgG,mBAvYG,iCAuYkB;MACjB7E,OAAO,CAACC,GAAR,CAAY,SAAZ,UAA6B,KAAKT,YAAlC,GAAgD,KAAKA,YAArD,EAAkE,KAAKT,YAAL,CAAkBO,KAApF;;MACA,IAAG,KAAKE,YAAL,IAAqB,EAAxB,EAA4B;QACxBQ,OAAO,CAACC,GAAR,CAAY,SAAZ;QACA,KAAKT,YAAL,GAAoB,CAApB;QACAQ,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiB,KAAKT,YAAtB;;QAHwB,2CAIH,KAAKM,SAAL,CAAegF,OAAf,EAJG;QAAA;;QAAA;UAIxB,oDAA8C;YAAA;YAAA,IAArC3C,KAAqC;YAAA,IAA/BkB,CAA+B;;YAC1CrD,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBoD,CAAhB,EAAkB,OAAlB,EAA0BlB,KAA1B;YACA,KAAKjC,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C8C,CAA7C;YACArD,OAAO,CAACC,GAAR,CAAY,KAAK8E,eAAjB,EAAiC,KAAKtF,YAAtC;;YACA,IAAG,KAAKsF,eAAL,IAAwB,KAAKtF,YAAhC,EAA8C;cAC1C,KAAKS,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKT,SAAL,CAAeqC,KAAI,GAAG,CAAtB,CAA7C;cACA,KAAKpD,YAAL,CAAkBE,MAAlB,GAA2B,KAAK8F,eAAhC;cACA,KAAKtF,YAAL,GAAoB,KAAKsF,eAAzB;cACA/E,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKlB,YAAxB;cACA;YACJ;UACJ;QAfwB;UAAA;QAAA;UAAA;QAAA;MAgB5B,CAhBA,MAiBK,IAAG,KAAKS,YAAL,IAAqB,CAAxB,EAA0B;QAC3B,KAAKA,YAAL,GAAoB,EAApB;;QAD2B,4CAEN,KAAKM,SAAL,CAAegF,OAAf,EAFM;QAAA;;QAAA;UAE3B,uDAA8C;YAAA;YAAA,IAArC3C,MAAqC;YAAA,IAA/BkB,EAA+B;;YAC1C,KAAKnD,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C8C,EAA7C;YACArD,OAAO,CAACC,GAAR,CAAY,KAAK8E,eAAjB,EAAiC,KAAKtF,YAAtC;;YACA,IAAG,KAAKsF,eAAL,IAAwB,KAAKtF,YAAhC,EAA8C;cAC1C,KAAKS,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKT,SAAL,CAAeqC,MAAI,GAAG,CAAtB,CAA7C;cACA,KAAKpD,YAAL,CAAkBE,MAAlB,GAA2B,KAAK8F,eAAhC;cACA,KAAKtF,YAAL,GAAoB,KAAKsF,eAAzB;cACA;YACJ;UACJ;QAX2B;UAAA;QAAA;UAAA;QAAA;MAY/B;;MACA/E,OAAO,CAACC,GAAR,CAAY,YAAZ;IACH,CAxaE;IAyaHc,sBAzaG,oCAyaqB;MACpB,IAAIiE,cAAa,GAAI,CAArB;MAEAhF,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiB,KAAKhD,kBAAtB;;MACA,IAAG2E,MAAM,CAACC,IAAP,CAAY,KAAK5E,kBAAjB,EAAqC6E,MAArC,IAA+C,CAAlD,EAAoD;QAChD,IAAGF,MAAM,CAACC,IAAP,CAAY,KAAK5E,kBAAjB,EAAqC6E,MAArC,IAA+C,EAAlD,EAAqD;UACjD,IAAImD,MAAK,GAAI,CAAb;UACA,IAAInG,OAAM,GAAI,CAAd;;UACA,KAAK,IAAIuE,IAAI,CAAb,EAAgBA,KAAK,EAArB,EAAyBA,CAAC,EAA1B,EAA6B;YACzB,IAAG,KAAKpG,kBAAL,CAAwBoG,CAAxB,EAA2BtF,SAA9B,EAAwC;cACpCkH,MAAK,IAAK,CAAV;YACH,CAFD,MAEK;cACDnG,OAAM,IAAK,CAAX;YACJ;UACJ;;UACAkB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBgF,MAAlB;UACAjF,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBnB,OAAlB;;UACA,IAAGmG,MAAK,IAAK,CAAb,EAAe;YACX,KAAK/F,aAAL,CAAmBC,aAAnB,IAAoC,CAApC;YACA,KAAKK,YAAL,IAAqB,CAArB;YACA,KAAKqF,mBAAL;;YACA,IAAG,KAAK3F,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAApD,IAAuE,CAA1E,EAA4E;cACxE,KAAKG,UAAL,GAAkB,IAAlB;cACA,KAAK2F,cAAL;cACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;cACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;YACJ,CALA,MAMI;cACA,KAAKL,YAAL,CAAkBC,KAAlB,GAA0B,KAAKQ,YAA/B;cACA,KAAKU,MAAL,CAAYK,MAAZ,CAAmB,iBAAnB,EAAqC,KAAKxB,YAA1C;cACA,KAAKqB,gBAAL;cACA,KAAKzC,UAAL,CAAgBC,CAAhB,GAAoB,CAApB;cACA,KAAKD,UAAL,CAAgBE,CAAhB,GAAoB,CAApB;cACA,KAAKZ,kBAAL,GAA0B,EAA1B;cACA+H,cAAa,GAAI,CAAjB;cACA,KAAKhI,qBAAL,GAA6B,CAA7B;YACJ;UACJ,CApBA,MAqBK,IAAGiI,MAAK,GAAI,CAAT,IAAcA,MAAK,GAAI,CAA1B,EAA4B;YAC7B,KAAK1F,UAAL,GAAkB,IAAlB;YACA,KAAK2F,cAAL;YACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;YACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;UACJ,CALK,MAMD;YACAY,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBgF,MAAjB;YACA,KAAK/F,aAAL,CAAmBE,eAAnB,IAAsC,CAAtC;YACA,KAAKc,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKT,SAAL,CAAe,CAAf,CAA7C;YACAE,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiB,KAAKR,YAAtB,EAAmC,KAAnC,EAAyC,KAAKsF,eAA9C,EAA8D,IAA9D,EAAmE,KAAKvF,YAAxE;YACAQ,OAAO,CAACC,GAAR,CAAY,KAAKR,YAAL,IAAoB,KAAKsF,eAAzB,IAA0C,KAAKvF,YAAL,IAAmB,CAAzE;YACAQ,OAAO,CAACC,GAAR,CAAY,KAAKR,YAAL,IAAoB,KAAKsF,eAArC,EAAqD,KAAKvF,YAAL,IAAmB,CAAxE;;YACA,IAAG,KAAKC,YAAL,IAAoB,KAAKsF,eAA5B,EAA4C;cACxC/E,OAAO,CAACC,GAAR,CAAY,YAAZ;cACA,KAAKT,YAAL,IAAqB,CAArB;cACA,KAAKqF,mBAAL;;cACA,IAAG,KAAK3F,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAApD,IAAuE,CAA1E,EAA4E;gBACxE,KAAKG,UAAL,GAAkB,IAAlB;gBACA,KAAK2F,cAAL;gBACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;gBACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;cACJ,CALA,MAMI;gBACA,KAAKL,YAAL,CAAkBC,KAAlB,GAA0B,KAAKQ,YAA/B;gBACA,KAAKU,MAAL,CAAYK,MAAZ,CAAmB,iBAAnB,EAAqC,KAAKxB,YAA1C;gBACA,KAAKqB,gBAAL;gBACA4E,cAAa,GAAI,CAAjB;gBACA,KAAKrH,UAAL,CAAgBC,CAAhB,GAAoB,CAApB;gBACA,KAAKD,UAAL,CAAgBE,CAAhB,GAAoB,CAApB;gBACA,KAAKb,qBAAL,GAA6B,CAA7B;gBACA,KAAKC,kBAAL,GAA0B,EAA1B;cACJ;YACJ,CApBA,MAqBI;cACA+C,OAAO,CAACC,GAAR,CAAY,mBAAZ;YACJ;UACJ;;UACA,IAAG,KAAKf,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAApD,IAAuE,CAA1E,EAA4E;YACxE,KAAKG,UAAL,GAAkB,IAAlB;YACA,KAAK2F,cAAL;YACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;YACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;UACJ;QACH,CA7ED,MA6EK;UACDY,OAAO,CAACC,GAAR,CAAY,eAAZ;UACA,IAAIkF,IAAG,GAAI,CAAX;UACAA,IAAG,GAAIvD,MAAM,CAACC,IAAP,CAAY,KAAK5E,kBAAjB,EAAqC6E,MAArC,GAA8C,CAArD,CAHC,CAID;;UACA,KAAK,IAAIuB,MAAI,CAAb,EAAgBA,OAAK,CAArB,EAAwBA,GAAC,EAAzB,EAA4B;YACxBrD,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKhD,kBAA3B;;YACA,IAAG,KAAKA,kBAAL,CAAwBoG,MAAI8B,IAA5B,EAAkCpH,SAArC,EAA+C;cAC3CiH,cAAa,IAAK,CAAlB;YACJ;UACJ;;UACA,IAAGA,cAAa,IAAK,CAArB,EAAuB;YACnBhF,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuB,KAAKf,aAAL,CAAmBC,aAA1C,EAAwD,KAAKD,aAAL,CAAmBE,eAA3E;YACA,KAAKF,aAAL,CAAmBC,aAAnB,IAAoC,CAApC;;YACA,IAAG,KAAKD,aAAL,CAAmBC,aAAnB,IAAkC,CAAlC,IAAqC,KAAKD,aAAL,CAAmBE,eAAnB,IAAoC,CAA5E,EAA8E;cAC1E,KAAKG,UAAL,GAAkB,IAAlB;cACA,KAAK2F,cAAL;cACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;YACH,CAJD,MAIM,IAAG,KAAKD,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAApD,IAAqE,CAAxE,EAA0E;cAC5EY,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKf,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAA7E;cACA,KAAKG,UAAL,GAAkB,IAAlB;cACA,KAAK2F,cAAL;cACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;cACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;YACH,CANK,MAMD;cACDY,OAAO,CAACC,GAAR,CAAY,IAAZ;cACA,KAAKT,YAAL,IAAqB,CAArB;cACA,KAAKqF,mBAAL;cACA,KAAK9F,YAAL,CAAkBC,KAAlB,GAA0B,KAAKQ,YAA/B;cACA,KAAKU,MAAL,CAAYK,MAAZ,CAAmB,iBAAnB,EAAqC,KAAKxB,YAA1C;cACA,KAAKqB,gBAAL;cACA,KAAKzC,UAAL,CAAgBC,CAAhB,GAAoB,CAApB;cACA,KAAKD,UAAL,CAAgBE,CAAhB,GAAoB,CAApB;cACA,KAAKZ,kBAAL,GAA0B,EAA1B;cACA+H,cAAa,GAAI,CAAjB;cACA,KAAKhI,qBAAL,GAA6B,CAA7B;YACJ;UACH,CA1BD,MA0BM,IAAGgI,cAAa,IAAK,CAArB,EAAuB;YACzBhF,OAAO,CAACC,GAAR,CAAY,QAAZ;YACA,KAAKC,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKT,SAAL,CAAe,CAAf,CAA7C;;YACA,IAAG,KAAKN,YAAL,IAAmB,CAAnB,IAAsB,KAAKC,YAAL,IAAmB,KAAKsF,eAAjD,EAAiE;cAC7D/E,OAAO,CAACC,GAAR,CAAY,mBAAZ;cACA,KAAKV,UAAL,GAAkB,IAAlB;cACA,KAAK2F,cAAL;cACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;cACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;YACJ,CANA,MAOI;cACA,KAAKF,aAAL,CAAmBE,eAAnB,IAAsC,CAAtC;cACAY,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2B,KAAKf,aAAL,CAAmBC,aAA9C,EAA4D,KAAKD,aAAL,CAAmBE,eAA/E;;cACA,IAAG,KAAKF,aAAL,CAAmBE,eAAnB,IAAoC,CAApC,IAAuC,KAAKF,aAAL,CAAmBC,aAAnB,IAAkC,CAA5E,EAA8E;gBAC1E,KAAKI,UAAL,GAAkB,IAAlB;gBACA,KAAK2F,cAAL;gBACA,KAAKhG,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;cACJ,CAJA,MAKK,IAAG,KAAKF,aAAL,CAAmBC,aAAnB,GAAiC,KAAKD,aAAL,CAAmBE,eAApD,IAAqE,CAAxE,EAA0E;gBAC3E,KAAKG,UAAL,GAAkB,IAAlB;gBACA,KAAK2F,cAAL;gBACA,KAAKhG,aAAL,CAAmBC,aAAnB,GAAmC,CAAnC;gBACA,KAAKD,aAAL,CAAmBE,eAAnB,GAAqC,CAArC;cACH,CALI,MAKA;gBACDY,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKT,YAAxB;gBACA,KAAKA,YAAL,IAAqB,CAArB;gBACA,KAAKqF,mBAAL;gBACA,KAAK9F,YAAL,CAAkBC,KAAlB,GAA0B,KAAKQ,YAA/B;gBACA,KAAKU,MAAL,CAAYK,MAAZ,CAAmB,iBAAnB,EAAqC,KAAKxB,YAA1C;gBACA,KAAKqB,gBAAL;gBACA4E,cAAa,GAAI,CAAjB;gBACA,KAAKrH,UAAL,CAAgBC,CAAhB,GAAoB,CAApB;gBACA,KAAKD,UAAL,CAAgBE,CAAhB,GAAoB,CAApB;gBACA,KAAKb,qBAAL,GAA6B,CAA7B;gBACA,KAAKC,kBAAL,GAA0B,EAA1B;cACJ;YACJ;UACJ;QACJ;MACJ;IACH,CAxkBE;IAykBGmI,eAzkBH,6BAykBoB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACnBpF,OAAO,CAACC,GAAR,CAAY,KAAZ,EACA,MAAI,CAACC,MAAL,CAAYmF,KAAZ,CAAkBC,MAAlB,CAAyBC,UAAzB,CAAoCC,UADpC;;gBAEA,MAAI,CAACtF,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,MAAI,CAAClB,WAAL,CAAiBC,KAA9D;;gBAHmB;gBAAA,OAIb/C,KAAK,CAACkJ,KAAN,2CAA+C,MAAI,CAACvF,MAAL,CAAYwF,OAAZ,CAAoBC,SAAnE,oBAAsF,MAAI,CAAClG,YAA3F,oBAAiH,MAAI,CAACJ,WAAL,CAAiBL,KAAlI,EAJa;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAKtB,CA9kBE;IA+kBHkG,cA/kBG,4BA+kBa;MACZlF,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKR,YAAvB;MACA,KAAKS,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKd,YAAlD;MACA,KAAKJ,WAAL,CAAiBC,KAAjB,GAAyB,KAAKyF,eAA9B;MACA/E,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B,KAAK8E,eAA/B;MACA,KAAK1F,WAAL,CAAiBL,KAAjB,GAAyB,KAAKQ,YAA9B;MACA,KAAKI,cAAL,CAAoBZ,KAApB,GAA4B,KAAKQ,YAAjC;MACA,KAAKU,MAAL,CAAYC,QAAZ,CAAqB,mCAArB,EAAyD,KAAKV,YAA9D;MACA,KAAKG,cAAL,CAAoBN,KAApB,GAA4B,KAAKY,MAAL,CAAYwF,OAAZ,CAAoBX,eAAhD;MACA,KAAKnF,cAAL,CAAoBN,KAApB,GAA4B,KAAKY,MAAL,CAAYmF,KAAZ,CAAkBO,IAAlB,CAAuBb,eAAnD;;MACA,IAAG,CAAC,KAAKnF,cAAL,CAAoBN,KAAxB,EAA8B;QAC1B;QACA,KAAKM,cAAL,CAAoBN,KAApB,GAA4B,CAA5B;MACJ;;MACA,IAAIuG,OAAM,GAAI;QAACvG,KAAK,EAAC,KAAKG,YAAZ;QAAyBT,KAAK,EAAC,KAAKQ;MAApC,CAAd;MACA,KAAKU,MAAL,CAAYC,QAAZ,CAAqB,uBAArB,EAA6C0F,OAA7C,EAfY,CAgBZ;MACA;;MACA,KAAKT,eAAL;MACA,KAAKlF,MAAL,CAAYK,MAAZ,CAAmB,yBAAnB,EAA6C,KAAKZ,kBAAL,CAAwBL,KAArE;MACAU,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAK8E,eAAvB;IACJ;EApmBG;AA7GI,CAAf","names":["axios","mapGetters","mapActions","Result","TestResult","createHydrationRenderer","components","data","questionLengthForHTML","questionLengthCounter","SelectedAnswerInfo","selectedAnswer","answerIDAndOrder","showResult","showNextOrFinishButton","result","countupDict","answerID","questionID","questionType","pagination","a","b","resultHandleDict","isCorrect","IsNotCorrect","answerIDType3","questionType4","answerAllTrueType4","answerIDType4","answerIDType5","maxSelectReach","selectedIndexNum","showSelectNum","selectedOrderAnswer","selectAnswerCounter","NumOfIscorrect","userStatusDict","status","isFalse","quizTestInfo","level","quizId","LevelCounters","handleLevelUp","handleLevelDown","finalResult","grade","finishTest","currentLevel","currentGrade","correctAnswer","startGradeAndLevel","tempStatusDict","setQuizAndLevel","gradeList","created","console","log","$store","dispatch","getTestQuestions","mounted","quizTakerObject","commit","beforeUnmount","computed","methods","nextQuestion","handleCountUpDict","selectAnswerHandler","setTempStatusDict","checkConsecutiveResult","scrollTop","onClick","answerindex","answer","question","question_type","id","is_correct","handleShowNextOrFinishButton","changeOrder","getAnswerIDAndOrder","answer_id","Object","keys","length","getNumOfIscorrect","getIDAndIsCorrect","max_select","dict","index","orderNum","changeDict","forEach","key","handleUserStatus","stringKeys","map","Number","JSON","stringify","values","makeOrderBoolean","isCorrectCounter","type5IsCorrect","value","newDict","IntegerKeys","i","answers","resultAnswerHandler","isNotCorrect","orderAnswer","type3And5CheckResult","selectedAnswer5","selectedAnswer3","handlePagination","HandleShowResult","handleResult","getQuestionStatus","lavel","resultNext","resultBack","window","scrollTo","top","behavior","_","require","copyObject","cloneDeep","push","quizTestInfoHandler","entries","gradeForConvert","correctCounter","isTrue","getFinalResult","num4","updateQuizTaker","state","signup","djangoUser","quiz_taker","patch","getters","quizTaker","quiz","payload"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/views/quiz/QuizTest.vue"],"sourcesContent":["<template>\n    <div class=\"quiz-wrapper\" :class=\"{'laoding-center':$store.state.isLoading}\">\n        <div class=\"main-wrapper\">\n            <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading }\">\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            <div v-if=\"finishTest==false&&$store.state.isLoading==false\">\n                <p class=\"quiz-description title-white\">テスト問題</p>\n                <div v-if=\"finishTest\" class=\"finishTest\">\"finishTest is TRUE\"{{ finishTest }}</div>\n                <div class='quiz-countainer'>\n                    <div\n                    class=\"question-loop\"\n                    v-for=\"(question,questionindex) in questions.slice(pagination.a,pagination.b)\"\n                    v-bind:key=\"questionindex\">\n                        <div class='question-wrapper'>\n                            <div class=\"question-header\"><i class='q'>Q</i>第{{ questionLengthForHTML }}問</div>\n                            <div class='question-body'>{{ getQuestionStatus(question.label,question.status[0]) }}{{ question.quiz_level }}</div>\n                        </div>\n                        \n                        <!-- <div :class='showPic(question.image)'> -->\n                        <div class=\"image-container\" v-if=\"question.image\">\n                            <img class=\"image\" v-bind:src=\"question.get_image\"/>\n                        </div>\n\n                        <!-- answer part -->\n                        <!-- questiontype 3 is '選択'\n                        ４ is '並び替え'\n                        5 is '多答' -->\n                        <div class='answer-wrapper'>\n                            <button \n                            class=\"answer-loop\"\n                            :class=\"{'selected-answer':selectedIndexNum==answerindex||\n                            answerindex+1 in selectedOrderAnswer,\n                            'is-correct-answer':resultHandleDict.isCorrect&&answer.is_correct||\n                            resultHandleDict.answerAllTrueType4||\n                            resultHandleDict.answerIDType4[answer.answer_id],\n                            'isnot-correct-answer':resultHandleDict.isNotCorrect&&resultHandleDict.answerIDType3==answer.id||\n                            resultHandleDict.answerIDType5[answer.id]==false||\n                            resultHandleDict.answerIDType4[answer.answer_id]==false}\"\n                            @click=\"e => result==false && onClick(answerindex,answer,question)\"\n                            :disabled=\"maxSelectReach&&answer.id in selectedAnswer==false\"\n                            v-for=\"(answer,answerindex) in question.answer\"\n                            v-bind:key=\"answerindex\">\n                                <div class='answer-select-bases'>\n                                    <div class=\"answer-select\">\n                                        <div class=\"selecter\">{{ String.fromCharCode(answerindex+65) }}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"answer-label-bases\">\n                                    <div class=\"answer-label\">\n                                        {{ answer.label }}\n                                    </div>\n                                </div>\n                                <div class=\"selected-answer-bases\">\n                                    <div v-if=\"selectedOrderAnswer[answerindex+1]&&question.question_type==4\" class=\"selected-answer-order\">\n                                        {{ selectedOrderAnswer[answerindex+1] }}\n                                    </div>\n                                    <div class=\"result-answer-order\">\n                                        <div class=\"order\" v-if=\"resultHandleDict.questionType4\">\n                                            {{ answer.answer_id}}\n                                        </div>\n                                        <div v-if=\"type3And5CheckResult(resultHandleDict.answerIDType5,resultHandleDict.answerIDType3,answer.id)&&question.question_type!=4\">\n                                            <i class=\"fas fa-check\"></i>\n                                        </div>\n                                    </div>\n                                    <i v-if=\"selectedOrderAnswer[answerindex+1]&&question.question_type==5\" class=\"fas fa-check\"></i>\n                                    <!-- for result -->\n                                    <!-- <i v-if=\"answer.id in resultHandleDict.answerIDType5&&question.question_type==5\" class=\"fas fa-check\"></i> -->\n                                    <i v-if=\"resultHandleDict.isCorrect&&answer.is_correct||\n                                    resultHandleDict.answerAllTrueType4||\n                                    resultHandleDict.answerIDType4[answer.answer_id]\" class=\"far fa-circle\"></i>\n                                    <i v-if=\"resultHandleDict.isNotCorrect&&resultHandleDict.answerIDType3==answer.id||\n                                    resultHandleDict.answerIDType5[answer.id]==false||\n                                    resultHandleDict.answerIDType4[answer.answer_id]==false\" class=\"fas fa-times\"></i>\n                                </div>\n                            </button>\n                        </div>\n                        <div v-if=\"showNextOrFinishButton&&\n                        result==false\" class=\"button-quiz-container\">\n                            <!-- <div v-if=\"questions.length==questionLengthCounter\"\n                            @click=\"Finish(question.question_type)\" class=\"btn-tr-white-base-sq\">FINSH</div> -->\n                            <div\n                            @click=\"nextQuestion(question.question_type,question.id)\" class=\"btn-tr-white-base-sq\">\n                                NEXT ＞\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <TestResult\n            v-if=\"finishTest\"\n            :finalResult=\"finalResult\"\n            :startGradeAndLevel=\"startGradeAndLevel\"\n            :gradeList=\"gradeList\"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {mapGetters,mapActions} from 'vuex'\nimport Result from '@/components/quiz_components/Result.vue'\nimport TestResult from '@/components/initial/TestResult.vue'\nimport { createHydrationRenderer } from '@vue/runtime-core'\n\nexport default {\n    components: {\n    Result,\n    TestResult\n  },  \n    data(){\n        return{\n            questionLengthForHTML:1,\n            questionLengthCounter:1,\n            SelectedAnswerInfo:{},\n            selectedAnswer: {},\n            answerIDAndOrder:{},\n            showResult: false,\n            showNextOrFinishButton:false,\n            result: false,\n            countupDict:{\n                answerID:'',\n                questionID:'',\n                questionType:''\n            },\n            pagination:{\n                a: 0,\n                b: 1,\n            },\n            resultHandleDict:{\n                isCorrect: false,\n                IsNotCorrect: false,\n                answerIDType3: '',\n                questionType4: false,\n                answerAllTrueType4: false,\n                answerIDType4: '',\n                answerIDType5: '',\n            },\n            \n            maxSelectReach: false,\n            // currentQuestionType:{\n            //     select: false,\n            //     manySelect: false,\n            //     order: false\n            // },\n            selectedIndexNum: null,\n            showSelectNum: true,\n            selectedOrderAnswer:{},\n            selectAnswerCounter:0,\n            NumOfIscorrect:0,\n            // here for status attribute\n            userStatusDict:{\n                status:'',\n                isCorrect:0,\n                isFalse:0\n            },\n            // from here for test attributes\n            quizTestInfo:{\n                level:'',\n                quizId:4\n            },\n            LevelCounters:{\n                handleLevelUp:0,\n                handleLevelDown:0\n            },\n            finalResult:{\n                grade:'',\n                level:''\n            },\n            finishTest:false,\n            currentLevel:1,\n            currentGrade:\"\",\n            correctAnswer:{},\n            startGradeAndLevel:{\n                grade:'',\n                level:''\n            },\n            tempStatusDict:{\n                'status':[],\n                'grade':'',\n                'level':''\n            },\n            setQuizAndLevel:{\n                'quizId':'',\n                'level':''\n            },\n            gradeList:[\n                '超初級',\n                '初級',\n                '中級',\n                '上級'\n            ]\n        }\n    },\n    created(){\n        console.log(\"created\")\n        this.$store.dispatch('setQuizIdAndlevelAction')\n        // this.getquiz()\n        this.getTestQuestions()\n    },\n    mounted(){\n        this.startGradeAndLevel.grade = this.quizTakerObject.grade\n        this.startGradeAndLevel.level = this.quizTakerObject.level\n        this.quizTestInfo.quizId = this.quizTakerObject.grade\n        this.currentGrade = this.quizTakerObject.grade\n        console.log('mounted',this.quizTestInfo.quizId,this.currentGrade)\n        this.currentLevel = this.quizTakerObject.level\n        this.$store.commit('onQuizTrue')\n        this.SelectedAnswerInfo = {}\n    },\n    beforeUnmount(){\n        this.$store.commit('onQuizFalse')\n    },\n    computed: mapGetters(['questions','quiz', 'quizTakerObject', 'gradeForConvert']),\n    methods:{\n        ...mapActions(['getTestQuestions']),\n        nextQuestion(questionType,questionID){\n            this.handleCountUpDict(this.selectedAnswer,questionType,questionID)\n            this.pagination.a += 1\n            this.pagination.b += 1\n            this.selectedIndexNum= null\n            this.showNextOrFinishButton = false\n            this.selectAnswerHandler(\n                questionType,\n                )\n            this.setTempStatusDict()\n            this.questionLengthCounter += 1\n            this.questionLengthForHTML += 1\n            this.checkConsecutiveResult()\n            this.NumOfIscorrect = 0\n            this.maxSelectReach = false\n            this.selectedOrderAnswer = {}\n            this.selectedAnswer = {}\n            this.answerIDAndOrder = {}\n            this.selectAnswerCounter = 0\n            console.log(\"CCC\",this.SelectedAnswerInfo,'current',this.currentLevel)\n            this.scrollTop()\n        },\n        onClick(answerindex, answer, question){\n            // this is for 2 things,\n            // first is for controling CSS return selectedIndexNum\n            // which used for questionType 3, and selectedOrderAnswer\n            // which used for questionType 4 and 5.\n            // second is for selected-answer and is_correct.\n            // return selectedAnswer for questionType 3.\n            // for questionType 4, use getAnswerIDAndOrder function.\n            // for questionType 5, use getIDAndIsCorrect function.\n            if(question.question_type == 3){\n                if(this.selectedIndexNum==answerindex){\n                    this.selectedIndexNum = null\n                    this.selectedAnswer = {}\n                    this.showNextOrFinishButton = false\n                }else{\n                    this.selectedIndexNum = answerindex\n                    this.selectedAnswer['answerID'] = answer.id\n                    this.selectedAnswer['isCorrect'] = answer.is_correct\n                    this.handleShowNextOrFinishButton()\n                }\n            }else if(question.question_type == 4){\n                console.log(\"in No4 DELETE\")\n                if(this.selectedOrderAnswer[answerindex+1]){\n                    this.selectedOrderAnswer = \n                    this.changeOrder(this.selectedOrderAnswer,answerindex+1)\n                    this.getAnswerIDAndOrder(answer.answer_id,this.selectAnswerCounter)\n                    this.selectAnswerCounter -= 1\n                    this.showNextOrFinishButton = false\n                    \n                }else{\n                    console.log(\"in No4 ADD\")\n                    this.selectAnswerCounter += 1\n                    this.selectedOrderAnswer[answerindex+1] = this.selectAnswerCounter\n                    this.getAnswerIDAndOrder(answer.answer_id,this.selectAnswerCounter)\n                    console.log(\"Onclick-No4\",Object.keys(this.selectedOrderAnswer).length, question.length)\n                    if(Object.keys(this.selectedOrderAnswer).length == question.answer.length){\n                    this.handleShowNextOrFinishButton()\n                    }\n                }\n            }else if(question.question_type == 5){\n                console.log(\"on click_type5 question\",question)\n                this.getNumOfIscorrect(question.answer)\n                if(this.selectedOrderAnswer[answerindex+1]){\n                    this.selectedOrderAnswer = \n                    this.changeOrder(this.selectedOrderAnswer,answerindex+1)\n                    // console.log('SOA',this.selectedOrderAnswer)\n                    this.getIDAndIsCorrect(answer.id, answer.is_correct)\n                    this.selectAnswerCounter -= 1\n                    if(question.max_select){\n                        if(Object.keys(this.selectedOrderAnswer).length < question.max_select){\n                            this.showNextOrFinishButton = false\n                            this.maxSelectReach = false\n                        }\n                    }else if(Object.keys(this.selectedOrderAnswer).length == 0){\n                        this.showNextOrFinishButton = false\n                    }\n                }else{\n                    this.selectAnswerCounter += 1\n                    this.selectedOrderAnswer[answerindex+1] = this.selectAnswerCounter\n                    this.getIDAndIsCorrect(answer.id, answer.is_correct)\n                    if(question.max_select){\n                        if(Object.keys(this.selectedOrderAnswer).length == question.max_select){\n                            this.handleShowNextOrFinishButton()\n                            this.maxSelectReach = true\n                        }\n                    }else{\n                        this.handleShowNextOrFinishButton()\n                    }\n                }\n            }\n        },\n        changeOrder(dict, index){\n            // if deleted, the num or nums before the deleted items order num\n            // change\n            let orderNum = dict[index]\n            delete dict[index]\n            if(dict){\n                let changeDict = {}\n                Object.keys(dict).forEach(key =>{\n                    if(dict[key] > orderNum){\n                        dict[key] -= 1\n                    }\n                })\n            }\n        return dict\n        },\n        selectAnswerHandler(questionType){\n            // this is get informations about selected-answer for result component\n            // return SelectedAnswerInfo\n            if(questionType == 3){\n                this.SelectedAnswerInfo[this.questionLengthCounter] = {}\n                this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType\n                this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = this.selectedAnswer.isCorrect\n                this.handleUserStatus(this.selectedAnswer.isCorrect)\n                this.SelectedAnswerInfo[this.questionLengthCounter]['answerID'] = this.selectedAnswer.answerID\n            }\n            else if(questionType == 4){\n                this.SelectedAnswerInfo[this.questionLengthCounter] = {}\n                this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType\n                let stringKeys = Object.keys(this.answerIDAndOrder[this.questionLengthCounter]).map(function(a){\n                    return Number(a)\n                })\n                if(JSON.stringify(stringKeys) == JSON.stringify(Object.values(this.answerIDAndOrder[this.questionLengthCounter]))){\n                    this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = true\n                    this.handleUserStatus(true)\n                }else{\n                    this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = false\n                    this.handleUserStatus(false)\n                }\n                this.makeOrderBoolean()\n                this.SelectedAnswerInfo[this.questionLengthCounter]['orderAnswer'] = this.answerIDAndOrder\n            }else if(questionType == 5){\n                this.SelectedAnswerInfo[this.questionLengthCounter] = {}\n                this.SelectedAnswerInfo[this.questionLengthCounter]['questionType'] = questionType\n                let isCorrectCounter = 0\n                var type5IsCorrect = true\n                Object.values(this.selectedAnswer).forEach(value =>{\n                    if(value == false){\n                        this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = false\n                        this.handleUserStatus(false)\n                        type5IsCorrect = false\n                    }else{\n                        isCorrectCounter += 1\n                    }\n                })\n                console.log('SAH',this.NumOfIscorrect, isCorrectCounter)\n                if(this.NumOfIscorrect == isCorrectCounter&&\n                type5IsCorrect){\n                    this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = true\n                    this.handleUserStatus(true)\n                }else if(type5IsCorrect==false&&\n                isCorrectCounter > 0){\n                    this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = null\n                    this.handleUserStatus(false)\n                }\n                // else if(this.maxSelectReach){\n                //     this.SelectedAnswerInfo[this.questionLengthCounter]['isCorrect'] = null\n                // }\n                this.SelectedAnswerInfo[this.questionLengthCounter]['selectedAnswer'] = this.selectedAnswer\n            }\n        },\n        getAnswerIDAndOrder(answerID,orderNum){\n            // this is for collecting answer from questionType 4\n            console.log(\"GAID\")\n            if(this.questionLengthCounter in this.answerIDAndOrder){\n                console.log(\"first-IF TRUE\",this.questionLengthCounter, this.answerIDAndOrder)\n                console.log(\"sono2daze\",orderNum, this.answerIDAndOrder[this.questionLengthCounter])\n                if(orderNum in this.answerIDAndOrder[this.questionLengthCounter]){\n                    this.answerIDAndOrder[this.questionLengthCounter] =\n                    this.changeOrder(this.answerIDAndOrder[this.questionLengthCounter],orderNum)\n                }else{\n                    this.answerIDAndOrder[this.questionLengthCounter][orderNum] = answerID   \n                }\n            }else{\n                this.answerIDAndOrder[this.questionLengthCounter] = {}\n                this.answerIDAndOrder[this.questionLengthCounter][orderNum] = answerID\n            }   \n        },\n        makeOrderBoolean(){\n            // this is for AnswerIDAndOrder{1:1} to be {1:true}\n            let newDict = {}\n            let IntegerKeys = Object.keys(this.answerIDAndOrder[this.questionLengthCounter]).map(function(a){\n                    return Number(a)\n                })\n            for(let i = 0; i < IntegerKeys.length; i++){\n                if(IntegerKeys[i] == Object.values(this.answerIDAndOrder[this.questionLengthCounter])[i]){\n                    newDict[i+1] = true\n                }else{\n                    newDict[i+1] = false\n                }\n            }\n            this.answerIDAndOrder = newDict\n            // stringKeys.forEach(num =>{\n            //     Object.values(this.answerIDAndOrder[this.questionLengthCounter]).forEach(value =>{\n            //         if(num == )\n            //     })\n            // })\n        },\n        getIDAndIsCorrect(id, isCorrect){\n            // this is for questionType 5 \n            if(id in this.selectedAnswer){\n                delete this.selectedAnswer[id]\n                console.log(id,\"deleted\",this.selectedAnswer)\n            }else{\n                this.selectedAnswer[id] = isCorrect\n                console.log(id,\"added\",this.selectedAnswer)\n            }\n        },\n        getNumOfIscorrect(answers){\n            // this is for questionType 5\n            console.log('inGNOI',this.NumOfIscorrect,answers)\n            if(this.NumOfIscorrect==false){\n                console.log('Gp')\n                 Object.values(answers).forEach(value =>{\n                    if(value.is_correct){\n                        this.NumOfIscorrect += 1\n                    }\n                })\n            }\n        },\n        handleShowNextOrFinishButton(){\n            this.showNextOrFinishButton = true\n        },\n        resultAnswerHandler(){\n            if(this.result){\n                this.resultHandleDict.isCorrect = false\n                this.resultHandleDict.isNotCorrect = false\n                this.resultHandleDict.answerAllTrueType4 = false\n                this.resultHandleDict.questionType4 = false\n                this.resultHandleDict.answerIDType3 = ''\n                this.resultHandleDict.answerIDType4 = ''\n                this.resultHandleDict.answerIDType5 = ''\n                Object.keys(this.SelectedAnswerInfo).forEach(key =>{\n                    if(key==this.questionLengthCounter){\n                        console.log(\"currentType\",this.SelectedAnswerInfo[key].questionType,this.SelectedAnswerInfo[key].isCorrect)\n                        if(this.SelectedAnswerInfo[key].isCorrect){\n                            if(this.SelectedAnswerInfo[key].questionType==4){\n                                this.resultHandleDict.answerAllTrueType4 = true\n                            }else if(this.SelectedAnswerInfo[key].questionType==5){\n                                this.resultHandleDict.answerIDType5 = this.SelectedAnswerInfo[key].selectedAnswer\n                            }\n                            this.resultHandleDict.isCorrect = true\n                        }else if(this.SelectedAnswerInfo[key].isCorrect==false&&\n                            this.SelectedAnswerInfo[key].questionType==3){\n                                this.resultHandleDict.isCorrect = true\n                                this.resultHandleDict.isNotCorrect = true\n                                this.resultHandleDict.answerIDType3 = this.SelectedAnswerInfo[key].answerID\n                        }else if(this.SelectedAnswerInfo[key].questionType==5){\n                            console.log(\"in type5\")\n                                this.resultHandleDict.isCorrect = true\n                                this.resultHandleDict.isNotCorrect = true\n                                this.resultHandleDict.answerIDType5 = this.SelectedAnswerInfo[key].selectedAnswer\n                                console.log(\"type5\",this.resultHandleDict.answerIDType5)\n                        }else if(this.SelectedAnswerInfo[key].isCorrect==false&&\n                            this.SelectedAnswerInfo[key].questionType==4){\n                                this.resultHandleDict.questionType4 = true\n                                this.resultHandleDict.isCorrect = true\n                                this.resultHandleDict.isNotCorrect = true\n                                this.resultHandleDict.answerIDType4 = this.SelectedAnswerInfo[key].orderAnswer\n                        }\n                    }\n                })      \n            }\n        },\n        type3And5CheckResult(selectedAnswer5,selectedAnswer3, answerID){\n            // console.log(selectedAnswer, answerID)\n            if(this.result){\n                console.log(\"type\",this.SelectedAnswerInfo[this.questionLengthCounter].questionType,\"5\",selectedAnswer5, \"3\",selectedAnswer3,answerID,this.questionLengthCounter)\n                if(this.SelectedAnswerInfo[this.questionLengthCounter].questionType==5){\n                    console.log(\"go\")\n                    if(answerID in selectedAnswer5){\n                        return true\n                    }else{\n                        return false\n                    }\n                }\n                else if(this.SelectedAnswerInfo[this.questionLengthCounter].questionType==3){\n                    if(answerID == selectedAnswer3){\n                        return true\n                    }else{\n                        return false\n                    }\n                }\n            }\n        },\n        handlePagination(a,b){\n            // this is for result component\n            console.log(\"HP\",a,b)\n            this.pagination.a = a\n            this.pagination.b = b\n            this.questionLengthCounter = b\n        },\n        handleCountUpDict(selectedAnswer,questionType,questionID){\n            this.countupDict.questionType = questionType\n            this.countupDict.questionID = questionID\n            if(questionType == 5){\n                this.countupDict.answerID = Object.keys(selectedAnswer)\n            }else if(questionType == 3){\n                Object.keys(selectedAnswer).forEach(key => {\n                    if(key = \"answerID\"){\n                        this.countupDict.answerID = selectedAnswer[key]\n                    }\n                })\n            }\n            this.$store.dispatch('countUpAnswerAndQuestion',this.countupDict)\n        },\n        HandleShowResult(){\n            this.showResult = !this.showResult          \n        },\n        handleResult(){\n            this.result = ! this.result\n        },\n        handleUserStatus(selectedAnswer){\n            // this is for only is_true and is_false\n            console.log(selectedAnswer)\n            this.userStatusDict.isCorrect = 0\n            this.userStatusDict.isFalse = 0\n            if(selectedAnswer){\n                this.userStatusDict.isCorrect = 1\n            }else{\n                this.userStatusDict.isFalse = 1\n            }\n            this.$store.dispatch('userStatusPost',this.userStatusDict)\n            console.log('HUS',this.userStatusDict)\n            \n        },\n        getQuestionStatus(lavel,status){\n            this.userStatusDict.status = status\n            return lavel\n        },\n        resultNext(){\n            this.pagination.a += 1 \n            this.pagination.b += 1\n            this.questionLengthCounter += 1\n            this.resultAnswerHandler()\n            this.scrollTop()\n        },\n        resultBack(){\n            this.pagination.a -= 1 \n            this.pagination.b -= 1\n            this.questionLengthCounter -= 1\n            this.resultAnswerHandler()\n            this.scrollTop()\n        },\n        scrollTop(){\n            window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n            });\n        },\n        setTempStatusDict(){\n            console.log('IN-setSD',this.tempStatusDict,this.userStatusDict)\n            const _ = require('lodash');\n            let copyObject = _.cloneDeep(this.userStatusDict)\n            if(!this.tempStatusDict.status[0]){\n                this.tempStatusDict.status.push(copyObject)\n                console.log('pushed')\n            }\n            else{\n                for(let i in this.tempStatusDict.status){\n                    console.log('loop',i,typeof(i),this.tempStatusDict.status[i].status,copyObject.status)\n                    if(this.tempStatusDict.status[i].status==copyObject.status){\n                        console.log('true',this.tempStatusDict)\n                        if(copyObject.isCorrect){\n                            console.log('correct')\n                            this.tempStatusDict.status[i].isCorrect+=1\n                            console.log('correct',this.tempStatusDict)\n                            break\n                        }else{\n                            console.log('notcorrect')\n                            this.tempStatusDict.status[i].isFalse+=1\n                            console.log('notcorrect',this.tempStatusDict)\n                            break\n                        }\n                    }\n                    else{\n                        console.log('false',i,this.tempStatusDict.status.length -1)\n                        if(Number(i) == this.tempStatusDict.status.length -1){\n                            this.tempStatusDict.status.push(copyObject)\n                            console.log('pushed2',this.tempStatusDict.status)\n                        }\n                    }\n                }\n            }\n        },\n        \n        // from here for test function\n        quizTestInfoHandler(){\n            console.log('in-QTIH',typeof(this.currentLevel),this.currentLevel,this.quizTestInfo.grade)\n            if(this.currentLevel >= 11) {\n                console.log('over 11')\n                this.currentLevel = 1;\n                console.log('CL',this.currentLevel)\n                for(let [index,i] of this.gradeList.entries()){\n                    console.log('i',i,'index',index)\n                    this.$store.commit('convertGradeFromIntToID',i)\n                    console.log(this.gradeForConvert,this.currentGrade)\n                    if(this.gradeForConvert == this.currentGrade) {\n                        this.$store.commit('convertGradeFromIntToID',this.gradeList[index +1])\n                        this.quizTestInfo.quizId = this.gradeForConvert\n                        this.currentGrade = this.gradeForConvert\n                        console.log(\"info\",this.quizTestInfo)\n                        break\n                    }\n                }\n            }\n            else if(this.currentLevel == 0){\n                this.currentLevel = 10;\n                for(let [index,i] of this.gradeList.entries()){\n                    this.$store.commit('convertGradeFromIntToID',i)\n                    console.log(this.gradeForConvert,this.currentGrade)\n                    if(this.gradeForConvert == this.currentGrade) {\n                        this.$store.commit('convertGradeFromIntToID',this.gradeList[index -1])\n                        this.quizTestInfo.quizId = this.gradeForConvert \n                        this.currentGrade = this.gradeForConvert\n                        break\n                    }\n                }\n            }\n            console.log(\"do nothing\")\n        },\n        checkConsecutiveResult(){\n            var correctCounter = 0\n        \n            console.log('SS',this.SelectedAnswerInfo)\n            if(Object.keys(this.SelectedAnswerInfo).length >= 4){\n                if(Object.keys(this.SelectedAnswerInfo).length == 10){\n                    let isTrue = 0\n                    let isFalse = 0\n                    for (let i = 1; i <= 10; i++){\n                        if(this.SelectedAnswerInfo[i].isCorrect){\n                            isTrue += 1\n                        }else{\n                            isFalse += 1\n                        }\n                    }\n                    console.log(\"isT\",isTrue)\n                    console.log(\"isF\",isFalse)\n                    if(isTrue >= 7){\n                        this.LevelCounters.handleLevelUp += 1\n                        this.currentLevel += 1\n                        this.quizTestInfoHandler()\n                        if(this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown == 3){\n                            this.finishTest = true\n                            this.getFinalResult()\n                            this.LevelCounters.handleLevelUp = 0\n                            this.LevelCounters.handleLevelDown = 0\n                        }\n                        else{\n                            this.quizTestInfo.level = this.currentLevel\n                            this.$store.commit('getTestQuizInfo',this.quizTestInfo)\n                            this.getTestQuestions()\n                            this.pagination.a = 0\n                            this.pagination.b = 1\n                            this.SelectedAnswerInfo = {}\n                            correctCounter = 0\n                            this.questionLengthCounter = 1\n                        }\n                    }\n                    else if(isTrue > 4 && isTrue < 7){\n                        this.finishTest = true\n                        this.getFinalResult()\n                        this.LevelCounters.handleLevelUp = 0\n                        this.LevelCounters.handleLevelDown = 0\n                    }\n                    else{\n                        console.log(\"IT\",isTrue)\n                        this.LevelCounters.handleLevelDown += 1\n                        this.$store.commit('convertGradeFromIntToID',this.gradeList[0])\n                        console.log('CG',this.currentGrade,'CON',this.gradeForConvert,'CL',this.currentLevel)\n                        console.log(this.currentGrade !=this.gradeForConvert&&this.currentLevel!=1)\n                        console.log(this.currentGrade !=this.gradeForConvert,this.currentLevel!=1)\n                        if(this.currentGrade !=this.gradeForConvert){\n                            console.log(\"dpwn start\")\n                            this.currentLevel -= 1\n                            this.quizTestInfoHandler()\n                            if(this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown == 3){\n                                this.finishTest = true\n                                this.getFinalResult()\n                                this.LevelCounters.handleLevelUp = 0\n                                this.LevelCounters.handleLevelDown = 0\n                            }\n                            else{\n                                this.quizTestInfo.level = this.currentLevel\n                                this.$store.commit('getTestQuizInfo',this.quizTestInfo)\n                                this.getTestQuestions()\n                                correctCounter = 0\n                                this.pagination.a = 0\n                                this.pagination.b = 1\n                                this.questionLengthCounter = 1\n                                this.SelectedAnswerInfo = {}\n                            }\n                        }\n                        else{\n                            console.log('no more low level')\n                        }\n                    }\n                    if(this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown == 3){\n                        this.finishTest = true\n                        this.getFinalResult()\n                        this.LevelCounters.handleLevelUp = 0\n                        this.LevelCounters.handleLevelDown = 0\n                    }\n                }else{\n                    console.log(\"longer than 4\")\n                    let num4 = 0\n                    num4 = Object.keys(this.SelectedAnswerInfo).length - 4\n                    // check correct answer 4 times in a row\n                    for (let i = 1; i <= 4; i++){\n                        console.log(\"forloop\",this.SelectedAnswerInfo)\n                        if(this.SelectedAnswerInfo[i + num4].isCorrect){\n                            correctCounter += 1\n                        }\n                    }\n                    if(correctCounter == 4){\n                        console.log(\"correct4\",this.LevelCounters.handleLevelUp,this.LevelCounters.handleLevelDown)\n                        this.LevelCounters.handleLevelUp += 1\n                        if(this.LevelCounters.handleLevelUp>=3&&this.LevelCounters.handleLevelDown==0){\n                            this.finishTest = true\n                            this.getFinalResult()\n                            this.LevelCounters.handleLevelUp = 0\n                        }else if(this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown==3){\n                            console.log(\"quiz done\", this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown)\n                            this.finishTest = true\n                            this.getFinalResult()\n                            this.LevelCounters.handleLevelUp = 0\n                            this.LevelCounters.handleLevelDown = 0\n                        }else{\n                            console.log('UP')\n                            this.currentLevel += 1\n                            this.quizTestInfoHandler()\n                            this.quizTestInfo.level = this.currentLevel\n                            this.$store.commit('getTestQuizInfo',this.quizTestInfo)\n                            this.getTestQuestions()\n                            this.pagination.a = 0\n                            this.pagination.b = 1\n                            this.SelectedAnswerInfo = {}\n                            correctCounter = 0\n                            this.questionLengthCounter = 1\n                        }                \n                    }else if(correctCounter == 0){\n                        console.log(\"zeroCA\")\n                        this.$store.commit('convertGradeFromIntToID',this.gradeList[0])\n                        if(this.currentLevel==1&&this.currentGrade==this.gradeForConvert){\n                            console.log(\"no more low level\")\n                            this.finishTest = true\n                            this.getFinalResult()\n                            this.LevelCounters.handleLevelUp = 0\n                            this.LevelCounters.handleLevelDown = 0\n                        }\n                        else{\n                            this.LevelCounters.handleLevelDown += 1\n                            console.log(\"in down-part\",this.LevelCounters.handleLevelUp,this.LevelCounters.handleLevelDown)\n                            if(this.LevelCounters.handleLevelDown>=3&&this.LevelCounters.handleLevelUp==0){\n                                this.finishTest = true\n                                this.getFinalResult()\n                                this.LevelCounters.handleLevelDown = 0\n                            }\n                            else if(this.LevelCounters.handleLevelUp+this.LevelCounters.handleLevelDown==3){\n                                this.finishTest = true\n                                this.getFinalResult()\n                                this.LevelCounters.handleLevelUp = 0\n                                this.LevelCounters.handleLevelDown = 0\n                            }else{\n                                console.log('down',this.currentLevel)\n                                this.currentLevel -= 1\n                                this.quizTestInfoHandler()\n                                this.quizTestInfo.level = this.currentLevel\n                                this.$store.commit('getTestQuizInfo',this.quizTestInfo)\n                                this.getTestQuestions()\n                                correctCounter = 0\n                                this.pagination.a = 0\n                                this.pagination.b = 1\n                                this.questionLengthCounter = 1\n                                this.SelectedAnswerInfo = {}\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        async updateQuizTaker(){\n            console.log('UQT',\n            this.$store.state.signup.djangoUser.quiz_taker)\n            this.$store.commit(\"convertGradeFromIntToID\",this.finalResult.grade)\n            await axios.patch(`api/quiz-taker-test/?quiz_taker=${this.$store.getters.quizTaker}&grade=${this.currentGrade}&level=${this.finalResult.level}`)\n        },\n        getFinalResult(){\n            console.log(\"GFR\",this.currentGrade)\n            this.$store.commit('convertGradeFromIDToInt',this.currentGrade)\n            this.finalResult.grade = this.gradeForConvert\n            console.log('final_grade',this.gradeForConvert)\n            this.finalResult.level = this.currentLevel\n            this.tempStatusDict.level = this.currentLevel\n            this.$store.dispatch('convertGradeFromIntToIDForNewUser',this.currentGrade)\n            this.tempStatusDict.grade = this.$store.getters.gradeForConvert\n            this.tempStatusDict.grade = this.$store.state.quiz.gradeForConvert\n            if(!this.tempStatusDict.grade){\n                // 4 is 超初級. it might be chainge\n                this.tempStatusDict.grade = 4\n            }\n            let payload = {grade:this.currentGrade,level:this.currentLevel}\n            this.$store.dispatch('updateQuizTakerAction',payload)\n            // this.$store.commit('setTempUser',this.tempStatusDict)\n            // this.$store.commit('tempUserTestTrue')\n            this.updateQuizTaker()\n            this.$store.commit('convertGradeFromIDToInt',this.startGradeAndLevel.grade)\n            console.log('int',this.gradeForConvert)\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"style/_variables.scss\";\n\n.quiz-wrapper{\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    margin-top: 0.5rem;\n    padding-bottom: 2rem;\n    // align-items: center;\n    .quiz-countainer{\n        width: 100%;\n        display: flex;\n        // align-items: center;\n        justify-content: center;\n        .question-loop{\n            width: 100%;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            .question-wrapper{\n            width: 95%;\n            border: solid  rgba(243, 91, 36, 0.808);\n            border-radius: 1rem;\n            overflow:hidden;\n                .question-header{\n                background: linear-gradient($base-lite,$base-color);\n                color:white;\n                padding:0.5rem;\n                font-weight:bold;\n                position:relative;\n                }\n                .question-body{\n                    background-color: rgb(253, 245, 239);\n                    padding:1rem;\n                    font-weight:bold;\n                }\n                .q{\n                position:absolute;\n                left:5%;\n                bottom:2%;\n                font-size:1.5rem;  \n                }\n            }\n            .image-container{\n                display: flex;\n                justify-content: center;\n                width: 100%;\n                .image{\n                    width: 40%;\n                }\n            }\n            .answer-wrapper{\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                margin-top: 1rem;\n                .is-correct-answer{\n                    background: rgb(148, 255, 235);\n                }\n                .answer-loop:hover{\n                    border: solid $base-color;\n                    // background: $base-lite-3;\n                    .answer-select{\n                        background: $base-lite-2;\n                    }\n                }\n                .answer-loop{\n                    width: 95%;\n                    height: 3rem;\n                    border: solid black;\n                    border-radius: 0.5rem;\n                    background: white;\n                    display: flex;\n                    align-items: center;\n                    margin-bottom: 0.5rem;\n                    transition:0.3s;\n                    .answer-select-bases{\n                        flex-basis: 15%;\n                        .answer-select{\n                            border: solid black;\n                            border-radius: 50vh;\n                            width: 2.5rem;\n                            height: 2.5rem;\n                            margin-left: 0.5rem;\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            transition:0.3s;\n                            .selecter{\n                                font-weight: bold;\n                                font-size: 1.5rem;\n                            }\n                        }\n                    }\n                    .answer-label-bases{\n                        flex-basis: 70%;\n                        .answer-label{\n\n                        }\n                    }\n                    .selected-answer-bases{\n                        flex-basis: 15%;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        .selected-answer-order{\n                            font-size: 1.5rem;\n                            font-weight: bold;\n                            color: gray;\n                            flex-basis: 50%;\n                        }\n                        .result-answer-order{\n                            flex-basis: 50%;\n                            .order{\n                                font-size: 1.5rem;\n                                font-weight: bold;\n                                color: gray;\n                                margin-right: 0.5rem;\n                            }\n                        }\n                        .fa-check{\n                            color: gray;\n                            flex-basis: 50%;\n                        }\n                        .fa-circle{\n                            color: rgba(0, 84, 75, 0.839);\n                            font-size: 1.5rem;\n                            flex-basis: 50%;\n                            margin-right: 0.1rem;\n                        }\n                        .fa-times{\n                            color: rgba(244, 10, 10, 0.839);\n                            font-size: 1.5rem;\n                            margin-right: 0.1rem;\n                            flex-basis: 50%;\n                        }\n                    }\n                }\n                .is-correct-answer{\n                    background: rgb(177, 243, 231);\n                }\n                .isnot-correct-answer{\n                    background: rgb(255, 147, 147)\n                }\n                .selected-answer{\n                    background: $base-lite-3;\n                    .answer-select{\n                        background: $base-color;\n                        color: white;\n                    }\n                }\n            }\n            .button-quiz-container{\n                display: flex;\n                margin-top: 1rem;\n                align-items: center;\n                div{\n                    padding-top: 0.2rem;\n                    padding-bottom: 0.2rem;\n                    padding-right: 0.4rem;\n                    padding-left: 0.4rem;\n                }\n            }\n            .buttun-in-result{\n                display: flex;\n                margin-top: 1rem;\n                .btn-base-black-db-ov{\n                    padding-left: 0.5rem;\n                    padding-right: 0.5rem;\n                    padding-top: 0.2rem;\n                    padding-bottom: 0.2rem;\n                    margin-right: 0.5rem;\n                    margin-left: 0.5rem;\n                    font-weight: bold;                    \n                }\n                .btn-tr-white-base-sq{\n                    padding-left: 0.5rem;\n                    padding-right: 0.5rem;\n                    padding-top: 0.2rem;\n                    padding-bottom: 0.2rem;\n                }\n            }\n        }\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}