{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport createPersistedState from 'vuex-persistedstate';\nimport Cookies from 'js-cookie';\nimport { auth } from '@/firebase/config';\nimport { router } from \"@/main.js\";\nimport axios from 'axios';\nimport { createUserWithEmailAndPassword, fetchSignInMethodsForEmail, sendEmailVerification, signInWithEmailAndPassword, signOut, onAuthStateChanged, sendPasswordResetEmail, GoogleAuthProvider, signInWithPopup, getAuth } from 'firebase/auth';\nimport store from '..';\nexport default {\n  namespace: true,\n  // plugins: [\n  //     createPersistedState({\n  //       key: 'signupKey',  // 設定しなければ'vuex'\n  //       paths: ['username','email','email2','country',\"UID\"],  // 保存するモジュール：設定しなければ全部。\n  //       storage: window.sessionStorage,  // 設定しなければlocalStorage\n  //     })],\n  state: {\n    username: '',\n    email: '',\n    email2: '',\n    country: '',\n    password: '',\n    user: null,\n    registeredUser: false,\n    djangoUser: null,\n    UID: '',\n    fasvoriteQuestion: '',\n    emailVerified: null,\n    authIsReady: false,\n    checkedEmail: null,\n    accountURL: 'http://localhost:8080/',\n    actionCodeSettings: {\n      url: null,\n      handleCodeInApp: true\n    },\n    tempUser: {\n      test: false,\n      statusList: '',\n      grade: '',\n      level: ''\n    },\n    favoriteQuestion: '',\n    logger: {\n      exist: false,\n      actualErrorName: '',\n      actualErrorMessage: '',\n      message: '',\n      path: ''\n    },\n    userInfo: '',\n    exceptUserInfo: '',\n    beingException: false,\n    reloadForException: false,\n    apiError: {\n      // this is for connection Error\n      django: false,\n      firebase: false,\n      ipinfo: false,\n      any: false\n    },\n    onSigningup: false,\n    myQuestion: '',\n    myQuizInfo: {\n      id: '',\n      max: ''\n    },\n    gradeDict: {\n      '超初級': 0,\n      '初級': 10,\n      '中級': 20,\n      '上級': 30\n    },\n    thirdPartyLogindata: '',\n    thirdPartyError: '',\n    photoURL: '',\n    countryData: ''\n  },\n  getters: {\n    getUID: function getUID(state) {\n      return state.UID;\n    },\n    getUser: function getUser(state) {\n      return state.user;\n    },\n    getDjangouser: function getDjangouser(state) {\n      return state.djangoUser;\n    },\n    getEmailVerified: function getEmailVerified(state) {\n      return state.emailVerified;\n    },\n    getTempUser: function getTempUser(state) {\n      return state.tempUser;\n    },\n    logger: function logger(state) {\n      return state.logger;\n    },\n    onSigningup: function onSigningup(state) {\n      return state.onSigningup;\n    },\n    getMyQuestion: function getMyQuestion(state) {\n      return state.myQuestion;\n    },\n    getMyQuizInfo: function getMyQuizInfo(state) {\n      return state.myQuizInfo;\n    },\n    quizNameIdInSignup: function quizNameIdInSignup(state, getters, rootState) {\n      return rootState.quiz.quizNameId;\n    },\n    getUserInfo: function getUserInfo(state) {\n      return state.userInfo;\n    },\n    getThirdPartyError: function getThirdPartyError(state) {\n      return state.thirdPartyError;\n    },\n    getPhotoURL: function getPhotoURL(state) {\n      return state.photoURL;\n    }\n  },\n  mutations: {\n    getUsername: function getUsername(state, item) {\n      state.username = item;\n    },\n    getEmail: function getEmail(state, item) {\n      state.email = item;\n    },\n    getEmail2: function getEmail2(state, item) {\n      state.email2 = item;\n    },\n    getCountry: function getCountry(state, item) {\n      state.country = item;\n    },\n    getPassword: function getPassword(state, item) {\n      state.password = item;\n    },\n    setUser: function setUser(state, payload) {\n      state.user = payload;\n\n      if (state.user) {\n        state.registeredUser = true;\n        state.UID = state.user.uid;\n      }\n\n      console.log('user state changed:', state.user);\n    },\n    setAuthIsReady: function setAuthIsReady(state, payload) {\n      state.authIsReady = payload;\n      console.log('setauth is changed:', state.user);\n    },\n    setDjangoUser: function setDjangoUser(state, payload) {\n      state.djangoUser = payload;\n      console.log('set Django user', state.djangoUser);\n    },\n    emailVerifiedHandler: function emailVerifiedHandler(state, payload) {\n      state.emailVerified = payload;\n      console.log('emailV chainged', state.emailVerified);\n    },\n    checkEmailHandler: function checkEmailHandler(state, payload) {\n      state.checkedEmail = payload;\n    },\n    setTempUser: function setTempUser(state, payload) {\n      state.tempUser.test = true;\n      state.tempUser.statusList = payload.status;\n      state.tempUser.grade = payload.grade;\n      state.tempUser.level = payload.level;\n      console.log('set-temp-user', state.tempUser);\n    },\n    setTempUserReset: function setTempUserReset(state) {\n      state.tempUser.test = false;\n      state.tempUser.statusList = '', state.tempUser.grade = '', state.tempUser.level = '';\n      Cookies.remove('tempKey');\n      console.log('reset-TempUser', state.tempUser);\n    },\n    tempUserTestTrue: function tempUserTestTrue(state) {\n      state.tempUser.test = true;\n    },\n    resetQuizKeyStorage: function resetQuizKeyStorage(state) {\n      // this is for log out\n      state.UID = null;\n      state.djangoUser = null;\n      state.emailVerified = null;\n      state.beingException = false, state.reloadForException = false;\n      state.apiError.django = false;\n      state.apiError.firebase = false;\n      state.apiError.ipinfo = false;\n      state.apiError.any = false;\n      state.myQuizInfo.id = '';\n      state.myQuizInfo.max = '';\n      state.myQuestion = '';\n      state.registeredUser = false;\n      console.log('all-Reset');\n    },\n    setLogger: function setLogger(state, payload) {\n      state.logger.actualErrorName = payload.actualErrorName;\n      state.logger.actualErrorMessage = payload.actualErrorMessage;\n      state.logger.path = 'vue' + payload.path;\n      state.logger.message = payload.message;\n      state.logger.exist = true;\n    },\n    resetLogger: function resetLogger(state) {\n      state.logger.actualErrorName = '';\n      state.logger.actualErrorMessage = '';\n      state.logger.path = '';\n      state.logger.message = '';\n      state.logger.exist = false;\n    },\n    setUserInfo: function setUserInfo(state, payload) {\n      state.userInfo = payload;\n    },\n    checkBeingException: function checkBeingException(state, payload) {\n      if (state.user && !state.djangoUser) {\n        state.beingException = true;\n        console.log('set-being-exception', state.beingException);\n      }\n    },\n    reloadForExceptionTrueForGeneralApiError: function reloadForExceptionTrueForGeneralApiError(state) {\n      state.reloadForException = true;\n      console.log('setRUFEtrue');\n    },\n    reloadForExceptionTrue: function reloadForExceptionTrue(state) {\n      if (state.user && !state.djangoUser) {\n        state.reloadForException = true;\n        console.log('setRUFEtrue');\n      }\n    },\n    reloadForExceptionFalse: function reloadForExceptionFalse(state) {\n      state.reloadForException = false;\n      console.log('setRUFEfalse');\n    },\n    handleapiError: function handleapiError(state, payload) {\n      if (payload == 'django') {\n        state.apiError.django = true;\n      } else if (payload == 'firebase') {\n        state.apiError.firebase = true;\n      } else if (payload == 'ipinfo') {\n        state.apiError.ipinfo = true;\n      }\n    },\n    checkDjangoError: function checkDjangoError(state, payload) {\n      if (state.apiError.django) {\n        router.push({\n          name: 'ConnectionError'\n        });\n      } else if (payload == \"Network Error\") {\n        state.apiError.django = true;\n        state.apiError.any = true;\n      } else {\n        router.push({\n          name: 'NotFound404'\n        });\n      }\n    },\n    resetDjangoError: function resetDjangoError(state) {\n      state.apiError.django = false;\n      state.apiError.any = false;\n    },\n    handleOnSigningup: function handleOnSigningup(state) {\n      state.onSigningup = !state.onSigningup;\n    },\n    deleteMyQuestion: function deleteMyQuestion(state, payload) {\n      console.log(\"before\", state.myQuestion, payload);\n      state.myQuestion = state.myQuestion.filter(function (item) {\n        console.log('item', item);\n        return item.question.id != payload;\n      });\n      console.log(\"after\", state.myQuestion);\n    },\n    addMyQuestion: function addMyQuestion(state, payload) {\n      console.log(\"before\", state.myQuestion, payload);\n      state.myQuestion.push(payload);\n      console.log(\"after\", state.myQuestion);\n    },\n    updateQuizTaker: function updateQuizTaker(state, payload) {\n      state.djangoUser.quiz_taker[0].grade = payload.grade;\n      state.djangoUser.quiz_taker[0].level = payload.level;\n      console.log('set', state.djangoUser);\n    },\n    updateQuizTakerMax: function updateQuizTakerMax(state, payload) {\n      // this is for session storage only to reduce API hit\n      state.djangoUser.quiz_taker[0].max_level = state.djangoUser.quiz_taker[0].level;\n      state.djangoUser.quiz_taker[0].max_grade = payload;\n      console.log('set_max', state.djangoUser);\n    },\n    setTirdPartyLoginData: function setTirdPartyLoginData(state, payload) {\n      if (state.tempUser.test) {\n        console.log('YES TEMP');\n        state.userInfo = {\n          UID: payload.uid,\n          name: payload.displayName,\n          email: payload.email,\n          quiz_taker: [{\n            grade: state.tempUser.grade\n          }, {\n            level: state.tempUser.level\n          }]\n        };\n      } else {\n        console.log('NO TEMP');\n        state.userInfo = {\n          UID: payload.uid,\n          name: payload.displayName,\n          email: payload.email\n        };\n      } // try{\n      //     console.log(\"try\",this.userInfo)\n      //     this.$store.dispatch('signupDjangoUser',this.userInfo)\n      // }\n      // catch(error){\n      //     console.log('error',error.message)\n      // }\n\n    },\n    setIpData: function setIpData(state, payload) {\n      state.userInfo['ip_data'] = [{\n        city: payload.city,\n        ip: payload.ip,\n        loc: payload.loc,\n        org: payload.org,\n        postal: payload.postal,\n        region: payload.region,\n        timezone: payload.timezone,\n        country: payload.country\n      }];\n      console.log('setIpdata', state.userInfo);\n    },\n    setPhotoURL: function setPhotoURL(state, payload) {\n      state.photoURL = payload;\n    },\n    resetPhotoURL: function resetPhotoURL(state, payload) {\n      state.photoURL = '';\n    }\n  },\n  actions: {\n    signupDjangoUser: function signupDjangoUser(_ref, payload) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var state, commit, _logger;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref.state, commit = _ref.commit;\n                console.log(\"INSDU\", payload);\n                _context.prev = 2;\n                _context.next = 5;\n                return axios({\n                  method: 'post',\n                  url: '/api/user/',\n                  data: payload\n                }).then(function (response) {\n                  commit('setDjangoUser', response.data);\n                });\n\n              case 5:\n                state.beingException = false;\n                commit(\"resetDjangoError\");\n                commit(\"setTempUserReset\");\n                state.userInfo = '';\n                _context.next = 18;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](2);\n                state.userInfo = payload;\n                _logger = {\n                  message: \"in store/signup.SignupDjangoUser. couldn't signup django user\",\n                  path: window.location.pathname,\n                  actualErrorName: _context.t0.name,\n                  actualErrorMessage: _context.t0.message\n                };\n                console.log('error', _context.t0);\n                commit('setLogger', _logger);\n                commit(\"checkDjangoError\", _context.t0.message);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 11]]);\n      }))();\n    },\n    signupDjangoUserForException: function signupDjangoUserForException(_ref2, payload) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var state, commit, _logger2, _logger3, _logger4;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref2.state, commit = _ref2.commit;\n                // this is only for unsub below. dont use other part\n                console.log(\"INSDUFX\");\n\n                if (!(!state.djangoUser && state.beingException)) {\n                  _context2.next = 48;\n                  break;\n                }\n\n                if (!state.userInfo) {\n                  _context2.next = 22;\n                  break;\n                }\n\n                _context2.prev = 4;\n                _context2.next = 7;\n                return axios({\n                  method: 'post',\n                  url: '/api/user/',\n                  data: state.userInfo\n                }).then(function (response) {\n                  commit('setDjangoUser', response.data);\n                });\n\n              case 7:\n                state.beingException = false;\n                commit('resetDjangoError');\n                commit(\"setTempUserReset\");\n                state.userInfo = '';\n                _context2.next = 20;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](4);\n                console.log('catchdayo', _context2.t0.message);\n                commit(\"checkDjangoError\", _context2.t0.message);\n                _logger2 = {\n                  message: \"in store/signup.SignupDjangoUserException1. couldn't signup django user\",\n                  name: window.location.pathname,\n                  actualErrorName: _context2.t0.name,\n                  actualErrorMessage: _context2.t0.message\n                };\n                commit('setLogger', _logger2);\n                commit(\"checkDjangoError\", _context2.t0.message);\n\n              case 20:\n                _context2.next = 48;\n                break;\n\n              case 22:\n                _context2.prev = 22;\n                console.log('NO TEMP');\n                _context2.next = 26;\n                return axios.get(\"https://ipinfo.io/json?token=32e16159d962c5\").then(function (response) {\n                  var IP = response.data;\n                  state.exceptUserInfo = {\n                    UID: state.user.uid,\n                    name: '名前を変更しよう',\n                    email: state.user.email,\n                    ip_data: [{\n                      city: IP.city,\n                      ip: IP.ip,\n                      loc: IP.loc,\n                      org: IP.org,\n                      postal: IP.postal,\n                      region: IP.region,\n                      timezone: IP.timezone,\n                      country: IP.country\n                    }]\n                  };\n                });\n\n              case 26:\n                _context2.next = 34;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t1 = _context2[\"catch\"](22);\n                commit(\"checkDjangoError\", _context2.t1.message);\n                _logger3 = {\n                  message: \"in store/signup.SignupDjangoUserException2. couldn't signup django user\",\n                  path: window.location.pathname,\n                  actualErrorName: _context2.t1.name,\n                  actualErrorMessage: _context2.t1.message\n                };\n                commit('setLogger', _logger3);\n                router.push({\n                  name: 'NotFound404'\n                });\n\n              case 34:\n                _context2.prev = 34;\n                console.log('try non_userINFO', state.exceptUserInfo); // throw new Error('could not sent validation')\n\n                _context2.next = 38;\n                return axios({\n                  method: 'post',\n                  url: '/api/user/',\n                  data: state.exceptUserInfo\n                });\n\n              case 38:\n                state.beingException = false;\n                commit(\"resetDjangoError\");\n                _context2.next = 48;\n                break;\n\n              case 42:\n                _context2.prev = 42;\n                _context2.t2 = _context2[\"catch\"](34);\n                commit(\"checkDjangoError\", _context2.t2.message);\n                _logger4 = {\n                  message: \"in store/signup.SignupDjangoUserException3. couldn't signup django user\",\n                  path: window.location.pathname,\n                  actualErrorName: _context2.t2.name,\n                  actualErrorMessage: _context2.t2.message\n                };\n                commit('setLogger', _logger4);\n                router.push({\n                  name: 'NotFound404'\n                });\n\n              case 48:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[4, 13], [22, 28], [34, 42]]);\n      }))();\n    },\n    signupDjangoUserForThirdParty: function signupDjangoUserForThirdParty(_ref3, payload) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var state, commit, dispatch, _logger5;\n\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                state = _ref3.state, commit = _ref3.commit, dispatch = _ref3.dispatch;\n                console.log(\"INSDUTH\", payload);\n                _context3.prev = 2;\n                _context3.next = 5;\n                return axios({\n                  method: 'post',\n                  url: '/api/user/',\n                  data: payload\n                }).then(function (response) {\n                  if (response.status == 222) {\n                    console.log('response222');\n                    commit('resetPhotoURL');\n                    commit('setDjangoUser', response.data);\n                  } else {\n                    commit('setDjangoUser', response.data);\n                  }\n                });\n\n              case 5:\n                // state.beingException = false\n                commit(\"resetDjangoError\");\n                commit(\"setTempUserReset\"); // await dispatch(\"patchImage\")\n\n                state.userInfo = '';\n                _context3.next = 16;\n                break;\n\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](2);\n                // console.log('e',e,e.response.data)\n                // if(e.response.data = 'user-exists-django'){\n                //     state.thirdPartyError = e.response.data;\n                //     state.userInfo = payload\n                // }\n                // else{\n                _logger5 = {\n                  message: \"in store/signup.SignupDjangoUserFoeThirdParty. couldn't signup django user\",\n                  path: window.location.pathname,\n                  actualErrorName: _context3.t0.name,\n                  actualErrorMessage: _context3.t0.message\n                };\n                console.log('error', _context3.t0);\n                commit('setLogger', _logger5);\n                commit(\"checkDjangoError\", _context3.t0.message); // }\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[2, 10]]);\n      }))();\n    },\n    getDjangoUser: function getDjangoUser(_ref4) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var state, commit, dispatch, _logger6;\n\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                state = _ref4.state, commit = _ref4.commit, dispatch = _ref4.dispatch;\n\n                if (!(state.user && !state.beingException)) {\n                  _context4.next = 15;\n                  break;\n                }\n\n                console.log('GDU_pass', state.beingException);\n                _context4.prev = 3;\n                _context4.next = 6;\n                return axios.get(\"/api/user/\".concat(state.user.uid)).then(function (response) {\n                  commit('setDjangoUser', response.data);\n                  state.myQuestion = response.data.my_quiz[0].my_question;\n                  state.myQuizInfo.id = response.data.my_quiz[0].id;\n                  state.myQuizInfo.max = response.data.my_quiz[0].max_num;\n                  console.log(\"MQ\", state.myQuestion);\n                });\n\n              case 6:\n                commit(\"resetDjangoError\");\n                _context4.next = 15;\n                break;\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](3);\n                console.log('catch');\n                _logger6 = {\n                  message: \"in store/signup.getDjangoUser. couldn't signup django user\",\n                  path: window.location.pathname,\n                  actualErrorName: _context4.t0.name,\n                  actualErrorMessage: _context4.t0.message\n                };\n                commit('setLogger', _logger6);\n                commit(\"checkDjangoError\", _context4.t0.message);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[3, 9]]);\n      }))();\n    },\n    getFavoriteQuestion: function getFavoriteQuestion(_ref5) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var state, commit, questionId, _iterator, _step, i;\n\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                state = _ref5.state, commit = _ref5.commit;\n                state.favoriteQuestion = null;\n\n                if (!state.djangoUser) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                _context5.prev = 3;\n                questionId = [];\n                _iterator = _createForOfIteratorHelper(state.djangoUser.favorite_question[0].question);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    i = _step.value;\n                    questionId.push(i);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!questionId[0]) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                _context5.next = 10;\n                return axios.get(\"/api/board/question-favorite?question_id=\".concat(questionId)).then(function (response) {\n                  state.favoriteQuestion = response.data;\n                }).catch(function (e) {\n                  var logger = {\n                    message: \"in store/signup.getFavoriteQuestion. couldn't get favoriteQuestion \",\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message\n                  };\n                  commit('setLogger', logger);\n                  commit(\"checkDjangoError\", e.message);\n                });\n\n              case 10:\n                _context5.next = 14;\n                break;\n\n              case 12:\n                _context5.prev = 12;\n                _context5.t0 = _context5[\"catch\"](3);\n\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[3, 12]]);\n      }))();\n    },\n    // async getCountryData({ state, commit,dispatch }){\n    //     // commit('setIsLoading', true, {root:true})\n    //         console.log('country')\n    //         try{\n    //             await fetch('@/vue_front/src/assets/country.json')\n    //             .then(response => {\n    //                 console.log('res',response.data)\n    //             })\n    //         }\n    //         catch(e){\n    //             console.log('catch',e)\n    //             // let logger = {\n    //             //     message: \"in store/signup.getDjangoUser. couldn't signup django user\",\n    //             //     name: window.location.pathname,\n    //             //     actualErrorName: e.name,\n    //             //     actualErrorMessage: e.message,\n    //             // }\n    //             // commit('setLogger',logger)\n    //             // commit(\"checkDjangoError\", e.message)\n    //         }\n    // },\n    signup: function signup(context, _ref6) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var email, password, ref, _logger7;\n\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                email = _ref6.email, password = _ref6.password;\n                console.log('signup in');\n                _context6.prev = 2;\n                _context6.next = 5;\n                return createUserWithEmailAndPassword(auth, email, password);\n\n              case 5:\n                ref = _context6.sent;\n                context.state.actionCodeSettings['url'] = context.state.accountURL;\n                sendEmailVerification(ref.user, context.state.actionCodeSettings);\n                context.commit('setUser', ref.user);\n                context.commit('emailVerifiedHandler', ref.user.emailVerified);\n                console.log('signup is done', auth.currentUser);\n                _context6.next = 18;\n                break;\n\n              case 13:\n                _context6.prev = 13;\n                _context6.t0 = _context6[\"catch\"](2);\n                _logger7 = {\n                  message: \"in store/signup.signup. couldn't signup firebase user\",\n                  name: window.location.pathname,\n                  actualErrorName: _context6.t0.code,\n                  actualErrorMessage: _context6.t0.message\n                };\n                context.commit('setLogger', _logger7);\n                router.push({\n                  name: 'NotFound404'\n                });\n\n              case 18:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[2, 13]]);\n      }))();\n    },\n    googleLogin: function googleLogin(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var provider, auth;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                provider = new GoogleAuthProvider();\n                auth = getAuth();\n                signInWithPopup(auth, provider).then(function (result) {\n                  // This gives you a Google Access Token. You can use it to access the Google API.\n                  var credential = GoogleAuthProvider.credentialFromResult(result);\n                  var token = credential.accessToken; // The signed-in user info.\n\n                  context.commit('setPhotoURL', result.user.photoURL);\n                  context.commit('setUser', result.user);\n                  context.commit('emailVerifiedHandler', result.user.emailVerified);\n                  context.commit('setTirdPartyLoginData', result.user);\n                  context.dispatch('getIpData');\n                }).catch(function (e) {\n                  var logger = {\n                    message: \"in store/signup.googleLogin. couldn't Login firebase user\",\n                    name: window.location.pathname,\n                    actualErrorName: e.code,\n                    actualErrorMessage: e.message\n                  };\n                  context.commit('setLogger', logger);\n                  router.push({\n                    name: 'ConnectionError'\n                  }); // Handle Errors here.\n\n                  var errorCode = e.code;\n                  var errorMessage = e.message; // The email of the user's account used.\n\n                  var email = e.email; // The AuthCredential type that was used.\n\n                  var credential = GoogleAuthProvider.credentialFromError(e); // ...\n                });\n\n              case 3:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    sendEmailVerify: function sendEmailVerify(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                context.state.actionCodeSettings['url'] = context.state.accountURL;\n                console.log('sendEmail', context.state.user, context.state.actionCodeSettings);\n                _context8.next = 4;\n                return sendEmailVerification(context.state.user, context.state.actionCodeSettings);\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    },\n    sentValidation: function sentValidation(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                console.log('insentV');\n                _context9.prev = 1;\n                _context9.next = 4;\n                return context.state.user.sendEmailVerification();\n\n              case 4:\n                _context9.next = 10;\n                break;\n\n              case 6:\n                _context9.prev = 6;\n                _context9.t0 = _context9[\"catch\"](1);\n                // let logger = {\n                //     message: \"in store/signup.googleLogin. couldn't sentValidation firebase user\",\n                //     name: window.location.pathname,\n                //     actualErrorName: e.code,\n                //     actualErrorMessage: e.message,\n                // }\n                context.commit('setLogger', logger);\n                router.push({\n                  name: 'ConnectionError'\n                });\n\n              case 10:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[1, 6]]);\n      }))();\n    },\n    login: function login(context, _ref7) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var email, password, ref;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                email = _ref7.email, password = _ref7.password;\n                // context.commit('setIsLoading', true, {root:true})\n                console.log('in_login');\n                _context10.prev = 2;\n                _context10.next = 5;\n                return signInWithEmailAndPassword(auth, email, password);\n\n              case 5:\n                ref = _context10.sent;\n                _context10.next = 12;\n                break;\n\n              case 8:\n                _context10.prev = 8;\n                _context10.t0 = _context10[\"catch\"](2);\n                console.log('error');\n                throw new Error('could not complite signin');\n\n              case 12:\n                if (!ref) {\n                  _context10.next = 21;\n                  break;\n                }\n\n                console.log(\"IF YES\");\n                context.commit('setUser', ref.user);\n                context.dispatch('getDjangoUser');\n                context.commit(\"setTempUserReset\");\n                context.commit('emailVerifiedHandler', ref.user.emailVerified);\n                console.log(context.state.user, context.state.emailVerified);\n                _context10.next = 23;\n                break;\n\n              case 21:\n                console.log('error in sign in');\n                throw new Error('could not complite signin');\n\n              case 23:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[2, 8]]);\n      }))();\n    },\n    checkEmail: function checkEmail(context, email) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var ref;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.prev = 0;\n                _context11.next = 3;\n                return fetchSignInMethodsForEmail(auth, email);\n\n              case 3:\n                ref = _context11.sent;\n\n                if (ref == 'password') {\n                  context.commit('checkEmailHandler', false);\n                  console.log('already in use');\n                } else {\n                  context.commit('checkEmailHandler', true);\n                  console.log('you can use it');\n                }\n\n                _context11.next = 11;\n                break;\n\n              case 7:\n                _context11.prev = 7;\n                _context11.t0 = _context11[\"catch\"](0);\n                console.log('error in sign up');\n                throw new Error('could not check email');\n\n              case 11:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, null, [[0, 7]]);\n      }))();\n    },\n    passwordReset: function passwordReset(context, email) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                console.log('passreset action', email);\n                _context12.prev = 1;\n                context.state.actionCodeSettings['url'] = context.state.accountURL;\n                _context12.next = 5;\n                return sendPasswordResetEmail(auth, email, context.state.actionCodeSettings);\n\n              case 5:\n                console.log('password reset sent');\n                _context12.next = 12;\n                break;\n\n              case 8:\n                _context12.prev = 8;\n                _context12.t0 = _context12[\"catch\"](1);\n                console.log('error in pass reset');\n                throw new Error('could not sent pass reset');\n\n              case 12:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, null, [[1, 8]]);\n      }))();\n    },\n    logout: function logout(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return signOut(auth);\n\n              case 2:\n                context.commit('setUser', null);\n                context.commit('resetQuizKeyStorage');\n                router.push({\n                  name: 'Home'\n                });\n\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }))();\n    },\n    updateQuizTakerAction: function updateQuizTakerAction(_ref8, payload) {\n      var state = _ref8.state,\n          commit = _ref8.commit,\n          getters = _ref8.getters;\n      console.log('inUQTA', getters);\n      commit('updateQuizTaker', payload);\n      console.log('UPaction', getters.quizNameIdInSignup);\n\n      var _iterator2 = _createForOfIteratorHelper(getters.quizNameIdInSignup),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n\n          if (i.id == payload.grade) {\n            if (state.gradeDict[state.djangoUser.quiz_taker[0].max_grade] < state.gradeDict[i.name]) {\n              commit('updateQuizTakerMax', i.name);\n              break;\n            } else if (state.gradeDict[state.djangoUser.quiz_taker[0].max_grade] == state.gradeDict[i.name]) {\n              if (state.djangoUser.quiz_taker[0].max_level < payload.level) {\n                commit('updateQuizTakerMax', i.name);\n                break;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    },\n    getOrSignupDjangoUserForThirdParty: function getOrSignupDjangoUserForThirdParty(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return context.dispatch('signupDjangoUserForThirdParty', context.getters.getUserInfo);\n\n              case 2:\n                router.push({\n                  name: 'Account'\n                });\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }))();\n    },\n    getIpData: function getIpData(context) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return axios.get(\"https://ipinfo.io/json?token=32e16159d962c5\").then(function (response) {\n                  context.commit('setIpData', response.data);\n                  context.dispatch('getOrSignupDjangoUserForThirdParty');\n                });\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }))();\n    },\n    createLog: function createLog(context, payload) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.prev = 0;\n\n                if (!state.logger.exist) {\n                  _context16.next = 5;\n                  break;\n                }\n\n                _context16.next = 4;\n                return axios.post('/api/loggers-create', {\n                  message: payload.message,\n                  path: payload.path,\n                  actualErrorName: payload.actualErrorName,\n                  actualErrorMessage: payload.actualErrorMessage\n                });\n\n              case 4:\n                context.commit('resetLogger');\n\n              case 5:\n                _context16.next = 10;\n                break;\n\n              case 7:\n                _context16.prev = 7;\n                _context16.t0 = _context16[\"catch\"](0);\n                console.log('logerror', _context16.t0); // context.commit('resetLogger')\n\n              case 10:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, null, [[0, 7]]);\n      }))();\n    } // async patchImage(context){\n    //     var list = context.getters.getDjangouser.thumbnail.split('/')\n    //     console.log('list',list)\n    //     if(list.includes('default.png')&&context.getters.getPhotoURL){\n    //         console.log('png');\n    //         const blob = await fetch(this.getPhotoURL).then(r => r.blob());\n    //         const headers = { \"content-type\": \"multipart/form-data\" };\n    //         const formData = new FormData();\n    //         formData.append('thumbnail',blob,`${blob}.png`)\n    //         console.log('getthumb',formData.get('thumbnail'),formData),\n    //         axios.patch(`/api/user/${context.getters.getDjangouser.UID}`,\n    //             formData,\n    //             {headers}\n    //         )\n    //     }\n    // },\n\n  }\n};\nvar unsub = onAuthStateChanged(auth, function (user) {\n  store.commit('setAuthIsReady', true);\n  store.commit('setUser', user);\n  console.log('unsub', user);\n\n  if (user) {\n    store.dispatch('getDjangoUser');\n    store.commit('emailVerifiedHandler', user.emailVerified);\n    store.dispatch('signupDjangoUserForException');\n  } else {\n    store.commit('resetQuizKeyStorage');\n  }\n\n  unsub();\n});","map":{"version":3,"names":["createPersistedState","Cookies","auth","router","axios","createUserWithEmailAndPassword","fetchSignInMethodsForEmail","sendEmailVerification","signInWithEmailAndPassword","signOut","onAuthStateChanged","sendPasswordResetEmail","GoogleAuthProvider","signInWithPopup","getAuth","store","namespace","state","username","email","email2","country","password","user","registeredUser","djangoUser","UID","fasvoriteQuestion","emailVerified","authIsReady","checkedEmail","accountURL","actionCodeSettings","url","handleCodeInApp","tempUser","test","statusList","grade","level","favoriteQuestion","logger","exist","actualErrorName","actualErrorMessage","message","path","userInfo","exceptUserInfo","beingException","reloadForException","apiError","django","firebase","ipinfo","any","onSigningup","myQuestion","myQuizInfo","id","max","gradeDict","thirdPartyLogindata","thirdPartyError","photoURL","countryData","getters","getUID","getUser","getDjangouser","getEmailVerified","getTempUser","getMyQuestion","getMyQuizInfo","quizNameIdInSignup","rootState","quiz","quizNameId","getUserInfo","getThirdPartyError","getPhotoURL","mutations","getUsername","item","getEmail","getEmail2","getCountry","getPassword","setUser","payload","uid","console","log","setAuthIsReady","setDjangoUser","emailVerifiedHandler","checkEmailHandler","setTempUser","status","setTempUserReset","remove","tempUserTestTrue","resetQuizKeyStorage","setLogger","resetLogger","setUserInfo","checkBeingException","reloadForExceptionTrueForGeneralApiError","reloadForExceptionTrue","reloadForExceptionFalse","handleapiError","checkDjangoError","push","name","resetDjangoError","handleOnSigningup","deleteMyQuestion","filter","question","addMyQuestion","updateQuizTaker","quiz_taker","updateQuizTakerMax","max_level","max_grade","setTirdPartyLoginData","displayName","setIpData","city","ip","loc","org","postal","region","timezone","setPhotoURL","resetPhotoURL","actions","signupDjangoUser","commit","method","data","then","response","window","location","pathname","signupDjangoUserForException","get","IP","ip_data","signupDjangoUserForThirdParty","dispatch","getDjangoUser","my_quiz","my_question","max_num","getFavoriteQuestion","questionId","favorite_question","i","catch","e","signup","context","ref","currentUser","code","googleLogin","provider","result","credential","credentialFromResult","token","accessToken","errorCode","errorMessage","credentialFromError","sendEmailVerify","sentValidation","login","Error","checkEmail","passwordReset","logout","updateQuizTakerAction","getOrSignupDjangoUserForThirdParty","getIpData","createLog","post","unsub"],"sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/store/modules/signup.js"],"sourcesContent":["import createPersistedState from 'vuex-persistedstate'\nimport Cookies from 'js-cookie'\nimport { auth } from '@/firebase/config'\nimport {router} from \"@/main.js\"\nimport axios from 'axios'\nimport {\n  createUserWithEmailAndPassword,\n  fetchSignInMethodsForEmail,\n  sendEmailVerification,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  sendPasswordResetEmail,\n  GoogleAuthProvider,\n  signInWithPopup,\n  getAuth,\n} from 'firebase/auth'\nimport store from '..'\n\nexport default {\n    namespace: true,\n    // plugins: [\n    //     createPersistedState({\n    //       key: 'signupKey',  // 設定しなければ'vuex'\n    //       paths: ['username','email','email2','country',\"UID\"],  // 保存するモジュール：設定しなければ全部。\n    //       storage: window.sessionStorage,  // 設定しなければlocalStorage\n    //     })],\n    state: {\n        username: '',\n        email:'',\n        email2:'',\n        country:'',\n        password:'',\n        user: null,\n        registeredUser: false,\n        djangoUser: null,\n        UID:'',\n        fasvoriteQuestion:'',\n        emailVerified:null,\n        authIsReady:false,\n        checkedEmail:null,\n        accountURL:'http://localhost:8080/',\n        actionCodeSettings:{\n            url: null,\n            handleCodeInApp: true\n        },\n        tempUser: {\n            test: false,\n            statusList:'',\n            grade:'',\n            level:''\n        },\n        favoriteQuestion:'',\n        logger:{\n            exist: false,\n            actualErrorName:'',\n            actualErrorMessage:'',\n            message:'',\n            path:''\n        },\n        userInfo:'',\n        exceptUserInfo:'',\n        beingException:false,\n        reloadForException: false,\n        apiError:{\n            // this is for connection Error\n            django: false,\n            firebase: false,\n            ipinfo: false,\n            any: false\n        },\n        onSigningup:false,\n        myQuestion:'',\n        myQuizInfo:{\n            id:'',\n            max:'',\n        },\n        gradeDict:{\n            '超初級':0,\n            '初級':10,\n            '中級':20,\n            '上級':30\n        },\n        thirdPartyLogindata:'',\n        thirdPartyError:'',\n        photoURL:'',\n        countryData:'',\n    },\n    getters:{\n        getUID(state){\n            return state.UID\n        },\n        getUser(state){\n            return state.user\n        },\n        getDjangouser(state){\n            return state.djangoUser\n        },\n        getEmailVerified(state){\n            return state.emailVerified\n        },\n        getTempUser(state){\n            return state.tempUser\n        },\n        logger(state){\n            return state.logger\n        },\n        onSigningup(state){\n            return state.onSigningup\n        },\n        getMyQuestion(state){\n            return state.myQuestion\n        },\n        getMyQuizInfo(state){\n            return state.myQuizInfo\n        },\n        quizNameIdInSignup(state, getters, rootState){\n            return rootState.quiz.quizNameId\n        },\n        getUserInfo(state){\n            return state.userInfo\n        },\n        getThirdPartyError(state){\n            return state.thirdPartyError\n        },\n        getPhotoURL(state){\n            return state.photoURL\n        }\n    },\n    mutations:{\n        getUsername(state,item){\n            state.username = item\n        },\n        getEmail(state,item){\n            state.email = item\n        },\n        getEmail2(state,item){\n            state.email2 = item\n        },\n        getCountry(state,item){\n            state.country = item\n        },\n        getPassword(state,item){\n            state.password = item\n        },\n        setUser(state,payload){\n            state.user = payload\n            if(state.user){\n                state.registeredUser = true\n                state.UID = state.user.uid\n            }\n            console.log('user state changed:',state.user)\n        },\n        setAuthIsReady(state,payload){\n            state.authIsReady = payload\n            console.log('setauth is changed:',state.user)\n        },\n        setDjangoUser(state,payload){\n            state.djangoUser = payload\n            console.log('set Django user',state.djangoUser)\n        },\n        emailVerifiedHandler(state,payload){\n            state.emailVerified = payload\n            console.log('emailV chainged',state.emailVerified)\n        },\n        checkEmailHandler(state,payload){\n            state.checkedEmail = payload\n        },\n        setTempUser(state,payload){\n            state.tempUser.test = true\n            state.tempUser.statusList = payload.status\n            state.tempUser.grade = payload.grade\n            state.tempUser.level = payload.level\n            console.log('set-temp-user', state.tempUser)\n        },\n        setTempUserReset(state){\n            state.tempUser.test = false\n            state.tempUser.statusList = '',\n            state.tempUser.grade = '',\n            state.tempUser.level = ''\n            Cookies.remove('tempKey')\n            console.log('reset-TempUser',state.tempUser)\n        },\n        tempUserTestTrue(state){\n            state.tempUser.test = true\n        },\n        resetQuizKeyStorage(state){\n            // this is for log out\n            state.UID = null\n            state.djangoUser = null\n            state.emailVerified = null\n            state.beingException = false,\n            state.reloadForException = false\n            state.apiError.django = false\n            state.apiError.firebase = false\n            state.apiError.ipinfo = false\n            state.apiError.any = false\n            state.myQuizInfo.id = ''\n            state.myQuizInfo.max = ''\n            state.myQuestion = ''\n            state.registeredUser = false\n            console.log('all-Reset')\n        },\n        setLogger(state,payload){\n            state.logger.actualErrorName = payload.actualErrorName\n            state.logger.actualErrorMessage = payload.actualErrorMessage\n            state.logger.path = 'vue' + payload.path\n            state.logger.message = payload.message\n            state.logger.exist = true\n        },\n        resetLogger(state){\n            state.logger.actualErrorName = ''\n            state.logger.actualErrorMessage = ''\n            state.logger.path = ''\n            state.logger.message = ''\n            state.logger.exist = false\n        },\n        setUserInfo(state,payload){\n            state.userInfo = payload\n        },\n        checkBeingException(state,payload){\n            if(state.user&&!state.djangoUser){\n                state.beingException = true\n                console.log('set-being-exception',state.beingException)\n            }\n        },\n        reloadForExceptionTrueForGeneralApiError(state){\n            state.reloadForException = true\n            console.log('setRUFEtrue')\n        },\n        reloadForExceptionTrue(state){\n            if(state.user&&!state.djangoUser){\n                state.reloadForException = true\n                console.log('setRUFEtrue')\n            }\n        },\n        reloadForExceptionFalse(state){\n            state.reloadForException = false\n            console.log('setRUFEfalse')\n        },\n        handleapiError(state,payload){\n            if(payload=='django'){\n                state.apiError.django = true\n            }\n            else if(payload=='firebase'){\n                state.apiError.firebase = true\n            }\n            else if(payload=='ipinfo'){\n                state.apiError.ipinfo = true\n            }\n        },\n        checkDjangoError(state,payload){\n            if(state.apiError.django){\n                router.push({ name: 'ConnectionError' })\n            }\n            else if(payload==\"Network Error\"){\n                state.apiError.django = true\n                state.apiError.any = true\n            }else{\n                router.push({ name: 'NotFound404' })\n            }\n        },\n        resetDjangoError(state){\n            state.apiError.django = false\n            state.apiError.any = false\n        },\n        handleOnSigningup(state){\n            state.onSigningup = !state.onSigningup\n        },\n        deleteMyQuestion(state,payload){\n            console.log(\"before\",state.myQuestion,payload)\n            state.myQuestion = state.myQuestion.filter(item =>{\n                console.log('item',item)\n                return (item.question.id !=payload)\n            })\n            console.log(\"after\",state.myQuestion)\n        },\n        addMyQuestion(state,payload){\n            console.log(\"before\",state.myQuestion,payload)\n            state.myQuestion.push(payload)\n            console.log(\"after\",state.myQuestion)\n        },\n        updateQuizTaker(state,payload) {\n            state.djangoUser.quiz_taker[0].grade = payload.grade\n            state.djangoUser.quiz_taker[0].level = payload.level\n            console.log('set', state.djangoUser)\n        },\n        updateQuizTakerMax(state, payload) {\n            // this is for session storage only to reduce API hit\n            state.djangoUser.quiz_taker[0].max_level = state.djangoUser.quiz_taker[0].level\n            state.djangoUser.quiz_taker[0].max_grade = payload\n                    \n            console.log('set_max', state.djangoUser)\n        },\n        setTirdPartyLoginData(state, payload){\n            if(state.tempUser.test){\n                console.log('YES TEMP')\n                state.userInfo={\n                    UID: payload.uid,\n                    name: payload.displayName,\n                    email: payload.email,\n                    quiz_taker: [\n                        {grade: state.tempUser.grade},\n                        {level: state.tempUser.level},\n                    ],\n                }\n            }else{\n                console.log('NO TEMP')\n                state.userInfo={\n                    UID: payload.uid,\n                    name: payload.displayName,\n                    email: payload.email,\n                }\n            }\n            // try{\n            //     console.log(\"try\",this.userInfo)\n            //     this.$store.dispatch('signupDjangoUser',this.userInfo)\n            // }\n            // catch(error){\n            //     console.log('error',error.message)\n            // }\n        },\n        setIpData(state, payload){\n            state.userInfo['ip_data'] = [{\n                city: payload.city,\n                ip: payload.ip,\n                loc: payload.loc,\n                org: payload.org,\n                postal: payload.postal,\n                region: payload.region,\n                timezone: payload.timezone,\n                country: payload.country\n            }]\n            console.log('setIpdata',state.userInfo)\n        },\n        setPhotoURL(state,payload){\n            state.photoURL = payload\n        },\n        resetPhotoURL(state,payload){\n            state.photoURL = ''\n        },\n    },\n    actions:{\n        async signupDjangoUser( {state, commit},payload ){\n            console.log(\"INSDU\",payload)\n            try{\n                // throw new Error('could not sent validation')\n                await axios({\n                    method: 'post',\n                    url: '/api/user/',\n                    data: payload\n                })\n                .then(response => {\n                    commit('setDjangoUser',response.data)\n                })\n                state.beingException = false\n                commit(\"resetDjangoError\")\n                commit(\"setTempUserReset\")\n                state.userInfo = ''\n            }\n            catch(e){\n                state.userInfo = payload\n                let logger = {\n                    message: \"in store/signup.SignupDjangoUser. couldn't signup django user\",\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n\n                }\n                console.log('error',e)\n                commit('setLogger',logger)\n                commit(\"checkDjangoError\", e.message)\n            }\n        },\n        async signupDjangoUserForException( {state, commit},payload ){\n            // this is only for unsub below. dont use other part\n            console.log(\"INSDUFX\")\n            if(!state.djangoUser&&state.beingException){\n                if(state.userInfo){\n                    try{\n                        // throw new Error('could not sent validation')\n                        await axios({\n                            method: 'post',\n                            url: '/api/user/',\n                            data: state.userInfo\n                        })\n                        .then(response => {\n                            commit('setDjangoUser',response.data)\n                        })\n                        state.beingException = false\n                        commit('resetDjangoError')\n                        commit(\"setTempUserReset\")\n                        state.userInfo = ''\n                    }\n                    catch(e){\n                        console.log('catchdayo',e.message)\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.SignupDjangoUserException1. couldn't signup django user\",\n                            name: window.location.pathname,\n                            actualErrorName: e.name,\n                            actualErrorMessage: e.message,\n                        }\n                        commit('setLogger',logger)\n                        commit(\"checkDjangoError\", e.message)\n                    }\n                }\n                else{\n                    try{\n                        console.log('NO TEMP')\n                        await axios\n                        .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n                        .then(response => {\n                            let IP = response.data\n                            state.exceptUserInfo = {\n                                UID: state.user.uid,\n                                name: '名前を変更しよう',\n                                email: state.user.email,\n                                ip_data: [{\n                                    city: IP.city,\n                                    ip: IP.ip,\n                                    loc: IP.loc,\n                                    org: IP.org,\n                                    postal: IP.postal,\n                                    region: IP.region,\n                                    timezone: IP.timezone,\n                                    country: IP.country\n                                }]\n                            } \n                        })\n                    }\n                    catch(e){\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.SignupDjangoUserException2. couldn't signup django user\",\n                            path: window.location.pathname,\n                            actualErrorName: e.name,\n                            actualErrorMessage: e.message,\n                        }\n                        commit('setLogger',logger)\n                        router.push({ name: 'NotFound404' })\n                    }\n                     \n                    try{\n                        console.log('try non_userINFO',state.exceptUserInfo)\n                        // throw new Error('could not sent validation')\n                        await axios({\n                            method: 'post',\n                            url: '/api/user/',\n                            data: state.exceptUserInfo\n                        })\n                        state.beingException = false\n                        commit(\"resetDjangoError\")\n                    }\n                    catch(e){\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.SignupDjangoUserException3. couldn't signup django user\",\n                            path: window.location.pathname,\n                            actualErrorName: e.name,\n                            actualErrorMessage: e.message,\n                        }\n                        commit('setLogger',logger)\n                        router.push({ name: 'NotFound404' })\n                    }\n                }   \n            }\n        },\n        async signupDjangoUserForThirdParty( {state, commit, dispatch},payload ){\n            console.log(\"INSDUTH\",payload)\n            try{\n                await axios({\n                    method: 'post',\n                    url: '/api/user/',\n                    data: payload,\n                })\n                .then(response => {\n                    if(response.status==222){\n                        console.log('response222')\n                        commit('resetPhotoURL')\n                        commit('setDjangoUser',response.data)\n                    }else{\n                        commit('setDjangoUser',response.data)\n                    }\n                })\n                // state.beingException = false\n                commit(\"resetDjangoError\")\n                commit(\"setTempUserReset\")\n                // await dispatch(\"patchImage\")\n                state.userInfo = ''\n            }\n            catch(e){\n                // console.log('e',e,e.response.data)\n                // if(e.response.data = 'user-exists-django'){\n                //     state.thirdPartyError = e.response.data;\n                //     state.userInfo = payload\n                // }\n                // else{\n                let logger = {\n                    message: \"in store/signup.SignupDjangoUserFoeThirdParty. couldn't signup django user\",\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n                }\n                console.log('error',e)\n                commit('setLogger',logger)\n                commit(\"checkDjangoError\", e.message)\n                // }\n            }\n        },\n        async getDjangoUser({ state, commit,dispatch }){\n            // commit('setIsLoading', true, {root:true})\n            if(state.user&&!state.beingException){\n                console.log('GDU_pass',state.beingException)\n                try{\n                    await axios\n                    .get(`/api/user/${state.user.uid}`)\n                    .then(response => {\n                        commit('setDjangoUser',response.data)\n                        state.myQuestion = response.data.my_quiz[0].my_question\n                        state.myQuizInfo.id = response.data.my_quiz[0].id\n                        state.myQuizInfo.max = response.data.my_quiz[0].max_num\n                        console.log(\"MQ\",state.myQuestion)\n                    })\n                    commit(\"resetDjangoError\")\n                }\n                catch(e){\n                    console.log('catch')\n                    let logger = {\n                        message: \"in store/signup.getDjangoUser. couldn't signup django user\",\n                        path: window.location.pathname,\n                        actualErrorName: e.name,\n                        actualErrorMessage: e.message,\n                    }\n                    commit('setLogger',logger)\n                    commit(\"checkDjangoError\", e.message)\n                }\n            }\n            // commit('setIsLoading', false, {root:true})\n        },\n        async getFavoriteQuestion({ state, commit }){\n            state.favoriteQuestion = null\n            if(state.djangoUser){\n                try{\n                    const questionId = []\n                    for(let i of state.djangoUser.favorite_question[0].question){\n                        questionId.push(i)\n                    }\n                    if(questionId[0]){\n                        await axios\n                        .get(`/api/board/question-favorite?question_id=${questionId}`)\n                        .then(response => {\n                            state.favoriteQuestion = response.data\n                            })\n                        .catch(e => {\n                            let logger = {\n                                message: \"in store/signup.getFavoriteQuestion. couldn't get favoriteQuestion \",\n                                path: window.location.pathname,\n                                actualErrorName: e.name,\n                                actualErrorMessage: e.message,\n                            }\n                            commit('setLogger',logger)\n                            commit(\"checkDjangoError\", e.message)\n                        \n                        })\n                    }\n                }catch{\n                    \n                }\n            }\n        },\n        // async getCountryData({ state, commit,dispatch }){\n        //     // commit('setIsLoading', true, {root:true})\n        //         console.log('country')\n        //         try{\n        //             await fetch('@/vue_front/src/assets/country.json')\n        //             .then(response => {\n        //                 console.log('res',response.data)\n        //             })\n        //         }\n        //         catch(e){\n        //             console.log('catch',e)\n        //             // let logger = {\n        //             //     message: \"in store/signup.getDjangoUser. couldn't signup django user\",\n        //             //     name: window.location.pathname,\n        //             //     actualErrorName: e.name,\n        //             //     actualErrorMessage: e.message,\n        //             // }\n        //             // commit('setLogger',logger)\n        //             // commit(\"checkDjangoError\", e.message)\n        //         }\n            \n        // },\n        async signup(context, {email,password}){\n            console.log('signup in')\n            try {\n                const ref = await createUserWithEmailAndPassword(auth, email, password)\n                context.state.actionCodeSettings['url'] = context.state.accountURL\n                sendEmailVerification(ref.user,context.state.actionCodeSettings)\n                context.commit('setUser',ref.user)\n                context.commit('emailVerifiedHandler',ref.user.emailVerified)\n                console.log('signup is done',auth.currentUser)\n            }catch(e){\n                let logger = {\n                    message: \"in store/signup.signup. couldn't signup firebase user\",\n                    name: window.location.pathname,\n                    actualErrorName: e.code,\n                    actualErrorMessage: e.message,\n                }\n                context.commit('setLogger',logger)\n                router.push({ name: 'NotFound404' })\n            }\n        },\n        async googleLogin(context){\n            const provider = new GoogleAuthProvider();\n            const auth = getAuth();\n            signInWithPopup(auth, provider)\n            .then((result) => {\n                // This gives you a Google Access Token. You can use it to access the Google API.\n                const credential = GoogleAuthProvider.credentialFromResult(result);\n                const token = credential.accessToken;\n                // The signed-in user info.\n                context.commit('setPhotoURL',result.user.photoURL)\n                context.commit('setUser',result.user)\n                context.commit('emailVerifiedHandler',result.user.emailVerified)\n                context.commit('setTirdPartyLoginData',result.user)\n                context.dispatch('getIpData')\n            }).catch((e) => {\n                let logger = {\n                    message: \"in store/signup.googleLogin. couldn't Login firebase user\",\n                    name: window.location.pathname,\n                    actualErrorName: e.code,\n                    actualErrorMessage: e.message,\n                }\n                context.commit('setLogger',logger)\n                router.push({ name: 'ConnectionError' })\n                // Handle Errors here.\n                const errorCode = e.code;\n                const errorMessage = e.message;\n                // The email of the user's account used.\n                const email = e.email;\n                // The AuthCredential type that was used.\n                const credential = GoogleAuthProvider.credentialFromError(e);\n                // ...\n            });\n        },\n        async sendEmailVerify(context){\n            context.state.actionCodeSettings['url'] = context.state.accountURL\n            console.log('sendEmail',context.state.user,context.state.actionCodeSettings)\n            await sendEmailVerification(context.state.user,context.state.actionCodeSettings)\n        },\n        async sentValidation(context){\n            console.log('insentV')\n            try{\n                await context.state.user.sendEmailVerification()\n            }catch(e){\n                // let logger = {\n                //     message: \"in store/signup.googleLogin. couldn't sentValidation firebase user\",\n                //     name: window.location.pathname,\n                //     actualErrorName: e.code,\n                //     actualErrorMessage: e.message,\n                // }\n                context.commit('setLogger',logger)\n                router.push({ name: 'ConnectionError' })\n            }\n        },\n        async login(context, {email,password}){\n            // context.commit('setIsLoading', true, {root:true})\n            console.log('in_login')\n            try{\n                var ref = await signInWithEmailAndPassword(auth, email, password)\n            }catch{\n                console.log('error')\n                throw new Error('could not complite signin')\n            }\n            if(ref){\n                console.log(\"IF YES\")\n                context.commit('setUser',ref.user)\n                context.dispatch('getDjangoUser')\n                context.commit(\"setTempUserReset\")\n                context.commit('emailVerifiedHandler',ref.user.emailVerified)\n                console.log(context.state.user,context.state.emailVerified)\n            }else{\n                console.log('error in sign in')\n                throw new Error('could not complite signin')\n            }\n            // context.commit('setIsLoading', false, {root:true})                \n        },\n        async checkEmail(context,email){\n            try {\n                const ref = await fetchSignInMethodsForEmail(auth,email);\n                if (ref == 'password'){\n                    context.commit('checkEmailHandler',false)\n                    console.log('already in use')\n                }else{\n                    context.commit('checkEmailHandler',true)\n                    console.log('you can use it')\n                }\n            }catch{\n                console.log('error in sign up')\n                throw new Error('could not check email')\n            }\n        },\n        async passwordReset(context,email){\n            console.log('passreset action',email)\n            try{\n                context.state.actionCodeSettings['url'] = context.state.accountURL\n                await sendPasswordResetEmail(auth,email,context.state.actionCodeSettings)\n            console.log('password reset sent')\n            }catch{\n                console.log('error in pass reset')\n                throw new Error('could not sent pass reset')\n            }\n        },\n        async logout(context){\n            await signOut(auth)\n            context.commit('setUser',null)\n            context.commit('resetQuizKeyStorage')\n            router.push({ name: 'Home' })\n        },\n        updateQuizTakerAction({state, commit, getters},payload){\n            console.log('inUQTA',getters)\n            commit('updateQuizTaker',payload);\n            console.log('UPaction',getters.quizNameIdInSignup)\n            for(let i of getters.quizNameIdInSignup){\n                if(i.id == payload.grade){\n                    if(state.gradeDict[state.djangoUser.quiz_taker[0].max_grade] < state.gradeDict[i.name]){\n                        commit('updateQuizTakerMax',i.name);\n                        break\n                    }\n                    else if(state.gradeDict[state.djangoUser.quiz_taker[0].max_grade] == state.gradeDict[i.name]){\n                        if(state.djangoUser.quiz_taker[0].max_level < payload.level){\n                            commit('updateQuizTakerMax',i.name);\n                            break\n                        }\n                    }\n                }\n            }\n        },\n        async getOrSignupDjangoUserForThirdParty(context){\n            await context.dispatch('signupDjangoUserForThirdParty',context.getters.getUserInfo)\n            router.push({ name: 'Account' })\n        },\n        async getIpData(context){\n            await axios\n            .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n            .then(response => {\n                context.commit('setIpData',response.data)\n                context.dispatch('getOrSignupDjangoUserForThirdParty')\n                \n            }) \n        },\n        async createLog(context,payload){\n            try{\n                if(state.logger.exist) {\n                    await axios\n                    .post('/api/loggers-create',{\n                        message: payload.message,\n                        path: payload.path,\n                        actualErrorName: payload.actualErrorName,\n                        actualErrorMessage: payload.actualErrorMessage,\n                    })\n                    context.commit('resetLogger')\n                }\n            } catch(e) {\n                console.log('logerror',e)\n                // context.commit('resetLogger')\n            }\n\n        },\n        // async patchImage(context){\n        //     var list = context.getters.getDjangouser.thumbnail.split('/')\n        //     console.log('list',list)\n        //     if(list.includes('default.png')&&context.getters.getPhotoURL){\n        //         console.log('png');\n        //         const blob = await fetch(this.getPhotoURL).then(r => r.blob());\n        //         const headers = { \"content-type\": \"multipart/form-data\" };\n        //         const formData = new FormData();\n        //         formData.append('thumbnail',blob,`${blob}.png`)\n        //         console.log('getthumb',formData.get('thumbnail'),formData),\n        //         axios.patch(`/api/user/${context.getters.getDjangouser.UID}`,\n        //             formData,\n        //             {headers}\n        //         )\n        //     }\n        // },\n    }\n}\nconst unsub = onAuthStateChanged(auth,(user) =>{\n    store.commit('setAuthIsReady',true)\n    store.commit('setUser',user)\n    console.log('unsub',user)\n    if(user){\n        store.dispatch('getDjangoUser')\n        store.commit('emailVerifiedHandler',user.emailVerified)\n        store.dispatch('signupDjangoUserForException')\n    }else{\n        store.commit('resetQuizKeyStorage')\n    }\n    unsub()\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}