{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/btn_google.png';\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"login-wrapper\"\n};\nvar _hoisted_2 = {\n  class: \"flex-wrapper\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", {\n    class: \"title-white\"\n  }, \"ログイン\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = {\n  class: \"field\"\n};\nvar _hoisted_5 = {\n  class: \"input-box\"\n};\nvar _hoisted_6 = {\n  class: \"far fa-envelope\",\n  id: \"in-font\"\n};\nvar _hoisted_7 = {\n  class: \"field\"\n};\nvar _hoisted_8 = {\n  class: \"input-box\"\n};\nvar _hoisted_9 = {\n  class: \"fas fa-unlock-alt\",\n  id: \"in-font\"\n};\nvar _hoisted_10 = [\"type\"];\nvar _hoisted_11 = {\n  key: 0,\n  class: \"error-form\"\n};\n\nvar _hoisted_12 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"fas fa-exclamation-triangle\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_13 = {\n  key: 1,\n  class: \"text-wrapper\"\n};\n\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"パスワードをお忘れですか。\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_15 = {\n  key: 2,\n  class: \"text-wrapper\"\n};\n\nvar _hoisted_16 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"ユーザー登録しますか。\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_17 = [\"disable\"];\n\nvar _hoisted_18 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"Googleアカウントでログイン\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_19 = {\n  class: \"logo-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SentPassReset = _resolveComponent(\"SentPassReset\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    class: \"id-form\",\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers(function () {\n      return $options.submitForm && $options.submitForm.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"i\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    required: \"\",\n    class: \"text-box\",\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.email = $event;\n    }),\n    id: \"E-mail\",\n    placeholder: \"E-mail\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.email]])])])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"i\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    required: \"\",\n    class: \"text-box\",\n    type: $options.inputType,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    }),\n    placeholder: \"Password\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_10), [[_vModelDynamic, $data.password]])]), _createElementVNode(\"i\", {\n    class: _normalizeClass([$data.passType ? 'fas fa-eye' : 'fas fa-eye-slash']),\n    id: \"eye\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.click && $options.click.apply($options, arguments);\n    })\n  }, null, 2\n  /* CLASS */\n  )])]), $data.userError || $data.passError || $data.manyError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"div\", null, _toDisplayString($data.userError), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", null, _toDisplayString($data.passError), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", null, _toDisplayString($data.manyError), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), $data.passError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"p\", {\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $options.resetPass && $options.resetPass.apply($options, arguments);\n    }),\n    class: \"text\"\n  }, \"パスワードの再設定\")])) : _createCommentVNode(\"v-if\", true), $data.userError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"p\", {\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.goSignup && $options.goSignup.apply($options, arguments);\n    }),\n    class: \"text\"\n  }, \"ユーザー登録\")])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    disable: !$data.userError || !$data.passError || !$data.manyError,\n    class: \"fbottun\",\n    ref: \"bform\"\n  }, \"ログイン\", 8\n  /* PROPS */\n  , _hoisted_17)]), _hoisted_18, _createElementVNode(\"a\", _hoisted_19, [_createElementVNode(\"img\", {\n    class: \"google\",\n    onClick: _cache[5] || (_cache[5] = function ($event) {\n      return _ctx.googleLogin();\n    }),\n    src: _imports_0\n  })])], 32\n  /* HYDRATE_EVENTS */\n  )])]), _createElementVNode(\"div\", null, [$data.showSentPassReset ? (_openBlock(), _createBlock(_component_SentPassReset, {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <NotVerified v-if='showNotVerified'\\n        @handleShowSent = 'handleShowSent'\\n         />\\n        <Sent v-show='showSent'/> \")])]);\n}","map":{"version":3,"mappings":";OAoCuEA,gBAA6B;;;;;;;EAlCvFC,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;;sBACPC,oBAA+B,GAA/B,EAA+B;IAA5BD,KAAK,EAAC;EAAsB,CAA/B,EAAuB,MAAvB,EAA2B;EAAA;EAA3B;;;;EAEaA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACJA,KAAK,EAAC;EAAkBE,EAAE,EAAC;;;EAGjCF,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACJA,KAAK,EAAC;EAAoBE,EAAE,EAAC;;;;;EAInCF,KAAK,EAAC;;;;sBACPC,oBAA2C,GAA3C,EAA2C;IAAxCD,KAAK,EAAC;EAAkC,CAA3C,EAAsC,IAAtC,EAAsC;EAAA;EAAtC;;;;;EAKCA,KAAK,EAAC;;;;sBACPC,oBAAoB,GAApB,EAAoB,IAApB,EAAG,eAAH,EAAgB;EAAA;EAAhB;;;;;EAGCD,KAAK,EAAC;;;;sBACPC,oBAAkB,GAAlB,EAAkB,IAAlB,EAAG,aAAH,EAAc;EAAA;EAAd;;;;;;sBAMJA,oBAAuB,GAAvB,EAAuB,IAAvB,EAAG,kBAAH,EAAmB;EAAA;EAAnB;;;;EACGD,KAAK,EAAC;;;;;uBAlC7BG,oBA+CM,KA/CN,EA+CM,IA/CN,EA+CM,CA9CFF,oBAsCM,KAtCN,cAsCM,CArCFA,oBAoCM,KApCN,cAoCM,CAnCFG,UAmCE,EAlCFH,oBAiCO,MAjCP,EAiCO;IAjCDD,KAAK,EAAC,SAiCL;IAjCgBK,QAAM;MAAA,OAAUC,qEAAV;IAAA,GAAoB,WAApB;EAiCtB,CAjCP,GACQL,oBAIM,KAJN,cAIM,CAHFA,oBAEM,KAFN,cAEM,CADFA,oBAA2I,GAA3I,cAA2I,iBAAnGA,oBAA+F,OAA/F,EAA+F;IAAxFM,QAAQ,EAAR,EAAwF;IAA/EP,KAAK,EAAC,UAAyE;IAA9DQ,IAAI,EAAC,OAAyD;;aAAxCC,cAAKC;MAAmC;IAAjCR,EAAE,EAAC,QAA8B;IAArBS,WAAW,EAAC;EAAS,CAA/F;;EAAA,kBAAuDF,cAA4C,CAA3I,CACE,CAFN,CAGE,CAJN,GAKAR,oBAKM,KALN,cAKM,CAJFA,oBAGM,KAHN,cAGM,CAFFA,oBAA2I,GAA3I,cAA2I,iBAAjGA,oBAA6F,OAA7F,EAA6F;IAAtFM,QAAQ,EAAR,EAAsF;IAA7EP,KAAK,EAAC,UAAuE;IAA3DQ,IAAI,EAAEF,kBAAqD;;aAAjCG,iBAAQC;MAAyB;IAAvBC,WAAW,EAAC;EAAW,CAA7F;;EAAA,kCAA4DF,iBAAqC,CAA3I,CAEE,EADFR,oBAAsF,GAAtF,EAAsF;IAAlFD,KAAK,mBAAGS,iBAAQ,YAAR,GAAQ,kBAAX,EAA6E;IAA7BP,EAAE,EAAC,KAA0B;IAAnBU,OAAK;MAAA,OAAEN,2DAAF;IAAA;EAAc,CAAtF;;EAAA,CACE,CAHN,CAIE,CALN,GAM+BG,mBAAWA,eAAX,IAAsBA,iCAArDN,oBAKM,KALN,eAKM,CAJFU,WAIE,EAHFZ,oBAA0B,KAA1B,EAA0B,IAA1B,EAA0Ba,iBAAlBL,eAAkB,CAA1B,EAAiB;EAAA;EAAjB,CAGE,EAFFR,oBAA0B,KAA1B,EAA0B,IAA1B,EAA0Ba,iBAAlBL,eAAkB,CAA1B,EAAiB;EAAA;EAAjB,CAEE,EADFR,oBAA0B,KAA1B,EAA0B,IAA1B,EAA0Ba,iBAAlBL,eAAkB,CAA1B,EAAiB;EAAA;EAAjB,CACE,CALN,wCAMgCA,iCAAhCN,oBAGM,KAHN,eAGM,CAFFY,WAEE,EADFd,oBAAiD,GAAjD,EAAiD;IAA5CW,OAAK;MAAA,OAAEN,mEAAF;IAAA,EAAuC;IAA1BN,KAAK,EAAC;EAAoB,CAAjD,EAAoC,WAApC,CACE,CAHN,wCAIgCS,iCAAhCN,oBAGM,KAHN,eAGM,CAFFa,WAEE,EADFf,oBAA4C,GAA5C,EAA4C;IAAxCW,OAAK;MAAA,OAAEN,iEAAF;IAAA,EAAmC;IAAvBN,KAAK,EAAC;EAAiB,CAA5C,EAAkC,QAAlC,CACE,CAHN,wCAIAC,oBAEM,KAFN,EAEM,IAFN,EAEM,CADFA,oBAA+F,QAA/F,EAA+F;IAAtFgB,OAAO,GAAGR,eAAH,IAAY,CAAGA,eAAf,IAAwB,CAAGA,eAAoD;IAAzCT,KAAK,EAAC,SAAmC;IAAzBkB,GAAG,EAAC;EAAqB,CAA/F,EAAkF,MAAlF,EAAsF;EAAA;EAAtF,EAAsFC,WAAtF,CACE,CAFN,GAGAC,aACAnB,oBAEI,GAFJ,eAEI,CADAA,oBAAyE,KAAzE,EAAyE;IAApED,KAAK,EAAC,QAA8D;IAApDY,OAAK;MAAA,OAAES,kBAAF;IAAA,EAA+C;IAA9BC,GAA6B,EAA7BvB;EAA8B,CAAzE,CACA,CAFJ,EA9BR;;EAAA,CAkCE,CApCN,CAqCE,CAtCN,CA8CE,EAPFE,oBAMA,KANA,EAMA,IANA,EAMA,CALqBQ,yCAArBc,aAAyCC,wBAAzC,EAAyC;IAAAC;EAAA,CAAzC,sCAKA,EAJAC,wJAIA,CANA,CAOE,CA/CN","names":["_imports_0","class","_createElementVNode","id","_createElementBlock","_hoisted_3","onSubmit","$options","required","type","$data","$event","placeholder","onClick","_hoisted_12","_toDisplayString","_hoisted_14","_hoisted_16","disable","ref","_hoisted_17","_hoisted_18","_ctx","src","_createBlock","_component_SentPassReset","key","_createCommentVNode"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/views/Login.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"login-wrapper\">\n            <div class=\"flex-wrapper\">\n                <p class='title-white'>ログイン</p>\n                <form class=\"id-form\" @submit.prevent='submitForm' >\n                        <div class=\"field\">\n                            <div class=\"input-box\">\n                                <i class=\"far fa-envelope\" id='in-font'><input required class=\"text-box\" type='email' v-model='email' id='E-mail' placeholder=\"E-mail\"></i>\n                            </div>         \n                        </div>\n                        <div class=\"field\">\n                            <div class=\"input-box\">\n                                <i class=\"fas fa-unlock-alt\" id='in-font'><input required class=\"text-box\" :type=\"inputType\" v-model='password' placeholder=\"Password\"></i>\n                                <i :class=\"[passType ? 'fas fa-eye':'fas fa-eye-slash']\" id='eye' @click='click' ></i>\n                            </div>      \n                        </div>\n                        <div class='error-form'  v-if='userError||passError||manyError'>\n                            <i class=\"fas fa-exclamation-triangle\"></i>\n                            <div>{{ userError }}</div>\n                            <div>{{ passError }}</div>\n                            <div>{{ manyError }}</div>\n                        </div>\n                        <div class='text-wrapper' v-if='passError'>\n                            <p>パスワードをお忘れですか。</p>\n                            <p  @click='resetPass' class='text'>パスワードの再設定</p>\n                        </div>\n                        <div class='text-wrapper' v-if='userError'>\n                            <p>ユーザー登録しますか。</p>\n                            <p @click='goSignup' class='text'>ユーザー登録</p>\n                        </div>\n                        <div>\n                            <button :disable='!userError||!passError||!manyError' class='fbottun' ref='bform'>ログイン</button>\n                        </div>\n                        <p>Googleアカウントでログイン</p>\n                        <a class=\"logo-container\">\n                            <img class=\"google\" @click=\"googleLogin()\" src=\"@/assets/btn_google.png\">\n                        </a>\n                </form>\n            </div>\n        </div>\n        <div>\n        <SentPassReset v-if='showSentPassReset'/>\n        <!-- <NotVerified v-if='showNotVerified'\n        @handleShowSent = 'handleShowSent'\n         />\n        <Sent v-show='showSent'/> -->\n  </div>\n    </div>\n</template>\n\n<script>\nimport {router} from \"../main.js\"\nimport SentPassReset from '@/components/login/SentPassReset.vue'\nimport NotVerified from '@/components/login/NotVerified.vue'\nimport Sent from '@/components/signin/Sent.vue'\n\nexport default {\n    components:{\n        SentPassReset,\n        Sent,\n        NotVerified\n    },\n    data(){\n        return{\n            email:'',\n            password:'',\n            passType:true,\n            showButton:true,\n            passError:null,\n            userError:null,\n            manyError:null,\n            showSentPassReset:false,\n            showSent:false,\n            showNotVerified:false,\n            store: this.$store.state.signup\n        }\n    },\n    mounted(){\n        this.scrollTop()\n    },\n    updated(){\n        console.log('login check ',this.store.user)\n        this.showButtonHandler()\n        console.log(this.email,this.password,this.error)\n    },\n    watch:{\n        showButton:function(v) {if (v == false) { this.$refs.bform.classList.add('button-hover')}\n        else{this.$refs.bform.classList.remove('button-hover')}},\n    },\n    computed: {\n        inputType: function () {\n        return this.passType ? \"password\":\"text\";\n            }\n        },\n    methods:{\n        showButtonHandler(){\n            if(this.password != '' &&this.email != ''){\n                this.showButton = false\n            }else{\n                this.showButton = true\n                }\n            },\n        click(){\n            console.log('click')\n            this.passType = !this.passType\n        },\n        goSignup(){\n            this.$router.push({name:'Signup'})\n        },\n        handleShowSentPassReset(){\n            this.showSentPassReset = true\n        },\n        handleShowNotVerified(){\n            this.showNotVerified = true\n        },\n        async resetPass(){\n            await this.$store.dispatch('passwordReset',this.email)\n            this.handleShowSentPassReset()\n\n        },\n        handleShowSent(){\n            this.showSent = true\n            console.log('showsent')\n        },\n        async submitForm(){      \n            try{\n                await this.$store.dispatch('login',{\n                email:this.email,\n                password:this.password})\n                console.log(\"done\")\n                router.push('/')\n                this.$store.commit('reset')\n            }catch(err){\n                console.log('er',typeof(err),err.code)\n                this.userError = err.code == 'auth/user-not-found'?\n                'ユーザーが存在しません。' : '' \n                this.passError = err.code == 'auth/wrong-password'?\n                'パスワードが違います。' : ''\n                this.manyError = err.code == 'auth/too-many-requests'?\n                '短時間にリクエストを複数受けたため一時的にリクエストを停止します。暫く経ってもう一度お試しください。' :''               \n            }\n        },\n        scrollTop(){\n            window.scrollTo({\n                top: 0,\n            });\n        },\n    }\n}\n</script>\n\n\n<style scoped lang='scss'>\n@import \"style/_variables.scss\";\n.login-wrapper{\n    width:100vw;\n    flex-direction: column;\n    display: flex;\n    // padding-top:5rem;\n    // justify-content: center;\n    align-items: center;\n    .flex-wrapper{\n        flex-direction: column;\n    display: flex;\n    \n    justify-content: center;\n    align-items: center;\n    }\n    .id-form{\n        margin-top: 2rem;\n    }\n    }\n    .login-text{\n        color:white;\n        font-size:1.2rem;\n        font-weight: bold;\n        margin-bottom: 1.5rem;\n       \n    }\n    .field-wrapper{\n        margin-top:3rem;\n    }\n    .field{\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        align-self: center;\n    }\n    .label{\n        color:white;\n        width: 2.7rem;\n        overflow-wrap: break-word;\n        margin-right:1%;\n        line-height:1rem\n    }.label:not(:last-child) {\n        margin-bottom: initial;\n}\n    input[type=\"password\"]:focus {\n        outline: none;\n        }\n    input[type=\"email\"]:focus {\n        outline: none;\n    }\n    select:focus {\n        outline: none;\n        }\n    .input-box:focus-within{\n        border: solid $base-color;\n        \n        }\n    .input-box{\n        border: 0.12rem solid $base-color;\n        border-radius: 100vh;\n        background: $back-white;\n        width: 17rem;\n        height: 3rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        position:relative;\n        \n    }#in-font{\n        margin-left:0.5rem;\n        color:rgb(158, 158, 158); \n        transition:0.3s;\n        position:relative;\n    }\n    #in-font:focus-within{\n        color:rgb(92, 92, 92);\n\n    }\n    #eye{\n        position:absolute;\n        right:0;\n        margin-right:0.5rem;\n        color:rgb(158, 158, 158);\n        transition:0.3s;\n    }\n    #eye:hover{\n        color:rgb(92, 92, 92);\n    }\n    #eye:focus-within{\n        color:rgb(92, 92, 92);\n    }\n    .text-box{\n        width: 14rem;\n        border:none;\n        background: $back-white;\n        margin-left:0.5rem;\n        position:absolute;\n        left:1rem;\n    }\n    .select-box{\n        width: 82%;\n        border:none;\n        background: $back-white;\n        margin-left:0.5rem;\n    }\n    \n    .check-box-text{\n        color:white;\n        margin-left:1rem;\n    }\n    .text-wrapper{\n        display:flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        \n    }\n    .text:hover{\n        background: $base-white;\n        color: $dark-blue;\n        font-weight: bold;\n    }\n    .text{\n        color:white;margin-top:1rem;\n        border: 0.1rem solid white;\n        border-radius: 0.5rem;\n        width: 60%;\n        padding-top: 0.5rem;\n        padding-bottom: 0.5rem;\n        transition:0.8s;\n    }\n    .error-form{\n        width: 17rem;\n        background: $back-tr-white;\n    }\n    p{\n        color:white;\n        margin-top:1rem;\n    }\n    .logo-container{\n        .google{\n            width: 70%;\n        }\n    }\n</style>"]},"metadata":{},"sourceType":"module"}