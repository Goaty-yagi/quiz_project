{"ast":null,"code":"import Notification from '@/components/initial/Notification.vue';\nimport ConfettiExplosion from \"vue-confetti-explosion\";\nexport default {\n  props: [\"finalResult\", \"init\", \"startGradeAndLevel\"],\n  components: {\n    Notification: Notification,\n    ConfettiExplosion: ConfettiExplosion\n  },\n  data: function data() {\n    return {\n      showNotification: false,\n      showResultNotification: false,\n      resultText: '',\n      gradeDict: {\n        '超初級': 0,\n        '初級': 10,\n        '中級': 20,\n        '上級': 30\n      },\n      resultTextObjects: {\n        'up': 'UP',\n        'stay': 'STAY',\n        'down': 'DOWN'\n      }\n    };\n  },\n  computed: {\n    gradeForConvert: function gradeForConvert() {\n      return this.$store.getters.gradeForConvert;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    console.log('test-result2', this);\n    console.log('testresult', this.init, this.finalResult, this.startGradeAndLevel);\n\n    if (this.init) {\n      setTimeout(function () {\n        _this.handleShowNotification();\n      }, 3000);\n    } else {\n      setTimeout(function () {\n        _this.handleShowResultNotification();\n      }, 2000);\n    }\n  },\n  methods: {\n    handleShowNotification: function handleShowNotification() {\n      this.showNotification = !this.showNotification;\n    },\n    showConfetti: function showConfetti() {\n      console.log('show', this.gradeForConvert, this.gradeDict[this.finalResult.grade], this.gradeDict[this.gradeForConvert]);\n\n      if (this.gradeDict[this.finalResult.grade] > this.gradeDict[this.gradeForConvert]) {\n        console.log('grade');\n        this.$store.commit('convertGradeFromIntToID', this.startGradeAndLevel.grade);\n        this.handleResultText('up');\n        return true;\n      } else if (this.gradeDict[this.finalResult.grade] == this.gradeDict[this.gradeForConvert]) {\n        if (this.finalResult.level > this.startGradeAndLevel.level) {\n          console.log('level');\n          this.handleResultText('up');\n          return true;\n        } else if (this.finalResult.level == this.startGradeAndLevel.level) {\n          this.handleResultText('stay');\n          return false;\n        } else {\n          this.handleResultText('down');\n          return false;\n        }\n      } else {\n        this.handleResultText('down');\n        return false;\n      }\n    },\n    handleResultText: function handleResultText(status) {\n      console.log('inhandle');\n      this.resultText = this.resultTextObjects[status]; // return this.resultText[status]\n    },\n    handleShowResultNotification: function handleShowResultNotification() {\n      if (!this.init) {\n        setTimeout(this.showResultNotificationTrue(), 3000);\n      }\n    },\n    showResultNotificationTrue: function showResultNotificationTrue() {\n      console.log(\"in true\");\n      this.showResultNotification = true;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["Notification","ConfettiExplosion","props","components","data","showNotification","showResultNotification","resultText","gradeDict","resultTextObjects","computed","gradeForConvert","$store","getters","mounted","console","log","init","finalResult","startGradeAndLevel","setTimeout","handleShowNotification","handleShowResultNotification","methods","showConfetti","grade","commit","handleResultText","level","status","showResultNotificationTrue"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/initial/TestResult.vue"],"sourcesContent":["<template>\n    <div class='testresult-wrapper'>\n        <ConfettiExplosion\n        v-if=\"init||showConfetti()\"\n        :particleCount=\"160\"\n        :particleSize=\"12\"\n        :duration=\"3500\"\n        :force=\"0.9\"\n        :stageHeight=\"1200\"\n        :stageWidth=\"1600\"\n        :shouldDestroyAfterDone=\"true\"/>\n        <div v-if=\"showResultNotification\" class=\"progress-container\">\n            <p class=\"progress-text\"> {{ gradeForConvert }} Lv, {{ startGradeAndLevel.level }} => \n                {{ finalResult.grade }} Lv, {{ finalResult.level }}\n            </p>\n            <p class=\"result-text\"> {{ resultText }}</p>\n            <router-link :to=\"{name:'Home'}\" class=\"\"><i class=\"fas fa-home\"></i>Return to Home</router-link>\n        </div>\n        <h1 class='is-size-1 has-text-white'>-結果-</h1>\n        <p class='result-text'>あなたのレベルは…</p>\n        <div class=\"diamond-wrapper\">\n            <div class='dwrapper1'>\n                <div class='diamond-outer'/>\n            </div>\n            <div class='dwrapper2'>\n                <div class='diamond'/>\n            </div>\n            <div class='text-wrapper'>\n                <p class='text'>{{ finalResult.grade }}</p>\n                <p class='level-text'>Lv,{{ finalResult.level }}</p>\n            </div>\n        </div>\n        <div class='font-wrapper'>\n            <i class=\"fab fa-angellist\"></i>\n        </div>\n        <transition name=\"notice\">\n            <Notification\n            v-if=\"showNotification\"/>\n        </transition>\n    </div>\n</template>\n\n<script>\nimport Notification from '@/components/initial/Notification.vue';\nimport ConfettiExplosion from \"vue-confetti-explosion\";\nexport default {\n    props:[\n        \"finalResult\",\n        \"init\",\n        \"startGradeAndLevel\"\n    ],\n     components: {\n        Notification,\n        ConfettiExplosion\n  },\n  data(){\n        return{\n            showNotification: false,\n            showResultNotification: false,\n            resultText: '',\n            gradeDict:{\n                '超初級':0,\n                '初級':10,\n                '中級':20,\n                '上級':30\n            },\n            resultTextObjects:{\n                'up':'UP',\n                'stay':'STAY',\n                'down':'DOWN'\n            },\n        }\n    },\n    computed:{\n        gradeForConvert(){\n            return this.$store.getters.gradeForConvert\n        }\n\n    },\n    mounted(){\n        console.log('test-result2',this)\n        console.log('testresult',this.init,this.finalResult,this.startGradeAndLevel)\n        if(this.init){\n            setTimeout(() =>{\n                this.handleShowNotification()\n            },3000\n            )\n        } else {\n            setTimeout(() =>{\n                this.handleShowResultNotification()\n            },2000\n            )\n        }\n    },\n    methods:{\n        handleShowNotification(){\n            this.showNotification = !this.showNotification\n\n        },\n        showConfetti(){\n            console.log('show',this.gradeForConvert,this.gradeDict[this.finalResult.grade],this.gradeDict[this.gradeForConvert])\n            if(this.gradeDict[this.finalResult.grade] > this.gradeDict[this.gradeForConvert]){\n                console.log('grade')\n                this.$store.commit('convertGradeFromIntToID',this.startGradeAndLevel.grade)\n                this.handleResultText('up')\n                return true\n            }\n            else if(this.gradeDict[this.finalResult.grade] == this.gradeDict[this.gradeForConvert]) {\n                if(this.finalResult.level > this.startGradeAndLevel.level){\n                    console.log('level')\n                    this.handleResultText('up')\n                    return true \n                } else if(this.finalResult.level == this.startGradeAndLevel.level){\n                    this.handleResultText('stay')\n                    return false\n                }\n                else{\n                    this.handleResultText('down')\n                    return false\n                }\n            }else{\n                this.handleResultText('down')\n                return false\n            }\n        },\n        handleResultText(status){\n            console.log('inhandle')\n            this.resultText = this.resultTextObjects[status]\n            // return this.resultText[status]\n        },\n        handleShowResultNotification() {\n            if(!this.init){\n                setTimeout(\n                this.showResultNotificationTrue(),3000\n                )\n            }\n        },\n        showResultNotificationTrue() {\n            console.log(\"in true\")\n            this.showResultNotification = true\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"style/_variables.scss\";\n\n.testresult-wrapper{\n    position: relative;\n    align-items: center;\n    .progress-container{\n        position: absolute;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        border: solid $base-color;\n        top: 40%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        // margin: 0 auto;\n        height: 120px;\n        width: 100%;\n        background: $back-tr-white;\n        z-index: 1;\n        .progress-text{\n            margin-top: 1rem;\n            font-size: 1.2rem;\n            font-weight: bold;\n        }\n        .result-text{\n            color: black;\n            bottom: 0;\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: $dull-red;\n        }\n    }\n}\n    /* // this is only for i phone5 */\n  @media(max-width: 355px){\n      \n        .result-text{\n            font-size:1.5rem;\n            color:white;\n            }\n        .diamond-wrapper{\n            position:relative;\n            margin-top:-2rem;\n            margin-bottom:auto;    \n            }\n        .diamond-outer{\n            border: 7.5rem solid transparent;\n            border-bottom: 5.5rem solid orange;\n            position: relative;\n            top: -5rem;\n            width: 0;\n            height: 0;\n            margin: 0 auto;\n        }\n        .diamond-outer:after{\n            content: '';\n            position: absolute;\n            left: -7.5rem;\n            top: 5.5rem;\n            width: 0;\n            height: 0;\n            border: 7.5rem solid transparent;\n            border-top: 5.5rem solid orange;\n                }        \n        .diamond{\n            width: 0;\n            height: 0;\n            border: 7rem solid transparent;\n            border-bottom: 5rem solid white;\n            position: relative;\n            top: -17rem;\n            margin: 0 auto;\n                }\n        .diamond:after{\n            content: '';\n            position: absolute;\n            left: -7rem;\n            top: 5rem;\n            width: 0;\n            border: 7rem solid transparent;\n            border-top: 5rem solid white;\n            }\n        .text{\n            font-size:2rem;\n            color:black;\n            font-weight: bold;\n            }\n        .text-wrapper{\n            position:absolute;\n            left: 0;\n            right: 0;\n            margin: 0 auto;\n            top:6.5rem;\n            }\n        .font-wrapper{\n            font-size:10rem;\n            color:orange;\n            margin-top:-13rem;\n        }\n    }\n    @media(min-width: 356px){\n    .result-text{\n            font-size:2rem;\n            color:white;\n            }\n    .diamond-wrapper{\n        position:relative;     \n        }\n    .dwrapper1{\n        position:absolute;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        \n    }\n    .dwrapper2{\n        position:absolute;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n    }\n    .diamond-outer {\n        width: 0;\n        height: 0;\n        border: 8.5rem solid transparent;\n        border-bottom: 5.5rem solid orange;\n        position: relative;\n        top: -5rem;\n        margin: 0 auto;\n\n    }   \n    .diamond-outer:after {\n        content: '';\n        position: absolute;\n        left: -8.5rem; top:5.5rem;\n        width: 0;\n        height: 0;\n        border: 8.5rem solid transparent;\n        border-top: 5.5rem solid orange;\n    }\n\n    .diamond {\n        width: 0;\n        height: 0;\n        border: 8rem solid transparent;\n        border-bottom: 5rem solid white;\n        position: relative;\n        top: -4rem;\n        margin: 0 auto;\n    }\n    .diamond:after {\n        content: '';\n        position: absolute;\n        left: -8rem; top:5rem;\n        width: 0;\n        height: 0;\n        border: 8rem solid transparent;\n        border-top: 5rem solid white;\n        \n    }\n    .text-wrapper{\n        position:absolute;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        top:7.5rem;\n    }\n    .text{\n        font-size:2rem;\n        color:black;\n        font-weight: bold;\n        margin: 0 auto;\n    }\n    .level-text{\n        font-weight: bold;\n        font-size: 1.5rem;\n    }\n    .font-wrapper{\n        font-size:10rem;\n        color:orange;\n        margin-top:15rem;\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}