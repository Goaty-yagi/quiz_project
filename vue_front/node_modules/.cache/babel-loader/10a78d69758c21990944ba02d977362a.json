{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { createStore } from 'vuex';\nimport createPersistedState from 'vuex-persistedstate';\nimport SecureLS from \"secure-ls\";\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport { router } from \"../main.js\";\nimport signup from './modules/signup';\nimport board from './modules/board';\nimport quiz from './modules/quiz';\nimport crypto from 'crypto-js';\nvar cryptKey = 'unko';\nvar ls = new SecureLS({\n  isCompression: false,\n  useSessionStore: true\n});\n\nvar getDefaultState = function getDefaultState() {\n  return {\n    isLoading: false,\n    id: 1,\n    field: '',\n    num: 3,\n    questions: [],\n    quizzes: [],\n    randomURL: '',\n    test: null,\n    notice: false,\n    step: 1,\n    showModal: false,\n    fixedScroll: false\n  };\n};\n\nexport default createStore({\n  modules: {\n    signup: signup,\n    board: board,\n    quiz: quiz\n  },\n  state: getDefaultState(),\n  plugins: [createPersistedState({\n    key: 'quizkey',\n    // 設定しなければ'vuex'\n    paths: [\"signup.djangoUser\", \"signup.emailVerified\", \"signup.apiError\", \"signup.UID\", \"signup.registeredUser\", \"signup.myQuestion\", \"signup.myQuizInfo\"],\n    // 保存するモジュール：設定しなければ全部。\n    storage: {\n      // getItem: key => window.sessionStorage.get(crypto.AES.encrypt(key, cryptKey)),\n      // setItem: (key, value) => window.sessionStorage.get(crypto.AES.decrypt(key,value, cryptKey)),\n      getItem: function getItem(key, value) {\n        return window.sessionStorage.getItem(crypto.AES.decrypt(key, value, cryptKey));\n      },\n      setItem: function setItem(key) {\n        return window.sessionStorage.window.sessionStorage.setItem(crypto.AES.encrypt(key, cryptKey));\n      },\n      removeItem: function removeItem(key) {\n        return window.sessionStorage.removeItem(key);\n      }\n    }\n  }), createPersistedState({\n    key: 'quiz-session',\n    paths: [// \"board.answeredQuestion\",\n    // \"board.reccomendedQuestion\",\n    \"board.centerTag\", \"quiz.quizNameId\", \"quiz.fieldNameId\" // \"quiz.questionTypeId\"\n    ],\n    storage: {\n      getItem: function getItem(key) {\n        return ls.get(key);\n      },\n      setItem: function setItem(key, value) {\n        return ls.set(key, value);\n      },\n      removeItem: function removeItem(key) {\n        return ls.remove(key);\n      }\n    }\n  }), createPersistedState({\n    key: 'tempKey',\n    // 設定しなければ'vuex'\n    paths: [\"signup.tempUser\", \"signup.userInfo\", \"signup.beingException\", \"signup.reloadForException\"],\n    // 保存するモジュール：設定しなければ全部。\n    storage: {\n      getItem: function getItem(key) {\n        return Cookies.get(key);\n      },\n      setItem: function setItem(key, value) {\n        return Cookies.set(key, value, {\n          expires: 3,\n          secure: true\n        });\n      },\n      removeItem: function removeItem(key) {\n        return Cookies.remove(key);\n      }\n    }\n  })],\n  getters: {\n    questions2: function questions2(state) {\n      return state.questions;\n    },\n    quizzes2: function quizzes2(state) {\n      return state.quizzes;\n    },\n    showModal: function showModal(state) {\n      return state.showModal;\n    },\n    fixedScroll: function fixedScroll(state) {\n      return state.fixedScroll;\n    }\n  },\n  mutations: {\n    setIsLoading: function setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n    reset: function reset(state) {\n      console.log('reset');\n      Object.assign(state, getDefaultState());\n      router.push('/');\n    },\n    getURLs: function getURLs(state, item) {\n      state.num = item.num; // state.field= field\n\n      state.id = item.status;\n      state.test = item.test;\n      state.randomURL = \"/quiz/\".concat(state.id);\n    },\n    // getRandomQuestion(state,array){\n    //   for (let i = array.length - 1; i >= 0; i--) {\n    //     let r = Math.floor(Math.random() * (i + 1))\n    //     let tmp = array[i]\n    //     array[i] = array[r]\n    //     array[r] = tmp\n    //     }\n    //   for ( let k =0; k < array.length; k++){\n    //     for (let i = array[k].answer.length - 1; i >= 0; i--) {\n    //       let r = Math.floor(Math.random() * (i + 1))\n    //       let tmp = array[k].answer[i]\n    //       array[k].answer[i] = array[k].answer[r]\n    //       array[k].answer[r] = tmp\n    //       }}\n    //     return array\n    // },\n    // setQuestions:(state,questions) => (state.questions = questions),\n    // setQuiz:(state,quizzes) => (state.quizzes = quizzes),\n    // initial\n    testHandler: function testHandler(state) {\n      state.test = false;\n    },\n    noticeHandler: function noticeHandler(state) {\n      state.notice = true;\n    },\n    noticeOff: function noticeOff(state) {\n      state.notice = false;\n    },\n    addStep: function addStep(state) {\n      state.step += 1;\n    },\n    stepClear: function stepClear(state) {\n      state.step = 1;\n    },\n    showModalTrue: function showModalTrue(state) {\n      state.showModal = true;\n    },\n    showModalFalse: function showModalFalse(state) {\n      state.showModal = false;\n    },\n    fixedScrollTrue: function fixedScrollTrue(state) {\n      state.fixedScroll = true;\n    },\n    fixedScrollFalse: function fixedScrollFalse(state) {\n      state.fixedScroll = false;\n    },\n    handleFixedScroll: function handleFixedScroll(state) {\n      state.fixedScroll = !state.fixedScroll;\n    } // quizRouter(i,f,n){\n    //   state.id = i\n    //   state.field = f\n    //   state.num = n\n    //   return { name: 'Quiz', params:{ id:state.id, field:state.field, num:state.num}}\n    // }\n\n  } // actions: {\n  //   }\n\n});","map":{"version":3,"names":["createStore","createPersistedState","SecureLS","Cookies","axios","router","signup","board","quiz","crypto","cryptKey","ls","isCompression","useSessionStore","getDefaultState","isLoading","id","field","num","questions","quizzes","randomURL","test","notice","step","showModal","fixedScroll","modules","state","plugins","key","paths","storage","getItem","value","window","sessionStorage","AES","decrypt","setItem","encrypt","removeItem","get","set","remove","expires","secure","getters","questions2","quizzes2","mutations","setIsLoading","status","reset","console","log","Object","assign","push","getURLs","item","testHandler","noticeHandler","noticeOff","addStep","stepClear","showModalTrue","showModalFalse","fixedScrollTrue","fixedScrollFalse","handleFixedScroll"],"sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\nimport SecureLS from \"secure-ls\";\nimport Cookies from 'js-cookie'\nimport axios from 'axios'\nimport {router} from \"../main.js\"\nimport  signup  from './modules/signup'\nimport  board  from './modules/board'\nimport  quiz  from './modules/quiz'\nimport crypto from 'crypto-js'\n\nconst cryptKey = 'unko'\nconst ls = new SecureLS({ isCompression: false,useSessionStore: true });\n\nlet getDefaultState = () => {\n  return {\n    isLoading: false,\n    id: 1,\n    field:'',\n    num:3,\n    questions:[],\n    quizzes:[],\n    randomURL:'',\n    test:null,\n    notice:false,\n    step:1,\n    showModal: false,\n    fixedScroll: false,\n  }}\n\n\nexport default createStore({\n  modules: {\n    signup,\n    board,\n    quiz\n  },\n  state: getDefaultState(),\n  plugins: [\n    createPersistedState({\n      key: 'quizkey',  // 設定しなければ'vuex'\n      paths: [\n        \"signup.djangoUser\",\n        \"signup.emailVerified\",\n        \"signup.apiError\",\n        \"signup.UID\",\n        \"signup.registeredUser\",\n        \"signup.myQuestion\",\n        \"signup.myQuizInfo\",\n      ],  // 保存するモジュール：設定しなければ全部。\n      storage: {\n        // getItem: key => window.sessionStorage.get(crypto.AES.encrypt(key, cryptKey)),\n        // setItem: (key, value) => window.sessionStorage.get(crypto.AES.decrypt(key,value, cryptKey)),\n        getItem:(key, value) => window.sessionStorage.getItem(crypto.AES.decrypt(key,value, cryptKey)),\n        setItem: key => window.sessionStorage.window.sessionStorage.setItem(crypto.AES.encrypt(key, cryptKey)),\n        removeItem: key => window.sessionStorage.removeItem(key)\n      }\n    }),\n    createPersistedState({\n      key: 'quiz-session',\n      paths:[\n        // \"board.answeredQuestion\",\n        // \"board.reccomendedQuestion\",\n        \"board.centerTag\",\n        \"quiz.quizNameId\",\n        \"quiz.fieldNameId\",\n        // \"quiz.questionTypeId\"\n        ],\n        storage: {\n          getItem: key => ls.get(key),\n          setItem: (key, value) => ls.set(key, value),\n          removeItem: key => ls.remove(key),\n        },\n    }),\n    createPersistedState({\n        key: 'tempKey',  // 設定しなければ'vuex'\n        paths: [\n          \"signup.tempUser\",\n          \"signup.userInfo\",\n          \"signup.beingException\",\n          \"signup.reloadForException\",\n        ],  // 保存するモジュール：設定しなければ全部。\n        storage:{\n          getItem:(key) => Cookies.get(key),\n          setItem:(key,value) =>\n            Cookies.set(key,value, {expires: 3, secure: true}),\n          removeItem:(key) => Cookies.remove(key),\n        }\n      })\n  ],\n  getters:{\n    questions2:(state) => state.questions,\n    quizzes2:(state) => state.quizzes,\n    showModal:(state) => state.showModal,\n    fixedScroll:(state) => state.fixedScroll\n  },\n  mutations: {\n    setIsLoading(state, status) {\n      state.isLoading = status\n    },\n    reset(state) {\n      console.log('reset')\n      Object.assign(state, getDefaultState())\n      router.push('/')\n    },\n    getURLs(state,item){\n      state.num = item.num\n      // state.field= field\n      state.id = item.status\n      state.test = item.test\n      state.randomURL = `/quiz/${state.id}`\n    },\n    \n    // getRandomQuestion(state,array){\n    //   for (let i = array.length - 1; i >= 0; i--) {\n    //     let r = Math.floor(Math.random() * (i + 1))\n    //     let tmp = array[i]\n    //     array[i] = array[r]\n    //     array[r] = tmp\n    //     }\n    //   for ( let k =0; k < array.length; k++){\n    //     for (let i = array[k].answer.length - 1; i >= 0; i--) {\n    //       let r = Math.floor(Math.random() * (i + 1))\n    //       let tmp = array[k].answer[i]\n    //       array[k].answer[i] = array[k].answer[r]\n    //       array[k].answer[r] = tmp\n    //       }}\n    //     return array\n    // },\n    // setQuestions:(state,questions) => (state.questions = questions),\n    // setQuiz:(state,quizzes) => (state.quizzes = quizzes),\n    // initial\n    testHandler(state){\n      state.test = false\n    },\n    noticeHandler(state){\n      state.notice = true\n      \n    },\n    noticeOff(state){\n      state.notice = false  \n    },\n    addStep(state){\n      state.step += 1\n    },\n    stepClear(state){\n      state.step = 1\n    },\n    showModalTrue(state){\n      state.showModal = true\n    },\n    showModalFalse(state){\n      state.showModal = false\n    },\n    fixedScrollTrue(state){\n      state.fixedScroll = true\n    },\n    fixedScrollFalse(state){\n      state.fixedScroll = false\n    },\n    handleFixedScroll(state){\n      state.fixedScroll = !state.fixedScroll\n    }\n\n    // quizRouter(i,f,n){\n    //   state.id = i\n    //   state.field = f\n    //   state.num = n\n    //   return { name: 'Quiz', params:{ id:state.id, field:state.field, num:state.num}}\n    // }\n  },\n  // actions: {\n  //   }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}