{"ast":null,"code":"import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-5b7ba01b\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"notification-text\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_2 = [_hoisted_1];\nvar _hoisted_3 = {\n  class: \"main-wrapper\"\n};\nvar _hoisted_4 = {\n  class: \"main-container\"\n};\nvar _hoisted_5 = {\n  class: \"logger-header\"\n};\nvar _hoisted_6 = {\n  key: 0,\n  class: \"logger-container\"\n};\nvar _hoisted_7 = {\n  key: 0,\n  class: \"no-my-quiz\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"no-quiz\"\n  }, [/*#__PURE__*/_createTextVNode(\" ログはありません。\"), /*#__PURE__*/_createElementVNode(\"br\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_9 = [_hoisted_8];\nvar _hoisted_10 = [\"onClick\"];\nvar _hoisted_11 = {\n  class: \"each-log-container\"\n};\nvar _hoisted_12 = {\n  class: \"question-index-container\"\n};\nvar _hoisted_13 = {\n  class: \"question-index\"\n};\nvar _hoisted_14 = {\n  class: \"log-time\"\n};\nvar _hoisted_15 = {\n  class: \"log-message\"\n};\nvar _hoisted_16 = {\n  key: 0,\n  class: \"log-checked\"\n};\n\nvar _hoisted_17 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"lds-dual-ring\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_18 = [_hoisted_17];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_LogDetail = _resolveComponent(\"LogDetail\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"logger-wrapper\", {\n      'laoding-center': _ctx.$store.state.isLoading\n    }])\n  }, [_createElementVNode(\"div\", {\n    class: _normalizeClass({\n      'notification-blue': _ctx.$store.state.board.notifications.reply\n    })\n  }, _hoisted_2, 2\n  /* CLASS */\n  ), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, \"新しいログ\" + _toDisplayString() + \"件\", 1\n  /* TEXT */\n  ), _createCommentVNode(\" <p class=\\\"title-white\\\">My-Quiz</p>\\n                    <p class=\\\"register\\\">登録数{{ length }} / {{myQuiz.max_num}}</p>\\n                    <p class=\\\"max\\\">(最大 {{myQuiz.max_num}} 個まで登録できます)</p> \")]), _createCommentVNode(\" {{ loggers }} \"), _ctx.$store.state.isLoading == false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [!$data.loggers.results ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _hoisted_9)) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.loggers.results, function (log, logindex) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"logger-loop\",\n      onClick: function onClick($event) {\n        return $options.logDetailTrue(logindex);\n      },\n      key: logindex\n    }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(logindex + 1), 1\n    /* TEXT */\n    )]), _createCommentVNode(\" <div class=\\\"log-time\\\">{{ log.created_on }}</div> \"), _createElementVNode(\"div\", _hoisted_14, _toDisplayString(log.created_on), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_15, _toDisplayString(log.actualErrorMessage.substr(0, 15) + '...'), 1\n    /* TEXT */\n    ), !log.checked ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString($options.ckeckedToString(log.checked)), 1\n    /* TEXT */\n    )) : _createCommentVNode(\"v-if\", true)])], 8\n    /* PROPS */\n    , _hoisted_10);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"is-loading-bar has-text-centered\", {\n      'is-loading': $data.loading\n    }])\n  }, _hoisted_18, 2\n  /* CLASS */\n  ), this.nextUrl ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 1,\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.getNextLogger();\n    }),\n    class: \"fas fa-angle-down\"\n  })) : _createCommentVNode(\"v-if\", true), $data.logDetail ? (_openBlock(), _createBlock(_component_LogDetail, {\n    key: 2,\n    refs: \"child\",\n    loggers: $data.loggers,\n    currentTagIndex: $data.currentTagIndex,\n    nextUrl: $data.nextUrl,\n    noMoreUrl: $data.noMoreUrl,\n    onLogDetailFalse: $options.logDetailFalse,\n    onGetNextLogger: $options.getNextLogger\n  }, null, 8\n  /* PROPS */\n  , [\"loggers\", \"currentTagIndex\", \"nextUrl\", \"noMoreUrl\", \"onLogDetailFalse\", \"onGetNextLogger\"])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <div @click=\\\"handleQuizOpen()\\\" v-if=\\\"showButtonAndNoQuiz\\\" class=\\\"btn-basegra-white-db-sq\\\">\\n                    練習\\n                </div> \")])])], 2\n  /* CLASS */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","_hoisted_1","_hoisted_8","_hoisted_17","_createElementBlock","_ctx","state","isLoading","board","notifications","reply","_toDisplayString","_createCommentVNode","$data","results","_hoisted_9","_Fragment","_renderList","log","logindex","onClick","$options","key","created_on","actualErrorMessage","substr","checked","nextUrl","_createBlock","_component_LogDetail","refs","loggers","currentTagIndex","noMoreUrl","onLogDetailFalse","onGetNextLogger"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/dashboard/Logger.vue"],"sourcesContent":["<template>\n    <div class=\"logger-wrapper\" :class=\"{'laoding-center':$store.state.isLoading}\">\n        <div  :class=\"{'notification-blue':$store.state.board.notifications.reply}\">\n            <div class=\"notification-text\">\n                \n            </div>\n        </div>\n        <div class=\"main-wrapper\">\n            <div class=\"main-container\" >\n                <div class=\"logger-header\">\n                    <p>新しいログ{{  }}件</p>\n                    <!-- <p class=\"title-white\">My-Quiz</p>\n                    <p class=\"register\">登録数{{ length }} / {{myQuiz.max_num}}</p>\n                    <p class=\"max\">(最大 {{myQuiz.max_num}} 個まで登録できます)</p> -->\n                </div>\n                <!-- {{ loggers }} -->\n                <div class=\"logger-container\" v-if=\"$store.state.isLoading==false\">\n                    <div class=\"no-my-quiz\" v-if=\"!loggers.results\">\n                        <div class=\"no-quiz\">\n                            ログはありません。<br>\n                        </div>\n                    </div>\n                    <div class=logger-loop @click=\"logDetailTrue(logindex)\" v-for=\"(log,logindex) in loggers.results\"\n                        v-bind:key=\"logindex\">\n                        <div class=\"each-log-container\">\n                            <div class=\"question-index-container\">\n                                <div class=\"question-index\">{{ logindex+1 }}</div>\n                            </div>\n                            <!-- <div class=\"log-time\">{{ log.created_on }}</div> -->\n                            <div class=\"log-time\">{{ log.created_on }}</div>\n                            <div class=\"log-message\">{{ log.actualErrorMessage.substr(0,15)+'...'  }}</div>\n                            <div v-if=\"!log.checked\" class=\"log-checked\" >{{ ckeckedToString(log.checked) }}</div>\n                        </div>\n                    </div>\n                    <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': loading }\">\n                        <div class=\"lds-dual-ring\"></div>\n                    </div>\n                    <i v-if=\"this.nextUrl\" @click=\"getNextLogger()\" class=\"fas fa-angle-down\"></i>\n                    <LogDetail\n                    refs=\"child\"\n                    v-if=\"logDetail\"\n                    :loggers=\"loggers\"\n                    :currentTagIndex=\"currentTagIndex\"\n                    :nextUrl=\"nextUrl\"\n                    :noMoreUrl=\"noMoreUrl\"\n                    @logDetailFalse=\"logDetailFalse\"\n                    @getNextLogger=\"getNextLogger\"             \n                    />\n                </div>\n                <!-- <div @click=\"handleQuizOpen()\" v-if=\"showButtonAndNoQuiz\" class=\"btn-basegra-white-db-sq\">\n                    練習\n                </div> -->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapGetters,mapActions} from 'vuex'\nimport LogDetail from '@/components/dashboard/LogDetail.vue'\nimport axios from 'axios';\n\nexport default {\n    components: {\n        LogDetail,\n    },\n    data(){\n        return{\n            errorMessage:\"components/dashboard/Logger\",\n            loggers: \"\",\n            logDetail: false,\n            currentTagIndex:'',\n            nextUrl: '',\n            loading: false,\n            noMoreUrl: false,\n        }\n    },\n    mounted(){\n        this.getLogger()\n        console.log('moubted',this.$refs.child)\n    },\n    computed:{\n        user(){\n            return this.$store.state.signup.djangoUser\n        },\n        myQuiz(){\n            return this.$store.state.signup.djangoUser.my_quiz[0]\n        },\n        fieldNameId(){\n            return this.$store.getters.fieldNameId\n        },\n        quizNameId(){\n            return this.$store.getters.quizNameId\n        },\n        statusNameId(){\n            this.$store.dispatch(\"getStatusNameId\")\n            return this.$store.getters.statusNameId\n        }\n\n    },\n    methods:{\n        async getLogger(){\n            this.$store.commit('setIsLoading', true)\n            await axios\n                .get('/api/loggers-list')\n                .then(response => {\n                    this.loggers = response.data\n                    if(response.data.next){\n                        this.nextUrl = response.data.next\n                    } else {\n                        this.noMoreUrl = true\n                    }\n                    console.log('getlog', this.loggers)\n                    })\n                .catch(e => {\n                    let logger = {\n                    message: this.errorMessage + 'getLogger',\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n                }\n                this.$store.commit('setLogger',logger)\n                this.$store.commit(\"checkDjangoError\",e.message)\n                this.$store.commit('setIsLoading', false)\n                router.push({ name: 'ConnectionError' })\n                })\n            this.$store.commit('setIsLoading', false)\n        },\n        async getNextLogger() {\n            console.log('next')\n            this.loading = true\n            await axios\n                .get(this.nextUrl)\n                .then(response => {\n                    console.log(response.data.results)\n                    response.data.results.forEach(e => {\n                        this.loggers.results.push(e)\n                    })\n                    console.log('refs',this.$refs.child)\n                    // this.$refs.child.ckeckedTrue()\n                    console.log('n',response.data.next)\n                    this.nextUrl = response.data.next\n                    })\n                .catch(e => {\n                    let logger = {\n                    message: this.errorMessage + 'getLogger',\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n                }\n                this.$store.commit('setLogger',logger)\n                this.$store.commit(\"checkDjangoError\",e.message)\n                this.$store.commit('setIsLoading', false)\n                router.push({ name: 'ConnectionError' })\n                })\n            this.loading = false\n\n        },\n        ckeckedToString(checked) {\n            if(checked){\n                return ''\n            } else {\n                return '未確認'\n            }\n        },\n        logDetailFalse() {\n            this.logDetail = false\n        },\n        logDetailTrue(index) {\n            this.currentTagIndex = index\n            this.logDetail = true\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"style/_variables.scss\";\n\n.main-container{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        }\n\n.logger-wrapper{\n    display: flex;\n    justify-content: center;\n    .main-wrapper{\n        .logger-header{\n            margin-bottom: 1rem;\n            .register{\n                font-size: 1.3rem;\n                color: $lite-gray;\n                font-weight: bold;\n            }\n            .max{\n                font-size: 0.8rem;\n                color: $lite-gray;\n            }\n        }\n        .logger-container{\n            width: 95%;\n            min-height: 300px;\n            max-height: 350px;\n            border: solid $base-color;\n            border-radius: 5px;\n            background: $back-white;\n            padding-top: 1rem;\n            padding-bottom: 1rem;\n            overflow: scroll;\n            .no-my-quiz{\n                margin:2rem;\n                .no-quiz{\n                    color: $dark-blue;\n                    font-weight: bold;\n                    margin-bottom: 2rem;\n                }\n            \n            }\n            .logger-loop:hover{\n                background: $back-lite-white;\n                border-bottom: solid $lite-gray;\n            }\n            .logger-loop{\n                position: relative;\n                display: flex;\n                align-items: center;\n                border-bottom: solid $lite-gray;\n                transition: .5s;\n                .each-log-container{\n                    position: relative;\n                    display: flex;\n                    width: 100%;\n                    margin-bottom: 1rem;\n                    margin-top: 1rem;\n                    // padding-bottom: 0.5rem;\n                    align-items: center;\n                    // justify-content: center;\n                    .question-index-container{\n                        flex-basis: 10%;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        .question-index{\n                            border: solid $base-color;\n                            border-radius: 50vh;\n                            width: 1.7rem;\n                            height: 1.7rem;\n                            margin-left: 0.4rem;\n                            font-weight: bold;\n                            background: $dark-blue;\n                            color: white;\n                        }\n                    }\n                    .log-time{\n                        flex-basis: 30%;\n\n                    }\n                    .log-message{\n                        flex-basis: 50%;\n                    }\n                    .log-checked{\n                        position: absolute;\n                        flex-basis: 10%;\n                        right: 0;\n                        color: red;\n                        margin-right: 0.5rem;\n                        border: solid $dull-red;\n                    }\n                }\n            }\n            .fa-angle-down{\n                margin-top: 1rem;\n            }\n        }\n        .btn-basegra-white-db-sq{\n            margin-top: 0.5rem;\n            margin-bottom: 0.5rem;\n            padding-top: 0.2rem;\n            padding-bottom: 0.2rem;\n            padding-left: 1.2rem;\n            padding-right: 1.2rem;\n            font-weight: bold;\n            font-size: 1.2rem;\n\n        }\n\n    }\n\n}\n</style>"]},"metadata":{},"sourceType":"module"}