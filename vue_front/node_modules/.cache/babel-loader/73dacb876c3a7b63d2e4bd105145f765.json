{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport ID from './ID.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    ID: ID\n  },\n  data: function data() {\n    return {\n      error: null,\n      errorMessage: 'このメールアドレスはすでに使われています。',\n      errorMessage2: '登録できませんでした。もう一度お試しください。'\n    };\n  },\n  methods: {\n    addStep: function addStep() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$store.dispatch('signup', {\n                  email: _this.$store.state.signup.email,\n                  password: _this.$store.state.signup.password\n                });\n\n              case 2:\n                _this.$emit('confHandle');\n\n                _this.$emit('sentHandle');\n\n                _this.$store.commit('addStep');\n\n                _this.$emit('handle');\n\n                console.log('start django add');\n\n                _this.registerUserOndDjango(); // }catch(err){\n                //     this.error = this.errorMessage2\n                //     console.log('catch error',this.error)\n                //     }\n                // await this.handleSubmit()\n                // if (this.error == null){\n                // }\n\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    registerUserOndDjango: function registerUserOndDjango() {\n      console.log('start add');\n      axios({\n        method: 'post',\n        url: '/api/user/',\n        data: {\n          UID: this.$store.state.signup.user.uid,\n          name: this.$store.state.signup.username,\n          email: this.$store.state.signup.email,\n          grade: 'unko',\n          country: this.$store.state.signup.country\n        }\n      });\n    },\n    goEdit: function goEdit() {\n      this.$emit('edithandle');\n      this.$emit('handle');\n    } // async handleSubmit(){\n    //     try {\n    //         await this.$store.dispatch('sentValidation',{\n    //             email: this.$store.state.signup.email,\n    //             password: this.$store.state.signup.password\n    //             })\n    //             this.$store.dispatch('')\n    //     } catch (err){\n    //         this.error = this.errorMessage2\n    //         console.log('catch error',this.error)\n    //     }\n    // },\n    // errorMessageHandler(error){\n    //     if ( error == 'Firebase: Error (auth/email-already-in-use).'){\n    //         this.error = this.errorMessage\n    //     }else{\n    //         this.error = this.errorMessage2\n    //     }\n    // }        \n\n  },\n  mounted: function mounted() {\n    console.log('mail', this.$store.state.signup.email, 'password', this.$store.state.signup.password);\n  }\n};","map":{"version":3,"mappings":";;AA4CA,OAAOA,EAAP,MAAe,UAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,UAAU,EAAE;IAAEF,EAAC,EAADA;EAAF,CADC;EAEXG,IAFW,kBAEL;IACF,OAAM;MACFC,KAAK,EAAE,IADL;MAEFC,YAAY,EAAC,uBAFX;MAGFC,aAAa,EAAC;IAHZ,CAAN;EAKH,CARU;EASXC,OAAO,EAAC;IACCC,OADD,qBACU;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEA,KAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,QAArB,EAA8B;kBAC5BC,KAAK,EAAE,KAAI,CAACF,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBF,KADJ;kBAE5BG,QAAQ,EAAE,KAAI,CAACL,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBC;gBAFP,CAA9B,CAFA;;cAAA;gBAME,KAAI,CAACC,KAAL,CAAW,YAAX;;gBACA,KAAI,CAACA,KAAL,CAAW,YAAX;;gBACA,KAAI,CAACN,MAAL,CAAYO,MAAZ,CAAmB,SAAnB;;gBACA,KAAI,CAACD,KAAL,CAAW,QAAX;;gBACAE,OAAO,CAACC,GAAR,CAAY,kBAAZ;;gBACA,KAAI,CAACC,qBAAL,GAXF,CAcV;gBACA;gBACA;gBACA;gBAGA;gBACA;gBAEA;;;cAvBU;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAwBb,CAzBG;IA0BJA,qBA1BI,mCA0BmB;MACnBF,OAAO,CAACC,GAAR,CAAY,WAAZ;MACAjB,KAAK,CAAC;QACFmB,MAAM,EAAE,MADN;QAEFC,GAAG,EAAE,YAFH;QAGFlB,IAAI,EAAE;UACFmB,GAAG,EAAE,KAAKb,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBU,IAAzB,CAA8BC,GADjC;UAEFC,IAAI,EAAE,KAAKhB,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBa,QAF7B;UAGFf,KAAK,EAAE,KAAKF,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBF,KAH9B;UAIFgB,KAAK,EAAE,MAJL;UAKFC,OAAO,EAAE,KAAKnB,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBe;QALhC;MAHJ,CAAD,CAAL;IAWH,CAvCG;IAwCJC,MAxCI,oBAwCI;MACJ,KAAKd,KAAL,CAAW,YAAX;MACA,KAAKA,KAAL,CAAW,QAAX;IACH,CA3CG,CA4CJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EA9DI,CATG;EAyEXe,OAzEW,qBAyEF;IACLb,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKT,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBF,KAA5C,EAAmD,UAAnD,EAA8D,KAAKF,MAAL,CAAYG,KAAZ,CAAkBC,MAAlB,CAAyBC,QAAvF;EACH;AA3EU,CAAf","names":["ID","axios","components","data","error","errorMessage","errorMessage2","methods","addStep","$store","dispatch","email","state","signup","password","$emit","commit","console","log","registerUserOndDjango","method","url","UID","user","uid","name","username","grade","country","goEdit","mounted"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/signin/RegisterConfirm.vue"],"sourcesContent":["<template>\n    <div class='notification-wrapper'>\n        <div class='notice-wrapper'>\n            <img class='image' src=\"@/assets/logo.png\">\n            <p class='text1'>以下の情報で登録しますか。</p>\n            <div class=\"field\">\n                <div class=\"input-box\">\n                    <div><i class=\"fas fa-robot\" id='in-font'></i></div>\n                    <div class=\"text-box\">{{ $store.state.signup.username }}</div>\n                </div>         \n            </div>\n            <div class=\"field\">\n                <div class=\"input-box\">\n                    <div><i class=\"far fa-envelope\" id='in-font'></i></div>      \n                        <div class=\"text-box\" id='mail'>{{ $store.state.signup.email }}</div>\n                </div>         \n            </div>\n            <div class=\"field\">\n                <div class=\"input-box\">\n                    <div><i class=\"fas fa-globe\" id='in-font'></i></div>\n                    <div class=\"text-box\">{{ $store.state.signup.country }}</div>\n                </div>         \n            </div>\n            <div class=\"field\">\n                <div class=\"input-box\">\n                    <i class=\"fas fa-unlock-alt\" id='in-font'></i>\n                    <div class=\"text-box\">{{ $store.state.signup.password }}</div>\n                </div>         \n            </div>\n            <div class=\"buttons\">\n                <button  @click='goEdit' class='button' :disabled='error' id='color-button'><p>編集する</p></button>\n                <button  @click='addStep' class='button' :disabled='error' id='color-button'><p>登録</p></button>\n            </div>\n            <transition name=\"notice\">\n                <div v-if='error' class=\"error\">\n                    <p class='error-message' v-if='error'> {{ error }} </p>\n                    <button class='fbottun' id='color-button'>戻る</button>\n                </div>\n            </transition>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ID from './ID.vue'\nimport axios from 'axios'\nexport default {\n  components: { ID },\n    data(){\n        return{\n            error: null,\n            errorMessage:'このメールアドレスはすでに使われています。',\n            errorMessage2:'登録できませんでした。もう一度お試しください。',\n        }\n    },\n    methods:{\n       async addStep(){\n            // try{\n                await this.$store.dispatch('signup',{\n                        email: this.$store.state.signup.email,\n                        password: this.$store.state.signup.password\n                        })\n                        this.$emit('confHandle')\n                        this.$emit('sentHandle')\n                        this.$store.commit('addStep')\n                        this.$emit('handle')\n                        console.log('start django add')\n                        this.registerUserOndDjango()\n                        \n                \n            // }catch(err){\n            //     this.error = this.errorMessage2\n            //     console.log('catch error',this.error)\n            //     }\n            \n\n            // await this.handleSubmit()\n            // if (this.error == null){\n                \n            // }\n        },\n        registerUserOndDjango(){\n            console.log('start add')\n            axios({\n                method: 'post',\n                url: '/api/user/',\n                data: {\n                    UID: this.$store.state.signup.user.uid,\n                    name: this.$store.state.signup.username,\n                    email: this.$store.state.signup.email,\n                    grade: 'unko',\n                    country: this.$store.state.signup.country\n                },\n            })\n        },\n        goEdit(){\n            this.$emit('edithandle')\n            this.$emit('handle')\n        },\n        // async handleSubmit(){\n        //     try {\n        //         await this.$store.dispatch('sentValidation',{\n        //             email: this.$store.state.signup.email,\n        //             password: this.$store.state.signup.password\n        //             })\n        //             this.$store.dispatch('')\n        //     } catch (err){\n        //         this.error = this.errorMessage2\n        //         console.log('catch error',this.error)\n        //     }\n        // },\n        // errorMessageHandler(error){\n        //     if ( error == 'Firebase: Error (auth/email-already-in-use).'){\n        //         this.error = this.errorMessage\n        //     }else{\n        //         this.error = this.errorMessage2\n        //     }\n        // }        \n    },\n    mounted(){\n        console.log('mail',this.$store.state.signup.email, 'password',this.$store.state.signup.password)\n    },\n}\n</script>\n\n<style scoped lang='scss'>\n@import \"style/_variables.scss\";\n    .notification-wrapper{\n        top:0;\n        position: fixed;\n        background:rgba(0,0,0,0.5);\n        width:100vw;\n        height:100vh;\n        flex-direction: column;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .notice-wrapper{\n        border: solid $base-color;\n        border-radius: 2vh;\n        background:$back-white;\n        text-align: center;       \n        position:relative;\n        padding-top:1.5rem;\n        height:30rem;\n        width: 20rem;\n    }\n    .image{\n        width:15%;\n        height:auto;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .text1{\n        font-size:1rem;\n        font-weight: bold;\n        margin:2rem;\n    }\n    .input-box{\n        border: solid $base-color;\n        border-radius: 100Vh;\n        // display: flex;\n        // justify-content: flex-start;\n        // align-items: center;\n        margin-left: 1rem;\n        margin-right: 1rem;\n        height: 3rem;\n        position:relative;\n        font-size:0.5rem;\n    }\n    #in-font{\n        font-size:1.5rem;\n        margin-left: 1rem;\n        position:absolute;\n        left:0;\n        top:0.6rem;\n    }\n    .text-box{\n        // position: absolute;\n        left:0;\n        right:0;\n        top:0;\n        bottom: 0;\n        font-size:1.3rem;\n        font-weight: bold;\n        margin-top:0.5rem;\n        margin-left:3rem;\n        margin-right:2rem;\n    }\n    #mail{\n        overflow-wrap: break-word;\n        font-size:1rem;\n        line-height: 0.9rem;\n        margin-top:0.8rem;        \n    }\n    .buttons{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n    }\n    .button{\n        font-weight: bold;\n    }\n    .error{\n        position:absolute;\n        border:solid red;\n        background: rgb(247, 230, 232);\n        border-radius: 1rem;\n        height:70%;\n        left:0;\n        right:0;\n        bottom:0;\n        top:0;\n        margin:auto;\n        transition: 0.3s;\n        padding:2rem;\n        display:flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n    }\n    .error-message{\n        font-weight: bold;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}