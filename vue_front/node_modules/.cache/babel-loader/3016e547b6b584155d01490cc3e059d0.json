{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createForOfIteratorHelper from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport { router } from \"/src/main.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      questions: '',\n      reccomendedQuestion: '',\n      answeredQuestion: '',\n      userQuestion: '',\n      tagQuestion: '',\n      bottomScrollActionHandler: true,\n      scrollBottom: false,\n      tag: false,\n      active: null,\n      spinner: false,\n      showOnes: false,\n      onNotification: {\n        onReply: false,\n        onAnswer: false,\n        show: false\n      },\n      showNotifications: false,\n      temporaryStatus: '',\n      showQuestion: {\n        questionType: {\n          question: true,\n          answered: false,\n          reccomend: false,\n          favorite: false,\n          tag: false\n        },\n        questionStatus: {\n          all: true,\n          solved: false,\n          unsolved: false,\n          onVoting: false,\n          best: false\n        }\n      }\n    };\n  },\n  watch: {\n    showOnes: function showOnes(v) {\n      if (v == true && this.showOnes == false) {\n        this.setTime();\n      }\n    }\n  },\n  computed: {\n    user: function user() {\n      return this.$store.getters.getDjangouser;\n    },\n    // notifications(){\n    //     return this.$store.getters.notifications\n    // },\n    getThreeUsertag: function getThreeUsertag() {\n      var _ = require('lodash');\n\n      var used_num_list = [];\n\n      var userTag = _.cloneDeep(this.user.user_tag);\n\n      console.log('UT', userTag);\n\n      if (userTag) {\n        if (userTag.length == 1) {\n          return userTag;\n        } else if (userTag.length == 2) {\n          used_num_list.push(userTag.reduce(function (a, b) {\n            return a.used_num > b.used_num ? a : b;\n          }));\n          used_num_list.push(userTag.reduce(function (a, b) {\n            return a.used_num < b.used_num ? a : b;\n          }));\n\n          if (used_num_list[0].id == used_num_list[1].id) {\n            return userTag;\n          } else {\n            return used_num_list;\n          }\n        } else if (userTag.length >= 3) {\n          while (used_num_list.length < 3) {\n            used_num_list.push(userTag.reduce(function (a, b) {\n              return a.used_num > b.used_num ? a : b;\n            }));\n            Object.values(userTag).forEach(function (value) {\n              if (value.id == used_num_list.slice(-1)[0].id) delete userTag[userTag.indexOf(value)];\n            });\n          }\n\n          return used_num_list;\n        }\n      } else {} // console.log(\"GT\",this.user.user_tag.reduce((a,b)=>a.used_num>b.used_num?a:b));\n      // let used_num_temp_list = []\n      // let used_num_list = []\n      // let counter = 0\n      // for(let i of this.user.user_tag){\n      //     if(counter == 0){\n      //         used_num_temp_list.push(i)\n      //         counter += 1\n      //     }else{\n      //     }\n      // }\n\n    },\n    getAnsweredQuestion: function getAnsweredQuestion() {\n      console.log(\"getdazeAQ\");\n      return this.$store.getters.gettersAnsweredQuestions;\n    },\n    handleQuestion: function handleQuestion() {\n      var _this = this;\n\n      var handledQuestion = [];\n      console.log(\"questiontype\", this.showQuestion.questionType);\n\n      if (this.showQuestion.questionType.question) {\n        try {\n          this.questions = this.userQuestion;\n          console.log(\"UQR\", this.questions.results);\n          return this.handleStatus(this.HandleQuestionOnanswerOrder(this.questions.results));\n        } catch (_unused) {}\n      } else if (this.showQuestion.questionType.answered) {\n        var answeredquiz = [];\n        console.log('AQ', this.getAnsweredQuestion);\n        this.questions = this.getAnsweredQuestion;\n        console.log(\"best\", this.showQuestion.questionStatus.best);\n\n        if (this.showQuestion.questionStatus.best) {\n          Object.values(this.questions.results).forEach(function (value) {\n            console.log(\"loop\", value.answer);\n\n            var _iterator = _createForOfIteratorHelper(value.answer),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var answer = _step.value;\n\n                if (answer.best == true && answer.user.UID == _this.user.UID) {\n                  answeredquiz.push(value);\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          });\n          console.log(\"best list\", answeredquiz);\n          return answeredquiz;\n        } else {\n          console.log(\"not best\");\n          var answeredquiz2 = []; // for(let i of this.answeredQuestion){\n\n          Object.values(this.questions.results).forEach(function (value) {\n            console.log(\"value\", value.answer);\n\n            if (value.answer[0].on_reply == true && value.answer[0].user.UID == _this.user.UID) {\n              answeredquiz.push(value);\n            } else {\n              answeredquiz2.push(value);\n            }\n          });\n          console.log(answeredquiz, answeredquiz2);\n\n          if (answeredquiz) {\n            var _iterator2 = _createForOfIteratorHelper(answeredquiz2),\n                _step2;\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var i = _step2.value;\n                answeredquiz.push(i);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n\n            return this.handleStatus(answeredquiz);\n          }\n\n          return this.handleStatus(this.getAnsweredQuestion.results);\n        }\n      } else if (this.showQuestion.questionType.reccomend) {\n        this.questions = this.$store.state.board.reccomendedQuestion;\n        return this.handleStatus(this.questions.results);\n      } else if (this.showQuestion.questionType.favorite) {\n        if (this.$store.state.signup.favoriteQuestion) {\n          this.questions = this.$store.state.signup.favoriteQuestion;\n          return this.handleStatus(this.questions.results);\n        } else {\n          this.questions = '';\n          return this.handleStatus(this.questions);\n        }\n      } else if (this.showQuestion.questionType.tag) {\n        this.questions = this.tagQuestion;\n        return this.handleStatus(this.questions.results);\n      }\n    }\n  },\n  beforeMount: function beforeMount() {\n    console.log(\"beforeMounted\");\n    this.getUserQuestion();\n    this.scrollTop();\n    this.$store.dispatch(\"getAnsweredQuestion\");\n    this.$store.dispatch(\"getFavoriteQuestion\");\n  },\n  mounted: function mounted() {\n    console.log('THREE', this.getThreeUsertag);\n    console.log('mounted');\n    this.getUserQuestion();\n    window.addEventListener('scroll', this.handleScroll);\n    window.addEventListener('scroll', this.getScrollY);\n    this.bottomScrollActionHandler = true;\n    this.scrollBottom = false, this.handleOnReply();\n    this.$store.dispatch('getRelatedQuestion');\n    this.reccomendedQuestion = this.$store.state.board.reccomendedQuestion; // this.setTime()\n  },\n  beforeUnmount: function beforeUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n    window.removeEventListener('scroll', this.getScrollY);\n  },\n  methods: {\n    getDetail: function getDetail(slug) {\n      router.push(\"/board-detail/\".concat(slug));\n    },\n    getAdditionalQuestion: function getAdditionalQuestion(next) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"addQ\", next);\n\n                if (!(next != null)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 4;\n                return axios.get(next).then(function (response) {\n                  var _iterator3 = _createForOfIteratorHelper(response.data.results),\n                      _step3;\n\n                  try {\n                    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                      var i = _step3.value;\n\n                      _this2.questions.results.push(i);\n                    }\n                  } catch (err) {\n                    _iterator3.e(err);\n                  } finally {\n                    _iterator3.f();\n                  }\n\n                  _this2.questions.next = response.data.next;\n                  _this2.bottomScrollActionHandler = true;\n\n                  if (_this2.questions.next == null) {\n                    _this2.bottomScrollActionHandler = false;\n                    _this2.scrollBottom = false; // window.removeEventListener('scroll', this.handleScroll)\n                    // window.removeEventListener('scroll', this.getScrollY)\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getUserQuestion: function getUserQuestion() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this3.$store.commit('setIsLoading', true);\n\n                _context2.next = 3;\n                return axios.get(\"/api/board/question-user-question?uid=\".concat(_this3.user.UID)).then(function (response) {\n                  _this3.userQuestion = response.data;\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n                _this3.$store.commit('setIsLoading', false);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getTagQuestion: function getTagQuestion(tagID, tag) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this4.spinner = true;\n                _context3.next = 3;\n                return axios.get(\"/api/board/tag-question?tag=\".concat(tagID)).then(function (response) {\n                  _this4.tagQuestion = response.data;\n                  console.log(\"GTQ\", _this4.tagQuestion, tagID, tag);\n\n                  _this4.handleQuestionType(tag);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n                _this4.spinner = false;\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    handleStatus: function handleStatus(question) {\n      console.log(\"handle\", question);\n      var handledQuestion = [];\n\n      if (this.showQuestion.questionStatus.all) {\n        console.log('just_return__dayo');\n        return question;\n      } else if (this.showQuestion.questionStatus.solved) {\n        console.log('solved_dayo');\n\n        var _iterator4 = _createForOfIteratorHelper(question),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var i = _step4.value;\n\n            if (i.solved) {\n              handledQuestion.push(i);\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n\n        return handledQuestion;\n      } else if (this.showQuestion.questionStatus.unsolved) {\n        var _iterator5 = _createForOfIteratorHelper(question),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _i = _step5.value;\n            console.log(_i.title);\n\n            if (_i.solved == false) {\n              handledQuestion.push(_i);\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n\n        return handledQuestion;\n      } else if (this.showQuestion.questionStatus.onVoting) {\n        console.log('on_going_dayo');\n\n        var _iterator6 = _createForOfIteratorHelper(question),\n            _step6;\n\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _i2 = _step6.value;\n\n            if (_i2.vote_on_going == true) {\n              handledQuestion.push(_i2);\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n\n        return handledQuestion;\n      }\n    },\n    HandleQuestionOnanswerOrder: function HandleQuestionOnanswerOrder(question) {\n      var questionList = [];\n      var questionList2 = [];\n\n      var _iterator7 = _createForOfIteratorHelper(question),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var i = _step7.value;\n\n          if (i.on_answer == true) {\n            questionList.push(i);\n          } else {\n            questionList2.push(i);\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      if (questionList) {\n        var _iterator8 = _createForOfIteratorHelper(questionList2),\n            _step8;\n\n        try {\n          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n            var o = _step8.value;\n            questionList.push(o);\n          }\n        } catch (err) {\n          _iterator8.e(err);\n        } finally {\n          _iterator8.f();\n        }\n\n        return questionList;\n      }\n\n      return question;\n    },\n    // handleQuestion(){\n    //     if(this.showQuestion.questionType.question){\n    //         // console.log(\"return_recen:\",this.questions)\n    //         return this.user.questions\n    //     }\n    //     else if(this.showQuestion.questionType.answered){\n    //         // console.log(\"return_reco:\",this.reccomendedQuestion)\n    //         return this.user.answer.question\n    //     }\n    // },\n    handleQuestionStatus: function handleQuestionStatus(status) {\n      var _this5 = this;\n\n      // handle questionStatus start from here by click.\n      // change all status = false then invocation = true\n      // then handleQuestion on computed will be triggered\n      // which make question from answer to return question to handleStatus\n      console.log('status', status);\n\n      if (this.showQuestion.questionStatus[status]) {\n        console.log('same');\n      } else {\n        console.log('not the same');\n        Object.keys(this.showQuestion.questionStatus).forEach(function (key) {\n          _this5.showQuestion.questionStatus[key] = false;\n        });\n        this.showQuestion.questionStatus[status] = true;\n        console.log(this.showQuestion.questionStatus);\n        this.scrollTop();\n      }\n    },\n    handleQuestionType: function handleQuestionType(type) {\n      var _this6 = this;\n\n      console.log('got type', type);\n      this.bottomScrollActionHandler = true;\n\n      if (this.showQuestion.questionType[type]) {\n        console.log('same', this.showQuestion.questionType);\n      } else {\n        console.log('not the same');\n        Object.keys(this.showQuestion.questionType).forEach(function (key) {\n          _this6.showQuestion.questionType[key] = false;\n        });\n        this.showQuestion.questionType[type] = true;\n        console.log('after true', this.showQuestion.questionType);\n        this.scrollTop();\n\n        if (this.showQuestion.questionStatus.best == true) {\n          this.showQuestion.questionStatus.best == false;\n          this.handleQuestionStatus('all');\n        }\n      } // if(type == question){\n      // }\n      // for(let i=0; i<Object.keys(this.showQuestion.questionType.length); i++){\n      // }\n\n    },\n    resetNotifications: function resetNotifications() {\n      this.onNotification.show = false;\n      console.log('reset is done', this.onNotification.showReplyNotify);\n    },\n    setTime: function setTime() {\n      console.log('insettime');\n\n      if (this.onNotification.onReply || this.onNotification.onAnswer) {\n        this.onNotification.show = true;\n        setTimeout(this.resetNotifications, 4500);\n      }\n    },\n    handleOnReply: function handleOnReply() {\n      try {\n        console.log(\"handleOnREPLY\", this.getAnsweredQuestion);\n\n        var _iterator9 = _createForOfIteratorHelper(this.getAnsweredQuestion.results),\n            _step9;\n\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var question = _step9.value;\n            console.log(\"first loop\", question.answer);\n\n            var _iterator10 = _createForOfIteratorHelper(question.answer),\n                _step10;\n\n            try {\n              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                var answer = _step10.value;\n                console.log(\"second loop\", answer);\n\n                if (answer.on_reply == true && answer.user.UID == this.user.UID) {\n                  this.onNotification.onReply = true;\n                  this.showOnes = true;\n                }\n              }\n            } catch (err) {\n              _iterator10.e(err);\n            } finally {\n              _iterator10.f();\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n\n        console.log(\"end\");\n      } catch (_unused2) {}\n    },\n    handleOnAnswer: function handleOnAnswer(question) {\n      console.log('INHA', this.onNotification.onAnswer);\n      console.log('INHA22', question.on_answer, question.user.UID, this.user.UID);\n\n      if (question.on_answer && question.user.UID == this.user.UID) {\n        this.onNotification.onAnswer = true;\n        console.log('HA', this.onNotification.onAnswer);\n        this.showOnes = true;\n        return true;\n      } else {\n        return false;\n      }\n    },\n    handleOnReply2: function handleOnReply2(question) {\n      console.log('INHA33', this.onNotification.onReply);\n      console.log('INHA3333', question.on_reply, question.user.UID, this.user.UID);\n\n      if (question.on_reply && question.user.UID == this.user.UID) {\n        this.onNotification.onReply = true;\n        console.log('HA', this.onNotification.onReply);\n        this.showOnes = true;\n        return true;\n      } else {\n        return false;\n      }\n    },\n    onReplayCheck: function onReplayCheck(questionAnswer) {\n      console.log('in ORC', questionAnswer);\n\n      var _iterator11 = _createForOfIteratorHelper(questionAnswer),\n          _step11;\n\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var answer = _step11.value;\n          console.log('loop', answer, answer.on_reply);\n\n          if (answer.on_reply == true) {\n            console.log(\"check on_reply\", answer.on_reply);\n\n            if (answer.user.UID == this.user.UID) {\n              this.showOnes = true;\n              return true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n\n      return false;\n    },\n    scrollTop: function scrollTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    },\n    getScrollY: function getScrollY() {\n      this.scrollY = window.scrollY;\n    },\n    handleScroll: function handleScroll() {\n      console.log(\"inSCROLL\");\n      var doch = document.querySelector('.scroll_area').scrollHeight;\n      var winh = window.innerHeight; //ウィンドウの高さ\n\n      var bottom = doch - winh; //ページ全体の高さ - ウィンドウの高さ = ページの最下部位置\n\n      console.log(\"inSCROLL2\", \"doch\", doch, \"winh\", winh, 'bottom', bottom, 'scTOP', this.scrollY, this.bottomScrollActionHandler);\n\n      if (bottom + 100 <= this.scrollY && this.bottomScrollActionHandler) {\n        this.bottomScrollActionHandler = false;\n        this.scrollBottom = true;\n        console.log(\"shitadayo\", this.scrollBottom, this.questions.next);\n        this.getAdditionalQuestion(this.questions.next); // if(this.next==null){\n        //     this.scrollBottom = false\n        // }\n      }\n    },\n    handleTag: function handleTag(indexNum, tagID, tag) {\n      this.tag = !this.tag;\n      console.log('inHT', this.showQuestion.questionType);\n\n      if (this.showQuestion.questionType.tag == false) {\n        for (var _i3 = 0, _Object$keys = Object.keys(this.showQuestion.questionType); _i3 < _Object$keys.length; _i3++) {\n          var i = _Object$keys[_i3];\n\n          if (this.showQuestion.questionType[i] == true) {\n            this.temporaryStatus = i;\n            console.log('TMK', this.temporaryStatus);\n          }\n        }\n      }\n\n      console.log('TMK2', this.temporaryStatus);\n\n      if (this.active == indexNum) {\n        this.active = null;\n        this.tag = false;\n        this.showQuestion.questionType.tag = false;\n        console.log(\"before\", this.showQuestion.questionType, this.temporaryStatus);\n        this.handleQuestionType(this.temporaryStatus);\n      } else {\n        this.active = indexNum;\n        this.tag = true;\n        this.getTagQuestion(tagID, tag);\n      }\n    },\n    dateConvert: function dateConvert(date) {\n      var date = date;\n      var time = '';\n      var newDate = '';\n      var dt = new Date(date);\n\n      if (dt.getHours() > 11) {\n        time = \" PM\";\n        dt = dt.setHours(dt.getHours() - 12);\n        date = new Date(dt);\n      } else {\n        time = \" AM\";\n      }\n\n      newDate = date + time + \" UTC\";\n      dt = new Date(newDate);\n      var stringDT = dt.toLocaleString([], {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n      return stringDT.replace(/\\//g, '-');\n    },\n    viewedNum: function viewedNum(likedNum) {\n      console.log('in_liked', likedNum);\n\n      try {\n        if (likedNum) {\n          return likedNum[0].liked_num;\n        } else {\n          return 0;\n        }\n      } catch (_unused3) {\n        return 0;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["router","axios","data","questions","reccomendedQuestion","answeredQuestion","userQuestion","tagQuestion","bottomScrollActionHandler","scrollBottom","tag","active","spinner","showOnes","onNotification","onReply","onAnswer","show","showNotifications","temporaryStatus","showQuestion","questionType","question","answered","reccomend","favorite","questionStatus","all","solved","unsolved","onVoting","best","watch","v","setTime","computed","user","$store","getters","getDjangouser","getThreeUsertag","_","require","used_num_list","userTag","cloneDeep","user_tag","console","log","length","push","reduce","a","b","used_num","id","Object","values","forEach","value","slice","indexOf","getAnsweredQuestion","gettersAnsweredQuestions","handleQuestion","handledQuestion","results","handleStatus","HandleQuestionOnanswerOrder","answeredquiz","answer","UID","answeredquiz2","on_reply","i","state","board","signup","favoriteQuestion","beforeMount","getUserQuestion","scrollTop","dispatch","mounted","window","addEventListener","handleScroll","getScrollY","handleOnReply","beforeUnmount","removeEventListener","methods","getDetail","slug","getAdditionalQuestion","next","get","then","response","catch","error","commit","getTagQuestion","tagID","handleQuestionType","title","vote_on_going","questionList","questionList2","on_answer","o","handleQuestionStatus","status","keys","key","type","resetNotifications","showReplyNotify","setTimeout","handleOnAnswer","handleOnReply2","onReplayCheck","questionAnswer","scrollTo","top","behavior","scrollY","doch","document","querySelector","scrollHeight","winh","innerHeight","bottom","handleTag","indexNum","dateConvert","date","time","newDate","dt","Date","getHours","setHours","stringDT","toLocaleString","year","month","day","hour","minute","replace","viewedNum","likedNum","liked_num"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/views/board/BoardAccount.vue"],"sourcesContent":["<template>\n    <div  class=\"board-account-wrapper scroll_area\" :class=\"{'laoding-center':$store.state.isLoading}\">\n        <div class=\"main-wrapper\">\n            <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading}\">\n                <!-- <i class=\"fas fa-cog\"></i> -->\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            <div v-if=\"$store.state.isLoading==false\" class='main-container'>\n                <div v-if=\"onNotification.show\" :class=\"{'notification-blue':onNotification.show}\">\n                    <div class=\"notification-text\" v-if=\"onNotification.onAnswer\">\n                        新しい回答があります。\n                    </div>\n                    <div class=\"notification-text\" v-if=\"onNotification.onReply\">\n                        新しい返信があります。\n                    </div>\n                </div>\n                <h1 class='title-white'>質問板</h1>\n                <div class=\"user-info\">\n                    <div class=\"header\">\n                        <img class='img' v-bind:src=\"user.thumbnail\"/>\n                        <p>{{ user.name}}</p>\n                    </div>\n                    <div class=\"content\">\n                        <div>質問数 {{ user.question.length }}</div>\n                        <div>回答数 {{ user.answer.length }}</div>\n                        <div>ベストアンサー数 0</div>\n                    </div>\n                </div>\n                <div class=\"tag-container\">\n                    <div class=\"tag-text\">関連するタグ</div>\n                    <div class=\"tag-wrapper\">\n                        <div v-if=\"!getThreeUsertag\">\n                            <p>現在表示できるタグはありません。</p>\n                        </div>\n                        <div \n                            @click=\"handleTag(questionindex,tag.tag.id,'tag')\"\n                            class=\"tag\"\n                            :class=\"{'animation-tag':active==questionindex}\" \n                            v-for=\"(tag,questionindex) in getThreeUsertag\"\n                            v-bind:key=\"questionindex\"\n                            >\n                            {{ tag.tag.tag }}\n                        </div>\n                        \n                    </div>\n                        <!-- <p>編集する></p> -->\n                </div>\n                <div class=\"nav-ber\" v-if=\"tag==false\">\n                    <div :class=\"{'selected': showQuestion.questionType.question}\" @click=\"handleQuestionType('question')\">質問</div>\n                    <div :class=\"{'selected': showQuestion.questionType.answered}\" @click=\"handleQuestionType('answered')\">回答</div>\n                    <div :class=\"{'selected': showQuestion.questionType.reccomend}\" @click=\"handleQuestionType('reccomend')\">おすすめ</div>\n                    <div :class=\"{'selected': showQuestion.questionType.favorite}\" @click=\"handleQuestionType('favorite')\">お気に入り</div>\n                    <!-- <div :class=\"{'selected': showQuestion.questionType.message}\">メッセージ</div> -->\n                </div>\n                <div class=\"selecter\">\n                    <div :class=\"{'option-selected': showQuestion.questionStatus.all}\" @click=\"handleQuestionStatus('all')\" class=\"select-item\">ALL</div>\n                    <div :class=\"{'option-selected': showQuestion.questionStatus.solved}\" @click=\"handleQuestionStatus('solved')\" class=\"select-item\">解決</div>\n                    <div :class=\"{'option-selected': showQuestion.questionStatus.unsolved}\" @click=\"handleQuestionStatus('unsolved')\" class=\"select-item\">未解決</div>\n                    <div :class=\"{'option-selected': showQuestion.questionStatus.onVoting}\" @click=\"handleQuestionStatus('onVoting')\" class=\"select-item\">投票中</div>\n                    <div v-if=\"showQuestion.questionType.answered\" :class=\"{'option-selected': showQuestion.questionStatus.best}\" @click=\"handleQuestionStatus('best')\" class=\"select-item\">ベスト</div>\n                </div>\n                <div class=\"is-loading-bar has-text-centered middle-loading\" v-bind:class=\"{'is-loading': spinner }\">\n                <!-- <i class=\"fas fa-cog\"></i> -->\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            <div class=\"no-question\" v-if=\"!handleQuestion[0]&&tag==false\">\n                <div v-if=\"showQuestion.questionType.question\">\n                    <p>表示できる質問はありません。</p>\n                    <p v-if=\"showQuestion.questionStatus.all\">質問をするとここに表示されます。</p>\n                </div>\n                <div v-if=\"showQuestion.questionType.answered\">\n                    <p>表示できる質問はありません。</p>\n                    <p v-if=\"showQuestion.questionStatus.all\">質問に回答するとここに表示されます。</p>\n                </div>\n                <div v-if=\"showQuestion.questionType.favorite\">\n                    <p>表示できる質問はありません。</p>\n                    <p v-if=\"showQuestion.questionStatus.all\">お気に入りに登録するとここに表示されます。</p>\n                </div>\n            </div>\n                <div\n                    class='question-container'\n                    v-for=\"(question,questionindex) in handleQuestion\"\n                    v-bind:key=\"questionindex\">\n                    \n                    <div class='question-list' v-if=\"spinner==false\" @click=\"getDetail(question.slug)\">\n                        <div class=\"tag-wrapper\">\n                            <div \n                                class=\"tag\"\n                                v-for=\"(tag,tagindex) in question.tag\" \n                                v-bind:key=\"tagindex\">{{ tag.tag }}\n                            </div>\n                            <div class=\"on-answer-wrapper\">\n                                <div class=\"on-answer\" v-if=\"handleOnAnswer(question)||handleOnReply2(question)\">\n                                        <div class=\"on-answer-container\" v-if=\"handleOnAnswer(question)\">\n                                            <span class=\"span1\"> NEW</span><span class=\"span2\">ANSWER</span>\n                                        </div>\n                                        <div class=\"on-answer-container\" v-if=\"handleOnReply2(question)\">\n                                            <span class=\"span1\"> NEW</span><span class=\"span2\">Reply</span>\n                                        </div>\n                                </div>\n                                <div class=\"on-answer\" v-if=\"onReplayCheck(question.answer)\">\n                                    <div class=\"on-answer-container\">\n                                        <span class=\"span1\"> NEW</span><span class=\"span2\">REPLY</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"question-title\">{{ question.title }}</div>\n                        <div class=\"question-description\" v-if=\"question.description\">{{ question.description.substr(0,10)+'...' }}</div>\n                        <div class='good-like-wrapper'>\n                            <i class=\"far fa-heart\"></i>\n                            <div class=\"good\" v-if=\"question\">{{ viewedNum(question.liked_num) }}</div>\n                            <div class=\"date\">作成日：{{ dateConvert(question.created_on) }}</div>\n                        </div>\n                    </div>   \n                </div>\n                <!-- v-if=\"scrollBottom&&questions.next\" -->\n                <div v-if=\"questions.next&&scrollBottom\" class=\"question-list-dammy shine\">\n                    <div class=\"tag-wrapper-dammy\">\n                        <div class=\"tag-dammy\"></div>\n                    </div>\n                    <div class=\"question-title-dammy\"></div>\n                    <div class=\"questiondescroption-dammy\"></div>\n                    <div class=\"footer-dammy\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {router} from \"/src/main.js\"\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            questions:'',\n            reccomendedQuestion:'',\n            answeredQuestion:'',\n            userQuestion:'',\n            tagQuestion:'',\n            bottomScrollActionHandler: true,\n            scrollBottom: false,\n            tag:false,\n            active: null,\n            spinner:false,\n            showOnes:false,\n            onNotification:{\n                onReply:false,\n                onAnswer:false,\n                show: false\n            },\n            showNotifications: false,\n            temporaryStatus:'',\n            showQuestion:{\n                questionType:{\n                    question: true,\n                    answered: false,\n                    reccomend: false,\n                    favorite: false,\n                    tag:false,\n\n                },\n                questionStatus:{\n                    all: true,\n                    solved: false,\n                    unsolved: false,\n                    onVoting: false,\n                    best: false,\n                }\n            }\n        }\n    },\n    watch:{\n        showOnes:function(v) {if (v == true&&this.showOnes==false){\n            this.setTime()\n        }}\n    },\n    computed:{\n        user(){\n            return this.$store.getters.getDjangouser\n        },\n        // notifications(){\n        //     return this.$store.getters.notifications\n        // },\n        getThreeUsertag(){\n            const _ = require('lodash');\n            let used_num_list = []\n            let userTag = _.cloneDeep(this.user.user_tag)\n            console.log('UT',userTag)\n            if(userTag){\n                if(userTag.length == 1){\n                    return userTag\n                }\n                else if(userTag.length == 2){\n                    \n                    used_num_list.push(userTag.reduce((a,b)=>a.used_num>b.used_num?a:b))\n                    used_num_list.push(userTag.reduce((a,b)=>a.used_num<b.used_num?a:b))\n                    if(used_num_list[0].id == used_num_list[1].id){\n                        return userTag\n                    }\n                    else{\n                        return used_num_list\n                    }\n                }\n                else if(userTag.length >= 3){\n                    while (used_num_list.length < 3){\n                        used_num_list.push(userTag.reduce((a,b)=>a.used_num>b.used_num?a:b))\n                        Object.values(userTag).forEach(value =>{\n                            if(value.id == used_num_list.slice(-1)[0].id)                   \n                                delete userTag[userTag.indexOf(value)]\n                        })\n                    }\n                    return used_num_list\n                }\n            }else{\n                \n            }\n            // console.log(\"GT\",this.user.user_tag.reduce((a,b)=>a.used_num>b.used_num?a:b));\n            // let used_num_temp_list = []\n            // let used_num_list = []\n            // let counter = 0\n            // for(let i of this.user.user_tag){\n            //     if(counter == 0){\n            //         used_num_temp_list.push(i)\n            //         counter += 1\n            //     }else{\n\n            //     }\n            // }\n        },\n        getAnsweredQuestion(){\n            console.log(\"getdazeAQ\")\n            return this.$store.getters.gettersAnsweredQuestions\n        },\n        handleQuestion(){\n            const handledQuestion= []\n            console.log(\"questiontype\",this.showQuestion.questionType)\n            if(this.showQuestion.questionType.question){\n                try{\n                    this.questions = this.userQuestion\n                    console.log(\"UQR\",this.questions.results)\n                    return this.handleStatus(this.HandleQuestionOnanswerOrder(this.questions.results))\n                }catch{\n                }\n            }\n            else if(this.showQuestion.questionType.answered){\n                const answeredquiz = []\n                console.log('AQ',this.getAnsweredQuestion)\n                this.questions = this.getAnsweredQuestion\n                console.log(\"best\",this.showQuestion.questionStatus.best)\n                if(this.showQuestion.questionStatus.best){\n                    Object.values(this.questions.results).forEach(value =>{\n                        console.log(\"loop\",value.answer)\n                        for(let answer of value.answer){\n                            if(answer.best==true&&answer.user.UID==this.user.UID){\n                                answeredquiz.push(value)\n                            }\n                        }\n                    })\n                    console.log(\"best list\",answeredquiz)\n                    return answeredquiz\n                }\n                else{\n                    console.log(\"not best\")\n                    var answeredquiz2 = []\n                    // for(let i of this.answeredQuestion){\n                        Object.values(this.questions.results).forEach(value =>{\n                            console.log(\"value\",value.answer)\n                            if(value.answer[0].on_reply==true&&value.answer[0].user.UID==this.user.UID){\n                                answeredquiz.push(value)\n                            }else{\n                                answeredquiz2.push(value)\n                            }\n                        })\n                        console.log(answeredquiz,answeredquiz2)\n                        if(answeredquiz){\n                            for(let i of answeredquiz2){\n                                answeredquiz.push(i)\n                            }\n                            return this.handleStatus(answeredquiz)\n                        }\n                    return this.handleStatus(this.getAnsweredQuestion.results)   \n                }\n            }else if(this.showQuestion.questionType.reccomend){\n                this.questions = this.$store.state.board.reccomendedQuestion\n                return this.handleStatus(this.questions.results)\n            }else if(this.showQuestion.questionType.favorite){\n                if(this.$store.state.signup.favoriteQuestion){\n                     this.questions = this.$store.state.signup.favoriteQuestion\n                    return this.handleStatus(this.questions.results)\n                }else{\n                    this.questions = ''\n                    return this.handleStatus(this.questions)\n                }\n            }else if(this.showQuestion.questionType.tag){\n                this.questions = this.tagQuestion\n                return this.handleStatus(this.questions.results)\n            }\n            \n        },\n    },\n    beforeMount(){\n        console.log(\"beforeMounted\")\n        this.getUserQuestion()\n        this.scrollTop()\n        this.$store.dispatch(\"getAnsweredQuestion\")\n        this.$store.dispatch(\"getFavoriteQuestion\")\n    },\n    mounted(){\n        console.log('THREE',this.getThreeUsertag)\n        console.log('mounted')\n        this.getUserQuestion()\n        window.addEventListener('scroll', this.handleScroll)\n        window.addEventListener('scroll', this.getScrollY)\n        this.bottomScrollActionHandler = true\n        this.scrollBottom = false, \n        this.handleOnReply()\n        this.$store.dispatch('getRelatedQuestion')\n        this.reccomendedQuestion = this.$store.state.board.reccomendedQuestion\n        // this.setTime()\n    },\n    beforeUnmount(){\n        window.removeEventListener('scroll', this.handleScroll)\n        window.removeEventListener('scroll', this.getScrollY)\n    },\n    methods:{\n        getDetail(slug){\n            router.push(`/board-detail/${slug}` )\n        },\n        async getAdditionalQuestion(next){\n            console.log(\"addQ\",next)\n            if(next!=null){\n                await axios\n                .get(next)\n                .then(response => {\n                    for(let i of response.data.results){\n                        this.questions.results.push(i)\n                    }\n                    this.questions.next= response.data.next\n                    this.bottomScrollActionHandler = true\n                    if(this.questions.next==null){\n                        this.bottomScrollActionHandler = false\n                        this.scrollBottom = false\n                        // window.removeEventListener('scroll', this.handleScroll)\n                        // window.removeEventListener('scroll', this.getScrollY)\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            }\n        },\n        async getUserQuestion(){\n            this.$store.commit('setIsLoading', true)\n            await axios\n                .get(`/api/board/question-user-question?uid=${this.user.UID}`)\n                .then(response => {\n                    this.userQuestion = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            this.$store.commit('setIsLoading', false)\n        },\n        async getTagQuestion(tagID, tag){\n            this.spinner = true\n            await axios\n                .get(`/api/board/tag-question?tag=${tagID}`)\n                .then(response => {\n                    this.tagQuestion = response.data\n                    console.log(\"GTQ\",this.tagQuestion,tagID,tag)\n                    this.handleQuestionType(tag)\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            this.spinner = false\n        },\n        handleStatus(question){\n            console.log(\"handle\",question)\n            const handledQuestion= []\n            if(this.showQuestion.questionStatus.all){\n                console.log('just_return__dayo')\n                    return question\n                }\n                else if(this.showQuestion.questionStatus.solved){\n                    console.log('solved_dayo')\n                    for(let i of question){\n                        if(i.solved){\n                            handledQuestion.push(i)\n                        }\n                    }\n                    return handledQuestion\n                }else if(this.showQuestion.questionStatus.unsolved){\n                    for(let i of question){\n                        console.log(i.title)\n                        if(i.solved==false){\n                            handledQuestion.push(i)\n                        }\n                    }\n                    return handledQuestion\n                }else if(this.showQuestion.questionStatus.onVoting){\n                    console.log('on_going_dayo')\n                    for(let i of question){\n                        if(i.vote_on_going==true){\n                            handledQuestion.push(i)\n                        }\n                    }\n                    return handledQuestion\n                }\n        },\n        HandleQuestionOnanswerOrder(question){\n            const questionList = []\n            var questionList2 = []\n            for(let i of question){\n                if(i.on_answer==true){\n                    questionList.push(i)\n                }else{\n                    questionList2.push(i)\n                }\n            }\n            if(questionList){\n                for(let o of questionList2){\n                    questionList.push(o)\n                }\n                return questionList\n            }\n            return question\n\n        },\n        // handleQuestion(){\n        //     if(this.showQuestion.questionType.question){\n        //         // console.log(\"return_recen:\",this.questions)\n        //         return this.user.questions\n        //     }\n        //     else if(this.showQuestion.questionType.answered){\n        //         // console.log(\"return_reco:\",this.reccomendedQuestion)\n        //         return this.user.answer.question\n        //     }\n        // },\n        handleQuestionStatus(status){\n            // handle questionStatus start from here by click.\n            // change all status = false then invocation = true\n            // then handleQuestion on computed will be triggered\n            // which make question from answer to return question to handleStatus\n            console.log('status',status)\n            if(this.showQuestion.questionStatus[status]){\n                console.log('same')\n                ;\n            }\n            else{\n                console.log('not the same')\n                Object.keys(this.showQuestion.questionStatus).forEach(key =>{\n                    this.showQuestion.questionStatus[key] = false\n                })\n                this.showQuestion.questionStatus[status] = true\n                console.log(this.showQuestion.questionStatus)\n                this.scrollTop()\n            }\n        },\n        handleQuestionType(type){\n            console.log('got type', type)\n            this.bottomScrollActionHandler = true\n            if(this.showQuestion.questionType[type]){\n                console.log('same',this.showQuestion.questionType)\n                ;\n            }\n            else{\n                console.log('not the same')\n                Object.keys(this.showQuestion.questionType).forEach(key =>{\n                    this.showQuestion.questionType[key] = false\n                })\n                this.showQuestion.questionType[type] = true\n                console.log('after true',this.showQuestion.questionType)\n                this.scrollTop()\n                if(this.showQuestion.questionStatus.best==true){\n                    this.showQuestion.questionStatus.best==false\n                    this.handleQuestionStatus('all')\n                }\n            }\n            // if(type == question){\n                \n                // }\n                // for(let i=0; i<Object.keys(this.showQuestion.questionType.length); i++){\n\n                // }\n            \n        },\n        resetNotifications(){\n            this.onNotification.show = false\n            console.log('reset is done',this.onNotification.showReplyNotify)\n        },\n        setTime(){\n            console.log('insettime')\n            if(this.onNotification.onReply||this.onNotification.onAnswer){\n                this.onNotification.show = true\n                setTimeout(this.resetNotifications, 4500) \n            }\n        },\n        handleOnReply(){\n            try{\n                console.log(\"handleOnREPLY\", this.getAnsweredQuestion)\n                for(let question of this.getAnsweredQuestion.results){\n                    console.log(\"first loop\",question.answer)\n                    for(let answer of question.answer){\n                        console.log(\"second loop\",answer)\n                        if(answer.on_reply==true&&answer.user.UID==this.user.UID){\n                            this.onNotification.onReply = true\n                            this.showOnes = true\n                        }\n                    }\n                }\n                console.log(\"end\")\n            }\n            catch{\n\n            }\n        },\n        handleOnAnswer(question){\n            console.log('INHA',this.onNotification.onAnswer)\n            console.log('INHA22',question.on_answer, question.user.UID,this.user.UID)\n            if(question.on_answer&&question.user.UID==this.user.UID){\n                this.onNotification.onAnswer = true\n                console.log('HA',this.onNotification.onAnswer)\n                this.showOnes = true\n                return true      \n            }else{\n                return false\n            }\n        },\n        handleOnReply2(question){\n            console.log('INHA33',this.onNotification.onReply)\n            console.log('INHA3333',question.on_reply, question.user.UID,this.user.UID)\n            if(question.on_reply&&question.user.UID==this.user.UID){\n                this.onNotification.onReply = true\n                console.log('HA',this.onNotification.onReply)\n                this.showOnes = true\n                return true      \n            }else{\n                return false\n            }\n        },\n        onReplayCheck(questionAnswer){\n            console.log('in ORC',questionAnswer)\n            for(let answer of questionAnswer){\n                console.log('loop',answer,answer.on_reply)\n                if(answer.on_reply==true){\n                    console.log(\"check on_reply\",answer.on_reply)\n                    if(answer.user.UID==this.user.UID){\n                        this.showOnes = true\n                    return true\n                    }\n                }\n            }\n            return false\n        },\n        scrollTop(){\n            window.scrollTo({\n                top: 0,\n                behavior: \"smooth\"\n            });\n        },\n        getScrollY(){\n            this.scrollY = window.scrollY\n        },\n        handleScroll(){\n            console.log(\"inSCROLL\")\n            var doch = document.querySelector('.scroll_area').scrollHeight\n            var winh = window.innerHeight; //ウィンドウの高さ\n            var bottom = doch - winh; //ページ全体の高さ - ウィンドウの高さ = ページの最下部位置\n            console.log(\"inSCROLL2\",\"doch\",doch,\"winh\",winh,'bottom',bottom,'scTOP',this.scrollY,this.bottomScrollActionHandler)\n            if (bottom+100 <= this.scrollY&&this.bottomScrollActionHandler) {\n                this.bottomScrollActionHandler = false\n                this.scrollBottom = true\n                console.log(\"shitadayo\",this.scrollBottom,this.questions.next)\n                this.getAdditionalQuestion(this.questions.next)\n                // if(this.next==null){\n                //     this.scrollBottom = false\n                // }\n            }\n        },\n        handleTag(indexNum, tagID, tag){\n            this.tag = !this.tag\n            console.log('inHT',this.showQuestion.questionType)\n            if(this.showQuestion.questionType.tag == false){\n                for(let i of Object.keys(this.showQuestion.questionType)){\n                    if(this.showQuestion.questionType[i]==true){\n                        this.temporaryStatus = i\n                        console.log('TMK',this.temporaryStatus)\n                    }\n                }\n            }\n            console.log('TMK2',this.temporaryStatus)\n            if(this.active == indexNum){\n                this.active = null\n                this.tag = false\n                this.showQuestion.questionType.tag = false\n                console.log(\"before\",this.showQuestion.questionType,this.temporaryStatus)\n                this.handleQuestionType(this.temporaryStatus)\n            }else{\n                this.active = indexNum\n                this.tag = true\n                this.getTagQuestion(tagID, tag)\n            }\n        },\n        dateConvert(date){\n            var date = date\n            var time = ''\n            var newDate = ''\n            var dt = new Date(date)\n            if(dt.getHours() > 11){\n                time = \" PM\"\n                dt = dt.setHours(dt.getHours()-12)\n                date = new Date(dt)\n            }else{\n                time = \" AM\"\n            }\n            newDate = date + time + \" UTC\"\n            dt = new Date(newDate)\n            var stringDT = dt.toLocaleString([], {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'})\n            return stringDT.replace(/\\//g,'-')\n        },\n        viewedNum(likedNum){\n            console.log('in_liked',likedNum)\n            try{\n                if(likedNum){\n                    return likedNum[0].liked_num\n                }\n                else{\n                    return 0\n                }\n            }\n            catch{\n                return 0\n            }\n        }\n    }\n}\n</script>\n\n<style lang='scss' scoped>\n@import \"style/_variables.scss\";\n\n.animation-tag{\n    color: white;\n    background: $dark-blue;\n    animation-name: tag;\n    animation-timing-function:linear;\n    animation-duration:1s;\n    animation-iteration-count:1;\n    animation:tag  forwards;\n}\n@keyframes tag {\n  from   { opacity: 1;\n        } \n  100% { \n      color:white;\n      background: $dark-blue;\n      border: 0.1rem solid $base-color;\n      \n  }\n}\n\n.board-account-wrapper{\n    display: flex;\n    height: auto;\n    min-height: 80vh;\n    width: 100vw;\n    margin-bottom: 1rem;\n    flex-direction: column;\n    align-items: center;\n}\n.main-container{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    .notification-blue{\n        display: flex;\n        display: flex;\n        flex-direction: column;\n        .notification-text{\n            margin-top: 1rem;\n        }\n    }\n    \n    .user-info{\n        border: solid $base-color;\n        border-radius: 0.5rem;\n        background: $back-lite-white;\n        width: 90%;\n        padding:0.5rem;\n        .header{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            .img{\n                border-radius: 50%; \n                width:  3rem;   \n                height: 3rem;\n                margin: 0.5rem; \n            }\n            p{\n                flex-basis: 70%;\n                font-size: 2rem;\n                font-weight: bold;\n            }\n        }\n        .content{\n            margin-top: 0.5rem;\n            width:100%;\n            position: relative;\n            text-align: left;\n        }\n    }\n    .tag-container{\n        margin-top: 1rem;\n        border: solid $base-color;\n        border-radius: 0.5rem;\n        background: $back-lite-white;\n        width: 90%;\n        padding:0.5rem;\n        .tag-text{\n            font-size: 1.2rem;\n            margin: 0.5rem;\n        }\n        .tag-wrapper{\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n            .tag{\n                border: solid $dark-blue;\n                border-radius: 50vh;\n                background: $base-lite-2;\n                margin-top: 0.5rem;\n                margin-left: 0.5rem;\n                margin-right: 0.5rem;\n                margin-bottom: 0.5rem;\n                padding: 0.5rem;\n                min-width: 5rem;\n                font-size: 1rem;\n                font-weight: bold;\n                color:$dark-blue;\n                transition: 0.5s;\n            }\n            .tag:hover{\n                color: gray\n            }\n        }\n        p{\n            text-align: right;\n        }\n    }\n    .nav-ber{\n        width:100%;\n        display: flex;\n        justify-content: center;\n        margin-top: 1rem;\n        div{\n            font-size:0.8rem;\n            color: white;\n            border:0.1rem solid white;\n            position:flex;\n            flex-direction: column;\n            flex-basis:20%;\n            padding-left:0.1rem;\n            padding-right:0.1rem;\n            padding: 0.2rem;\n            background: linear-gradient(rgba(91, 117, 159, 0.9),rgba(28, 37, 76, 0.9));\n            transition:0.5s;\n        }\n        div:hover{\n            font-weight: bold;\n        }\n        .selected{\n            background: $base-color;\n            font-weight: bold;\n            color: black;\n        }\n    }\n    .selecter{\n        width:100%;\n        display: flex;\n        justify-content: center;\n        margin-top: 1rem;\n        transition: 0.5s;\n        .select-item{\n            font-size:0.8rem;\n            color: white;\n            border:0.1rem solid $base-color;\n            border-radius: 1rem;\n            margin:0.3rem;\n            min-width: 3rem;\n            position:flex;\n            // flex-basis:20%;\n            padding-left:0.1rem;\n            padding-right:0.1rem;\n            padding: 0.2rem;\n            transition:0.5s;\n        }\n        .select-item:hover{\n            font-weight: bold;\n        }\n        .option-selected{\n            color: black;\n            font-weight: bold;\n            background: $base-lite;\n            border:0.1rem solid $dark-blue;\n        }\n    }\n    .middle-loading{\n        margin-top: 2rem;\n    }\n    .question-container{\n        width: 90%;\n        .question-list:hover{\n            background: $base-lite-3;\n        }\n        .question-list{\n            border: solid $base-color;\n            margin-bottom: 0.5rem;\n            width:100%;\n            background: rgb(252, 252, 252);\n            display: flex;\n            flex-direction: column;\n            .tag-wrapper{\n                display: flex;\n                width: 100%;\n                .tag{\n                    border: solid black;\n                    border-radius: 50vh;\n                    background: rgb(230, 230, 230);\n                    margin-top: 0.5rem;\n                    margin-left: 0.3rem;\n                    margin-bottom: 0.5rem;\n                    padding: 0.5rem;\n                    min-width: 3rem;\n                }\n                .on-answer-wrapper{\n                    position:relative;\n                    width:100%;\n                    .on-answer{\n                        position: absolute;\n                        right: 0;\n                        flex-direction: column;\n                        width:3.7rem;\n                        margin-top: 0.5rem;\n                        margin-right: 0.3rem;\n                        padding-right:0.2rem;\n                        padding-left:0.2rem; \n                        .on-answer-container{\n                            display: flex;\n                            flex-direction: column;\n                            color: red;\n                            border: solid red;\n                            border-radius: 0.5rem;\n                            margin-bottom: 0.3rem;     \n                        }\n                        .span1{\n                            font-weight: bold;\n                        }\n                        .span2{\n                            margin-top: -0.5rem;\n                            font-size: 0.6rem;\n                            font-weight: bold;             \n                        }\n                    }\n                }\n            }\n            .good-like-wrapper{\n                display: flex;\n                .fa-heart{\n                    color: rgb(221, 36, 221);\n                    margin-left: 0.5rem;\n                    margin-right: 0.3rem;\n                    margin-top: 0.2rem;\n                }\n                .date{\n                    margin-left: 0.5rem;\n                }\n            }\n        }\n    }\n    .question-list-dammy{\n        background: gray;\n        display: flex;\n        width: 90%;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        .tag-wrapper-dammy{\n            display: flex;\n            width: 100%;\n            .tag-dammy{\n                border-radius: 50vh;\n                background: rgb(92, 92, 92);\n                margin-top: 0.5rem;\n                margin-left: 0.3rem;\n                margin-bottom: 0.5rem;\n                padding: 0.5rem;\n                min-width: 3rem;\n                min-height: 1.5rem;\n            }\n        }\n        .question-title-dammy{\n            background: rgb(92, 92, 92);\n            padding: 0.5rem;\n            width: 80%;\n        }\n        .questiondescroption-dammy{\n            background: rgb(92, 92, 92);\n            padding: 0.5rem;\n            width: 80%;\n            margin-top: 0.5rem;\n        }\n        .footer-dammy{\n            background: rgb(92, 92, 92);\n            padding: 0.5rem;\n            width: 80%;\n            margin-top: 0.5rem;\n            margin-bottom: 1rem;\n        }\n    }\n}\n.no-question{\n    border: solid $dull-red;\n    background: $back-gra-white;\n    width: 80%;\n    padding: 1rem 0;\n    font-weight: bold;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}