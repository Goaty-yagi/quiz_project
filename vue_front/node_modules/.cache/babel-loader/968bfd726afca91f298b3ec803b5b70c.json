{"remainingRequest":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/thread-loader/dist/cjs.js!/Users/ossan/git-clone/quiz_project/vue_front/node_modules/babel-loader/lib/index.js!/Users/ossan/git-clone/quiz_project/vue_front/src/store/modules/signup.js","dependencies":[{"path":"/Users/ossan/git-clone/quiz_project/vue_front/src/store/modules/signup.js","mtime":1653028361312},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/babel.config.js","mtime":1643442797713},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9vc3Nhbi9naXQtY2xvbmUvcXVpel9wcm9qZWN0L3Z1ZV9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvb3NzYW4vZ2l0LWNsb25lL3F1aXpfcHJvamVjdC92dWVfZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IGNyZWF0ZVBlcnNpc3RlZFN0YXRlIGZyb20gJ3Z1ZXgtcGVyc2lzdGVkc3RhdGUnOwppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwppbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnOwppbXBvcnQgeyByb3V0ZXIgfSBmcm9tICJAL21haW4uanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsLCBzZW5kRW1haWxWZXJpZmljYXRpb24sIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLCBzaWduT3V0LCBvbkF1dGhTdGF0ZUNoYW5nZWQsIHNlbmRQYXNzd29yZFJlc2V0RW1haWwgfSBmcm9tICdmaXJlYmFzZS9hdXRoJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZTogdHJ1ZSwKICAvLyBwbHVnaW5zOiBbCiAgLy8gICAgIGNyZWF0ZVBlcnNpc3RlZFN0YXRlKHsKICAvLyAgICAgICBrZXk6ICdzaWdudXBLZXknLCAgLy8g6Kit5a6a44GX44Gq44GR44KM44GwJ3Z1ZXgnCiAgLy8gICAgICAgcGF0aHM6IFsndXNlcm5hbWUnLCdlbWFpbCcsJ2VtYWlsMicsJ2NvdW50cnknLCJVSUQiXSwgIC8vIOS/neWtmOOBmeOCi+ODouOCuOODpeODvOODq++8muioreWumuOBl+OBquOBkeOCjOOBsOWFqOmDqOOAggogIC8vICAgICAgIHN0b3JhZ2U6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZSwgIC8vIOioreWumuOBl+OBquOBkeOCjOOBsGxvY2FsU3RvcmFnZQogIC8vICAgICB9KV0sCiAgc3RhdGU6IHsKICAgIHVzZXJuYW1lOiAnJywKICAgIGVtYWlsOiAnJywKICAgIGVtYWlsMjogJycsCiAgICBjb3VudHJ5OiAnJywKICAgIHBhc3N3b3JkOiAnJywKICAgIHVzZXI6IG51bGwsCiAgICBkamFuZ29Vc2VyOiBudWxsLAogICAgVUlEOiAnJywKICAgIGZhc3Zvcml0ZVF1ZXN0aW9uOiAnJywKICAgIGVtYWlsVmVyaWZpZWQ6IG51bGwsCiAgICBhdXRoSXNSZWFkeTogZmFsc2UsCiAgICBjaGVja2VkRW1haWw6IG51bGwsCiAgICBhY2NvdW50VVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLycsCiAgICBhY3Rpb25Db2RlU2V0dGluZ3M6IHsKICAgICAgdXJsOiBudWxsLAogICAgICBoYW5kbGVDb2RlSW5BcHA6IHRydWUKICAgIH0sCiAgICB0ZW1wVXNlcjogewogICAgICB0ZXN0OiBmYWxzZSwKICAgICAgc3RhdHVzTGlzdDogJycsCiAgICAgIGdyYWRlOiAnJywKICAgICAgbGV2ZWw6ICcnCiAgICB9LAogICAgZmF2b3JpdGVRdWVzdGlvbjogJycsCiAgICBsb2dnZXI6IHsKICAgICAgYWN0dWFsRXJyb3I6ICcnLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgbmFtZTogJycKICAgIH0sCiAgICB1c2VySW5mbzogJycsCiAgICBleGNlcHRVc2VySW5mbzogJycsCiAgICBiZWluZ0V4Y2VwdGlvbjogZmFsc2UsCiAgICByZWxvYWRGb3JFeGNlcHRpb246IGZhbHNlLAogICAgYXBpRXJyb3I6IHsKICAgICAgLy8gdGhpcyBpcyBmb3IgY29ubmVjdGlvbiBFcnJvcgogICAgICBkamFuZ286IGZhbHNlLAogICAgICBmaXJlYmFzZTogZmFsc2UsCiAgICAgIGlwaW5mbzogZmFsc2UsCiAgICAgIGFueTogZmFsc2UKICAgIH0sCiAgICBvblNpZ25pbmd1cDogZmFsc2UsCiAgICBteVF1ZXN0aW9uOiAnJywKICAgIG15UXVpekluZm86IHsKICAgICAgaWQ6ICcnLAogICAgICBtYXg6ICcnCiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRVSUQ6IGZ1bmN0aW9uIGdldFVJRChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuVUlEOwogICAgfSwKICAgIGdldFVzZXI6IGZ1bmN0aW9uIGdldFVzZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9LAogICAgZ2V0RGphbmdvdXNlcjogZnVuY3Rpb24gZ2V0RGphbmdvdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGphbmdvVXNlcjsKICAgIH0sCiAgICBnZXRFbWFpbFZlcmlmaWVkOiBmdW5jdGlvbiBnZXRFbWFpbFZlcmlmaWVkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lbWFpbFZlcmlmaWVkOwogICAgfSwKICAgIGdldFRlbXBVc2VyOiBmdW5jdGlvbiBnZXRUZW1wVXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudGVtcFVzZXI7CiAgICB9LAogICAgbG9nZ2VyOiBmdW5jdGlvbiBsb2dnZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvZ2dlcjsKICAgIH0sCiAgICBvblNpZ25pbmd1cDogZnVuY3Rpb24gb25TaWduaW5ndXAoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9uU2lnbmluZ3VwOwogICAgfSwKICAgIGdldE15UXVlc3Rpb246IGZ1bmN0aW9uIGdldE15UXVlc3Rpb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm15UXVlc3Rpb247CiAgICB9LAogICAgZ2V0TXlRdWl6SW5mbzogZnVuY3Rpb24gZ2V0TXlRdWl6SW5mbyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubXlRdWl6SW5mbzsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKHN0YXRlLCBpdGVtKSB7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gaXRlbTsKICAgIH0sCiAgICBnZXRFbWFpbDogZnVuY3Rpb24gZ2V0RW1haWwoc3RhdGUsIGl0ZW0pIHsKICAgICAgc3RhdGUuZW1haWwgPSBpdGVtOwogICAgfSwKICAgIGdldEVtYWlsMjogZnVuY3Rpb24gZ2V0RW1haWwyKHN0YXRlLCBpdGVtKSB7CiAgICAgIHN0YXRlLmVtYWlsMiA9IGl0ZW07CiAgICB9LAogICAgZ2V0Q291bnRyeTogZnVuY3Rpb24gZ2V0Q291bnRyeShzdGF0ZSwgaXRlbSkgewogICAgICBzdGF0ZS5jb3VudHJ5ID0gaXRlbTsKICAgIH0sCiAgICBnZXRQYXNzd29yZDogZnVuY3Rpb24gZ2V0UGFzc3dvcmQoc3RhdGUsIGl0ZW0pIHsKICAgICAgc3RhdGUucGFzc3dvcmQgPSBpdGVtOwogICAgfSwKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudXNlciA9IHBheWxvYWQ7CgogICAgICBpZiAoc3RhdGUudXNlcikgewogICAgICAgIHN0YXRlLlVJRCA9IHN0YXRlLnVzZXIudWlkOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygndXNlciBzdGF0ZSBjaGFuZ2VkOicsIHN0YXRlLnVzZXIpOwogICAgfSwKICAgIHNldEF1dGhJc1JlYWR5OiBmdW5jdGlvbiBzZXRBdXRoSXNSZWFkeShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5hdXRoSXNSZWFkeSA9IHBheWxvYWQ7CiAgICAgIGNvbnNvbGUubG9nKCdzZXRhdXRoIGlzIGNoYW5nZWQ6Jywgc3RhdGUudXNlcik7CiAgICB9LAogICAgc2V0RGphbmdvVXNlcjogZnVuY3Rpb24gc2V0RGphbmdvVXNlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kamFuZ29Vc2VyID0gcGF5bG9hZDsKICAgICAgY29uc29sZS5sb2coJ3NldCBEamFuZ28gdXNlcicsIHN0YXRlLmRqYW5nb1VzZXIpOwogICAgfSwKICAgIGVtYWlsVmVyaWZpZWRIYW5kbGVyOiBmdW5jdGlvbiBlbWFpbFZlcmlmaWVkSGFuZGxlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5lbWFpbFZlcmlmaWVkID0gcGF5bG9hZDsKICAgICAgY29uc29sZS5sb2coJ2VtYWlsViBjaGFpbmdlZCcsIHN0YXRlLmVtYWlsVmVyaWZpZWQpOwogICAgfSwKICAgIGNoZWNrRW1haWxIYW5kbGVyOiBmdW5jdGlvbiBjaGVja0VtYWlsSGFuZGxlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jaGVja2VkRW1haWwgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldFRlbXBVc2VyOiBmdW5jdGlvbiBzZXRUZW1wVXNlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS50ZW1wVXNlci50ZXN0ID0gdHJ1ZTsKICAgICAgc3RhdGUudGVtcFVzZXIuc3RhdHVzTGlzdCA9IHBheWxvYWQuc3RhdHVzOwogICAgICBzdGF0ZS50ZW1wVXNlci5ncmFkZSA9IHBheWxvYWQuZ3JhZGU7CiAgICAgIHN0YXRlLnRlbXBVc2VyLmxldmVsID0gcGF5bG9hZC5sZXZlbDsKICAgICAgY29uc29sZS5sb2coJ3NldC10ZW1wLXVzZXInLCBzdGF0ZS50ZW1wVXNlcik7CiAgICB9LAogICAgc2V0VGVtcFVzZXJSZXNldDogZnVuY3Rpb24gc2V0VGVtcFVzZXJSZXNldChzdGF0ZSkgewogICAgICBzdGF0ZS50ZW1wVXNlci50ZXN0ID0gZmFsc2U7CiAgICAgIHN0YXRlLnRlbXBVc2VyLnN0YXR1c0xpc3QgPSAnJywgc3RhdGUudGVtcFVzZXIuZ3JhZGUgPSAnJywgc3RhdGUudGVtcFVzZXIubGV2ZWwgPSAnJzsKICAgICAgQ29va2llcy5yZW1vdmUoJ3RlbXBLZXknKTsKICAgICAgY29uc29sZS5sb2coJ3NldCcsIHN0YXRlLnRlbXBVc2VyKTsKICAgIH0sCiAgICB0ZW1wVXNlclRlc3RUcnVlOiBmdW5jdGlvbiB0ZW1wVXNlclRlc3RUcnVlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRlbXBVc2VyLnRlc3QgPSB0cnVlOwogICAgfSwKICAgIHJlc2V0UXVpektleVN0b3JhZ2U6IGZ1bmN0aW9uIHJlc2V0UXVpektleVN0b3JhZ2Uoc3RhdGUpIHsKICAgICAgc3RhdGUuVUlEID0gbnVsbDsKICAgICAgc3RhdGUuZGphbmdvVXNlciA9IG51bGw7CiAgICAgIHN0YXRlLmVtYWlsVmVyaWZpZWQgPSBudWxsOwogICAgICBzdGF0ZS5iZWluZ0V4Y2VwdGlvbiA9IGZhbHNlLCBzdGF0ZS5yZWxvYWRGb3JFeGNlcHRpb24gPSBmYWxzZTsKICAgICAgc3RhdGUuYXBpRXJyb3IuZGphbmdvID0gZmFsc2U7CiAgICAgIHN0YXRlLmFwaUVycm9yLmZpcmViYXNlID0gZmFsc2U7CiAgICAgIHN0YXRlLmFwaUVycm9yLmlwaW5mbyA9IGZhbHNlOwogICAgICBzdGF0ZS5hcGlFcnJvci5hbnkgPSBmYWxzZTsKICAgICAgc3RhdGUubXlRdWl6SW5mby5pZCA9ICcnOwogICAgICBzdGF0ZS5teVF1aXpJbmZvLm1heCA9ICcnOwogICAgICBzdGF0ZS5teVF1ZXN0aW9uID0gJyc7CiAgICAgIGNvbnNvbGUubG9nKCdhbGwtUmVzZXQnKTsKICAgIH0sCiAgICBzZXRMb2dnZXI6IGZ1bmN0aW9uIHNldExvZ2dlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5sb2dnZXIuYWN0dWFsRXJyb3IgPSBwYXlsb2FkLmFjdHVhbEVycm9yOwogICAgICBzdGF0ZS5sb2dnZXIubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgc3RhdGUubG9nZ2VyLm1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2U7CiAgICB9LAogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gcGF5bG9hZDsKICAgIH0sCiAgICBjaGVja0JlaW5nRXhjZXB0aW9uOiBmdW5jdGlvbiBjaGVja0JlaW5nRXhjZXB0aW9uKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGlmIChzdGF0ZS51c2VyICYmICFzdGF0ZS5kamFuZ29Vc2VyKSB7CiAgICAgICAgc3RhdGUuYmVpbmdFeGNlcHRpb24gPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKCdzZXQtYmVpbmctZXhjZXB0aW9uJywgc3RhdGUuYmVpbmdFeGNlcHRpb24pOwogICAgICB9CiAgICB9LAogICAgcmVsb2FkRm9yRXhjZXB0aW9uVHJ1ZTogZnVuY3Rpb24gcmVsb2FkRm9yRXhjZXB0aW9uVHJ1ZShzdGF0ZSkgewogICAgICBpZiAoc3RhdGUudXNlciAmJiAhc3RhdGUuZGphbmdvVXNlcikgewogICAgICAgIHN0YXRlLnJlbG9hZEZvckV4Y2VwdGlvbiA9IHRydWU7CiAgICAgICAgY29uc29sZS5sb2coJ3NldFJVRkV0cnVlJyk7CiAgICAgIH0KICAgIH0sCiAgICByZWxvYWRGb3JFeGNlcHRpb25GYWxzZTogZnVuY3Rpb24gcmVsb2FkRm9yRXhjZXB0aW9uRmFsc2Uoc3RhdGUpIHsKICAgICAgc3RhdGUucmVsb2FkRm9yRXhjZXB0aW9uID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCdzZXRSVUZFZmFsc2UnKTsKICAgIH0sCiAgICBoYW5kbGVhcGlFcnJvcjogZnVuY3Rpb24gaGFuZGxlYXBpRXJyb3Ioc3RhdGUsIHBheWxvYWQpIHsKICAgICAgaWYgKHBheWxvYWQgPT0gJ2RqYW5nbycpIHsKICAgICAgICBzdGF0ZS5hcGlFcnJvci5kamFuZ28gPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQgPT0gJ2ZpcmViYXNlJykgewogICAgICAgIHN0YXRlLmFwaUVycm9yLmZpcmViYXNlID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkID09ICdpcGluZm8nKSB7CiAgICAgICAgc3RhdGUuYXBpRXJyb3IuaXBpbmZvID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrRGphbmdvRXJyb3I6IGZ1bmN0aW9uIGNoZWNrRGphbmdvRXJyb3Ioc3RhdGUsIHBheWxvYWQpIHsKICAgICAgY29uc29sZS5sb2coJ2NoZWNrREUnLCBwYXlsb2FkKTsKCiAgICAgIGlmIChzdGF0ZS5hcGlFcnJvci5kamFuZ28pIHsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnQ29ubmVjdGlvbkVycm9yJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQgPT0gIk5ldHdvcmsgRXJyb3IiKSB7CiAgICAgICAgc3RhdGUuYXBpRXJyb3IuZGphbmdvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5hcGlFcnJvci5hbnkgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdOb3RGb3VuZDQwNCcKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0RGphbmdvRXJyb3I6IGZ1bmN0aW9uIHJlc2V0RGphbmdvRXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuYXBpRXJyb3IuZGphbmdvID0gZmFsc2U7CiAgICAgIHN0YXRlLmFwaUVycm9yLmFueSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZU9uU2lnbmluZ3VwOiBmdW5jdGlvbiBoYW5kbGVPblNpZ25pbmd1cChzdGF0ZSkgewogICAgICBzdGF0ZS5vblNpZ25pbmd1cCA9ICFzdGF0ZS5vblNpZ25pbmd1cDsKICAgIH0sCiAgICBkZWxldGVNeVF1ZXN0aW9uOiBmdW5jdGlvbiBkZWxldGVNeVF1ZXN0aW9uKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKCJiZWZvcmUiLCBzdGF0ZS5teVF1ZXN0aW9uLCBwYXlsb2FkKTsKICAgICAgc3RhdGUubXlRdWVzdGlvbiA9IHN0YXRlLm15UXVlc3Rpb24uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2l0ZW0nLCBpdGVtKTsKICAgICAgICByZXR1cm4gaXRlbS5xdWVzdGlvbi5pZCAhPSBwYXlsb2FkOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coImFmdGVyIiwgc3RhdGUubXlRdWVzdGlvbik7CiAgICB9LAogICAgYWRkTXlRdWVzdGlvbjogZnVuY3Rpb24gYWRkTXlRdWVzdGlvbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBjb25zb2xlLmxvZygiYmVmb3JlIiwgc3RhdGUubXlRdWVzdGlvbiwgcGF5bG9hZCk7CiAgICAgIHN0YXRlLm15UXVlc3Rpb24ucHVzaChwYXlsb2FkKTsKICAgICAgY29uc29sZS5sb2coImFmdGVyIiwgc3RhdGUubXlRdWVzdGlvbik7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzaWdudXBEamFuZ29Vc2VyOiBmdW5jdGlvbiBzaWdudXBEamFuZ29Vc2VyKF9yZWYsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgbG9nZ2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSU5TRFUiLCBwYXlsb2FkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS91c2VyLycsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHBheWxvYWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RGphbmdvVXNlcicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHN0YXRlLmJlaW5nRXhjZXB0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb21taXQoInJlc2V0RGphbmdvRXJybyIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRUZW1wVXNlclJlc2V0Iik7CiAgICAgICAgICAgICAgICBzdGF0ZS51c2VySW5mbyA9ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgc3RhdGUudXNlckluZm8gPSBwYXlsb2FkOwogICAgICAgICAgICAgICAgbG9nZ2VyID0gewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiaW4gc3RvcmUvc2lnbnVwLmdldERqYW5nb1VzZXIuIGNvdWxkbid0IHNpZ251cCBkamFuZ28gdXNlciIsCiAgICAgICAgICAgICAgICAgIG5hbWU6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwKICAgICAgICAgICAgICAgICAgYWN0dWFsRXJyb3I6IF9jb250ZXh0LnQwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2dnZXInLCBsb2dnZXIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJjaGVja0RqYW5nb0Vycm9yIiwgX2NvbnRleHQudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaWdudXBEamFuZ29Vc2VyRm9yRXhjZXB0aW9uOiBmdW5jdGlvbiBzaWdudXBEamFuZ29Vc2VyRm9yRXhjZXB0aW9uKF9yZWYyLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBsb2dnZXIsIF9sb2dnZXIsIF9sb2dnZXIyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZSwgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGZvciB1bnN1YiBiZWxvdy4gZG9udCB1c2Ugb3RoZXIgcGFydAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIklOU0RVRlgiKTsKCiAgICAgICAgICAgICAgICBpZiAoISghc3RhdGUuZGphbmdvVXNlciAmJiBzdGF0ZS5iZWluZ0V4Y2VwdGlvbikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0ODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS51c2VySW5mbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS91c2VyLycsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHN0YXRlLnVzZXJJbmZvCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldERqYW5nb1VzZXInLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBzdGF0ZS5iZWluZ0V4Y2VwdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29tbWl0KCdyZXNldERqYW5nb0Vycm9yJyk7CiAgICAgICAgICAgICAgICBjb21taXQoInNldFRlbXBVc2VyUmVzZXQiKTsKICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJJbmZvID0gJyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhdGNoZGF5bycsIF9jb250ZXh0Mi50MC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2hlY2tEamFuZ29FcnJvciIsIF9jb250ZXh0Mi50MC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGxvZ2dlciA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogImluIHN0b3JlL3NpZ251cC5nZXREamFuZ29Vc2VyRm9yRXhjZXB0aW9uLiBjb3VsZG4ndCBzaWdudXAgZGphbmdvIHVzZXIiLAogICAgICAgICAgICAgICAgICBuYW1lOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgICAgICAgICAgICAgIGFjdHVhbEVycm9yOiBfY29udGV4dDIudDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvZ2dlcicsIGxvZ2dlcik7CiAgICAgICAgICAgICAgICBjb21taXQoImNoZWNrRGphbmdvRXJyb3IiLCBfY29udGV4dDIudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05PIFRFTVAnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwczovL2lwaW5mby5pby9qc29uP3Rva2VuPTMyZTE2MTU5ZDk2MmM1IikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIElQID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgc3RhdGUuZXhjZXB0VXNlckluZm8gPSB7CiAgICAgICAgICAgICAgICAgICAgVUlEOiBzdGF0ZS51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5ZCN5YmN44KS5aSJ5pu044GX44KI44GGJywKICAgICAgICAgICAgICAgICAgICBlbWFpbDogc3RhdGUudXNlci5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBpcF9kYXRhOiBbewogICAgICAgICAgICAgICAgICAgICAgY2l0eTogSVAuY2l0eSwKICAgICAgICAgICAgICAgICAgICAgIGlwOiBJUC5pcCwKICAgICAgICAgICAgICAgICAgICAgIGxvYzogSVAubG9jLAogICAgICAgICAgICAgICAgICAgICAgb3JnOiBJUC5vcmcsCiAgICAgICAgICAgICAgICAgICAgICBwb3N0YWw6IElQLnBvc3RhbCwKICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogSVAucmVnaW9uLAogICAgICAgICAgICAgICAgICAgICAgdGltZXpvbmU6IElQLnRpbWV6b25lLAogICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogSVAuY291bnRyeQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSBfY29udGV4dDJbImNhdGNoIl0oMjIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJjaGVja0RqYW5nb0Vycm9yIiwgX2NvbnRleHQyLnQxLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgX2xvZ2dlciA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogImluIHN0b3JlL3NpZ251cC5zaWdudXAuRGphbmdvVXNlckZvckV4Y2VwdGlvbi4gaXBpbmZvIGVycm9yIiwKICAgICAgICAgICAgICAgICAgbmFtZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLAogICAgICAgICAgICAgICAgICBhY3R1YWxFcnJvcjogX2NvbnRleHQyLnQxCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2dnZXInLCBfbG9nZ2VyKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ05vdEZvdW5kNDA0JwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM0OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyeSBub25fdXNlcklORk8nLCBzdGF0ZS5leGNlcHRVc2VySW5mbyk7IC8vIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHNlbnQgdmFsaWRhdGlvbicpCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VzZXIvJywKICAgICAgICAgICAgICAgICAgZGF0YTogc3RhdGUuZXhjZXB0VXNlckluZm8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgICAgc3RhdGUuYmVpbmdFeGNlcHRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIGNvbW1pdCgicmVzZXREamFuZ29FcnJvciIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0ODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0MjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MiA9IF9jb250ZXh0MlsiY2F0Y2giXSgzNCk7CiAgICAgICAgICAgICAgICBjb21taXQoImNoZWNrRGphbmdvRXJyb3IiLCBfY29udGV4dDIudDIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBfbG9nZ2VyMiA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogImluIHN0b3JlL3NpZ251cC5nZXREamFuZ29Vc2VyRm9yRXhjZXB0aW9uLiBjb3VsZG4ndCBzaWdudXAgZGphbmdvIHVzZXIiLAogICAgICAgICAgICAgICAgICBuYW1lOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgICAgICAgICAgICAgIGFjdHVhbEVycm9yOiBfY29udGV4dDIudDIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvZ2dlcicsIF9sb2dnZXIyKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ05vdEZvdW5kNDA0JwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTNdLCBbMjIsIDI4XSwgWzM0LCA0Ml1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGphbmdvVXNlcjogZnVuY3Rpb24gZ2V0RGphbmdvVXNlcihfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIGxvZ2dlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwoKICAgICAgICAgICAgICAgIGlmICghKHN0YXRlLnVzZXIgJiYgIXN0YXRlLmJlaW5nRXhjZXB0aW9uKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR0RVX3Bhc3MnLCBzdGF0ZS5iZWluZ0V4Y2VwdGlvbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3VzZXIvIi5jb25jYXQoc3RhdGUudXNlci51aWQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldERqYW5nb1VzZXInLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgc3RhdGUubXlRdWVzdGlvbiA9IHJlc3BvbnNlLmRhdGEubXlfcXVpelswXS5teV9xdWVzdGlvbjsKICAgICAgICAgICAgICAgICAgc3RhdGUubXlRdWl6SW5mby5pZCA9IHJlc3BvbnNlLmRhdGEubXlfcXVpelswXS5pZDsKICAgICAgICAgICAgICAgICAgc3RhdGUubXlRdWl6SW5mby5tYXggPSByZXNwb25zZS5kYXRhLm15X3F1aXpbMF0ubWF4X251bTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk1RIiwgc3RhdGUubXlRdWVzdGlvbik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY29tbWl0KCJyZXNldERqYW5nb0Vycm9yIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXRjaCcpOwogICAgICAgICAgICAgICAgbG9nZ2VyID0gewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiaW4gc3RvcmUvc2lnbnVwLmdldERqYW5nb1VzZXIuIGNvdWxkbid0IGdldCBkamFuZ28gdXNlciIsCiAgICAgICAgICAgICAgICAgIG5hbWU6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwKICAgICAgICAgICAgICAgICAgYWN0dWFsRXJyb3I6IF9jb250ZXh0My50MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0TG9nZ2VyJywgbG9nZ2VyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2hlY2tEamFuZ29FcnJvciIsIF9jb250ZXh0My50MC5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1szLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRGYXZvcml0ZVF1ZXN0aW9uOiBmdW5jdGlvbiBnZXRGYXZvcml0ZVF1ZXN0aW9uKF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBxdWVzdGlvbklkLCBfaXRlcmF0b3IsIF9zdGVwLCBpOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZSwgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgc3RhdGUuZmF2b3JpdGVRdWVzdGlvbiA9IG51bGw7CgogICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5kamFuZ29Vc2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIHF1ZXN0aW9uSWQgPSBbXTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHN0YXRlLmRqYW5nb1VzZXIuZmF2b3JpdGVfcXVlc3Rpb25bMF0ucXVlc3Rpb24pOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgaSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSWQucHVzaChpKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghcXVlc3Rpb25JZFswXSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS9ib2FyZC9xdWVzdGlvbi1mYXZvcml0ZT9xdWVzdGlvbl9pZD0iLmNvbmNhdChxdWVzdGlvbklkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgc3RhdGUuZmF2b3JpdGVRdWVzdGlvbiA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzMsIDEyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cChjb250ZXh0LCBfcmVmNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZW1haWwsIHBhc3N3b3JkLCByZWYsIGxvZ2dlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZW1haWwgPSBfcmVmNS5lbWFpbCwgcGFzc3dvcmQgPSBfcmVmNS5wYXNzd29yZDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaWdudXAgaW4nKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVmID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBjb250ZXh0LnN0YXRlLmFjdGlvbkNvZGVTZXR0aW5nc1sndXJsJ10gPSBjb250ZXh0LnN0YXRlLmFjY291bnRVUkw7CiAgICAgICAgICAgICAgICBzZW5kRW1haWxWZXJpZmljYXRpb24ocmVmLnVzZXIsIGNvbnRleHQuc3RhdGUuYWN0aW9uQ29kZVNldHRpbmdzKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VyJywgcmVmLnVzZXIpOwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ2VtYWlsVmVyaWZpZWRIYW5kbGVyJywgcmVmLnVzZXIuZW1haWxWZXJpZmllZCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2lnbnVwIGlzIGRvbmUnLCBhdXRoLmN1cnJlbnRVc2VyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBsb2dnZXIgPSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJpbiBzdG9yZS9zaWdudXAuc2lnbnVwLiBjb3VsZG4ndCBzaWdudXAgZmlyZWJhc2UgdXNlciIsCiAgICAgICAgICAgICAgICAgIG5hbWU6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwKICAgICAgICAgICAgICAgICAgYWN0dWFsRXJyb3I6IF9jb250ZXh0NS50MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRMb2dnZXInLCBsb2dnZXIpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnTm90Rm91bmQ0MDQnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1syLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZEVtYWlsVmVyaWZ5OiBmdW5jdGlvbiBzZW5kRW1haWxWZXJpZnkoY29udGV4dCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGV4dC5zdGF0ZS5hY3Rpb25Db2RlU2V0dGluZ3NbJ3VybCddID0gY29udGV4dC5zdGF0ZS5hY2NvdW50VVJMOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbmRFbWFpbCcsIGNvbnRleHQuc3RhdGUudXNlciwgY29udGV4dC5zdGF0ZS5hY3Rpb25Db2RlU2V0dGluZ3MpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRFbWFpbFZlcmlmaWNhdGlvbihjb250ZXh0LnN0YXRlLnVzZXIsIGNvbnRleHQuc3RhdGUuYWN0aW9uQ29kZVNldHRpbmdzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VudFZhbGlkYXRpb246IGZ1bmN0aW9uIHNlbnRWYWxpZGF0aW9uKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnNlbnRWJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5zdGF0ZS51c2VyLnNlbmRFbWFpbFZlcmlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBpbiBzZW50Jyk7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBzZW50IHZhbGlkYXRpb24nKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1sxLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgX3JlZjYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGVtYWlsLCBwYXNzd29yZCwgcmVmOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlbWFpbCA9IF9yZWY2LmVtYWlsLCBwYXNzd29yZCA9IF9yZWY2LnBhc3N3b3JkOwogICAgICAgICAgICAgICAgLy8gY29udGV4dC5jb21taXQoJ3NldElzTG9hZGluZycsIHRydWUsIHtyb290OnRydWV9KQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luX2xvZ2luJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVmID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpOwogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgY29tcGxpdGUgc2lnbmluJyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpZiAoIXJlZikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSUYgWUVTIik7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlcicsIHJlZi51c2VyKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2dldERqYW5nb1VzZXInKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdlbWFpbFZlcmlmaWVkSGFuZGxlcicsIHJlZi51c2VyLmVtYWlsVmVyaWZpZWQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29udGV4dC5zdGF0ZS51c2VyLCBjb250ZXh0LnN0YXRlLmVtYWlsVmVyaWZpZWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGluIHNpZ24gaW4nKTsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGNvbXBsaXRlIHNpZ25pbicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzIsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrRW1haWw6IGZ1bmN0aW9uIGNoZWNrRW1haWwoY29udGV4dCwgZW1haWwpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHJlZjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsKGF1dGgsIGVtYWlsKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVmID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlZiA9PSAncGFzc3dvcmQnKSB7CiAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdjaGVja0VtYWlsSGFuZGxlcicsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FscmVhZHkgaW4gdXNlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnY2hlY2tFbWFpbEhhbmRsZXInLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3lvdSBjYW4gdXNlIGl0Jyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gc2lnbiB1cCcpOwogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgY2hlY2sgZW1haWwnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYXNzd29yZFJlc2V0OiBmdW5jdGlvbiBwYXNzd29yZFJlc2V0KGNvbnRleHQsIGVtYWlsKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXNzcmVzZXQgYWN0aW9uJywgZW1haWwpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIGNvbnRleHQuc3RhdGUuYWN0aW9uQ29kZVNldHRpbmdzWyd1cmwnXSA9IGNvbnRleHQuc3RhdGUuYWNjb3VudFVSTDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhdXRoLCBlbWFpbCwgY29udGV4dC5zdGF0ZS5hY3Rpb25Db2RlU2V0dGluZ3MpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFzc3dvcmQgcmVzZXQgc2VudCcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGluIHBhc3MgcmVzZXQnKTsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHNlbnQgcGFzcyByZXNldCcpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoY29udGV4dCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25PdXQoYXV0aCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VyJywgbnVsbCk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgncmVzZXRRdWl6S2V5U3RvcmFnZScpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTsKdmFyIHVuc3ViID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGZ1bmN0aW9uICh1c2VyKSB7CiAgc3RvcmUuY29tbWl0KCdzZXRBdXRoSXNSZWFkeScsIHRydWUpOwogIHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIHVzZXIpOwogIGNvbnNvbGUubG9nKCd1bnN1YicpOwoKICBpZiAodXNlcikgewogICAgc3RvcmUuZGlzcGF0Y2goJ2dldERqYW5nb1VzZXInKTsKICAgIHN0b3JlLmNvbW1pdCgnZW1haWxWZXJpZmllZEhhbmRsZXInLCB1c2VyLmVtYWlsVmVyaWZpZWQpOwogICAgc3RvcmUuZGlzcGF0Y2goJ3NpZ251cERqYW5nb1VzZXJGb3JFeGNlcHRpb24nKTsKICB9IGVsc2UgewogICAgc3RvcmUuY29tbWl0KCdyZXNldFF1aXpLZXlTdG9yYWdlJyk7CiAgfQoKICB1bnN1YigpOwp9KTs="},{"version":3,"sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/store/modules/signup.js"],"names":["createPersistedState","Cookies","auth","router","axios","createUserWithEmailAndPassword","fetchSignInMethodsForEmail","sendEmailVerification","signInWithEmailAndPassword","signOut","onAuthStateChanged","sendPasswordResetEmail","store","namespace","state","username","email","email2","country","password","user","djangoUser","UID","fasvoriteQuestion","emailVerified","authIsReady","checkedEmail","accountURL","actionCodeSettings","url","handleCodeInApp","tempUser","test","statusList","grade","level","favoriteQuestion","logger","actualError","message","name","userInfo","exceptUserInfo","beingException","reloadForException","apiError","django","firebase","ipinfo","any","onSigningup","myQuestion","myQuizInfo","id","max","getters","getUID","getUser","getDjangouser","getEmailVerified","getTempUser","getMyQuestion","getMyQuizInfo","mutations","getUsername","item","getEmail","getEmail2","getCountry","getPassword","setUser","payload","uid","console","log","setAuthIsReady","setDjangoUser","emailVerifiedHandler","checkEmailHandler","setTempUser","status","setTempUserReset","remove","tempUserTestTrue","resetQuizKeyStorage","setLogger","setUserInfo","checkBeingException","reloadForExceptionTrue","reloadForExceptionFalse","handleapiError","checkDjangoError","push","resetDjangoError","handleOnSigningup","deleteMyQuestion","filter","question","addMyQuestion","actions","signupDjangoUser","commit","method","data","then","response","window","location","pathname","signupDjangoUserForException","get","IP","ip_data","city","ip","loc","org","postal","region","timezone","getDjangoUser","dispatch","my_quiz","my_question","max_num","getFavoriteQuestion","questionId","favorite_question","i","catch","error","signup","context","ref","currentUser","sendEmailVerify","sentValidation","Error","login","checkEmail","passwordReset","logout","unsub"],"mappings":"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","sourcesContent":["import createPersistedState from 'vuex-persistedstate'\nimport Cookies from 'js-cookie'\nimport { auth } from '@/firebase/config'\nimport {router} from \"@/main.js\"\nimport axios from 'axios'\nimport {\n  createUserWithEmailAndPassword,\n  fetchSignInMethodsForEmail,\n  sendEmailVerification,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  sendPasswordResetEmail\n} from 'firebase/auth'\nimport store from '..'\n\nexport default {\n    namespace: true,\n    // plugins: [\n    //     createPersistedState({\n    //       key: 'signupKey',  // 'vuex'\n    //       paths: ['username','email','email2','country',\"UID\"],  // \n    //       storage: window.sessionStorage,  // localStorage\n    //     })],\n    state: {\n        username: '',\n        email:'',\n        email2:'',\n        country:'',\n        password:'',\n        user: null,\n        djangoUser: null,\n        UID:'',\n        fasvoriteQuestion:'',\n        emailVerified:null,\n        authIsReady:false,\n        checkedEmail:null,\n        accountURL:'http://localhost:8080/',\n        actionCodeSettings:{\n            url: null,\n            handleCodeInApp: true\n        },\n        tempUser: {\n            test: false,\n            statusList:'',\n            grade:'',\n            level:''\n        },\n        favoriteQuestion:'',\n        logger:{\n            actualError:'',\n            message:'',\n            name:''\n        },\n        userInfo:'',\n        exceptUserInfo:'',\n        beingException:false,\n        reloadForException: false,\n        apiError:{\n            // this is for connection Error\n            django: false,\n            firebase: false,\n            ipinfo: false,\n            any: false\n        },\n        onSigningup:false,\n        myQuestion:'',\n        myQuizInfo:{\n            id:'',\n            max:'',\n        },\n    },\n    getters:{\n        getUID(state){\n            return state.UID\n        },\n        getUser(state){\n            return state.user\n        },\n        getDjangouser(state){\n            return state.djangoUser\n        },\n        getEmailVerified(state){\n            return state.emailVerified\n        },\n        getTempUser(state){\n            return state.tempUser\n        },\n        logger(state){\n            return state.logger\n        },\n        onSigningup(state){\n            return state.onSigningup\n        },\n        getMyQuestion(state){\n            return state.myQuestion\n        },\n        getMyQuizInfo(state){\n            return state.myQuizInfo\n        }\n    },\n    mutations:{\n        getUsername(state,item){\n            state.username = item\n        },\n        getEmail(state,item){\n            state.email = item\n        },\n        getEmail2(state,item){\n            state.email2 = item\n        },\n        getCountry(state,item){\n            state.country = item\n        },\n        getPassword(state,item){\n            state.password = item\n        },\n        setUser(state,payload){\n            state.user = payload\n            if(state.user){\n                state.UID = state.user.uid\n            }\n            console.log('user state changed:',state.user)\n        },\n        setAuthIsReady(state,payload){\n            state.authIsReady = payload\n            console.log('setauth is changed:',state.user)\n        },\n        setDjangoUser(state,payload){\n            state.djangoUser = payload\n            console.log('set Django user',state.djangoUser)\n        },\n        emailVerifiedHandler(state,payload){\n            state.emailVerified = payload\n            console.log('emailV chainged',state.emailVerified)\n        },\n        checkEmailHandler(state,payload){\n            state.checkedEmail = payload\n        },\n        setTempUser(state,payload){\n            state.tempUser.test = true\n            state.tempUser.statusList = payload.status\n            state.tempUser.grade = payload.grade\n            state.tempUser.level = payload.level\n            console.log('set-temp-user', state.tempUser)\n        },\n        setTempUserReset(state){\n            state.tempUser.test = false\n            state.tempUser.statusList = '',\n            state.tempUser.grade = '',\n            state.tempUser.level = ''\n            Cookies.remove('tempKey')\n            console.log('set',state.tempUser)\n        },\n        tempUserTestTrue(state){\n            state.tempUser.test = true\n        },\n        resetQuizKeyStorage(state){\n            state.UID = null\n            state.djangoUser = null\n            state.emailVerified = null\n            state.beingException = false,\n            state.reloadForException = false\n            state.apiError.django = false\n            state.apiError.firebase = false\n            state.apiError.ipinfo = false\n            state.apiError.any = false\n            state.myQuizInfo.id = ''\n            state.myQuizInfo.max = ''\n            state.myQuestion = ''\n            console.log('all-Reset')\n        },\n        setLogger(state,payload){\n            state.logger.actualError = payload.actualError\n            state.logger.name = payload.name\n            state.logger.message = payload.message\n        },\n        setUserInfo(state,payload){\n            state.userInfo = payload\n        },\n        checkBeingException(state,payload){\n            if(state.user&&!state.djangoUser){\n                state.beingException = true\n                console.log('set-being-exception',state.beingException)\n            }\n        },\n        reloadForExceptionTrue(state){\n            if(state.user&&!state.djangoUser){\n                state.reloadForException = true\n                console.log('setRUFEtrue')\n            }\n        },\n        reloadForExceptionFalse(state){\n            state.reloadForException = false\n            console.log('setRUFEfalse')\n        },\n        handleapiError(state,payload){\n            if(payload=='django'){\n                state.apiError.django = true\n            }\n            else if(payload=='firebase'){\n                state.apiError.firebase = true\n            }\n            else if(payload=='ipinfo'){\n                state.apiError.ipinfo = true\n            }\n        },\n        checkDjangoError(state,payload){\n            console.log('checkDE',payload)\n            if(state.apiError.django){\n                router.push({ name: 'ConnectionError' })\n            }\n            else if(payload==\"Network Error\"){\n                state.apiError.django = true\n                state.apiError.any = true\n            }else{\n                router.push({ name: 'NotFound404' })\n            }\n        },\n        resetDjangoError(state){\n            state.apiError.django = false\n            state.apiError.any = false\n        },\n        handleOnSigningup(state){\n            state.onSigningup = !state.onSigningup\n        },\n        deleteMyQuestion(state,payload){\n            console.log(\"before\",state.myQuestion,payload)\n            state.myQuestion = state.myQuestion.filter(item =>{\n                console.log('item',item)\n                return (item.question.id !=payload)\n            })\n            console.log(\"after\",state.myQuestion)\n        },\n        addMyQuestion(state,payload){\n            console.log(\"before\",state.myQuestion,payload)\n            state.myQuestion.push(payload)\n            console.log(\"after\",state.myQuestion)\n        }\n    },\n    actions:{\n        async signupDjangoUser( {state, commit},payload ){\n            console.log(\"INSDU\",payload)\n            try{\n                // throw new Error('could not sent validation')\n                await axios({\n                    method: 'post',\n                    url: '/api/user/',\n                    data: payload\n                })\n                .then(response => {\n                    commit('setDjangoUser',response.data)\n                })\n                state.beingException = false\n                commit(\"resetDjangoErro\")\n                commit(\"setTempUserReset\")\n                state.userInfo = ''\n            }\n            catch(e){\n                state.userInfo = payload\n                let logger = {\n                    message: \"in store/signup.getDjangoUser. couldn't signup django user\",\n                    name: window.location.pathname,\n                    actualError: e\n                }\n                commit('setLogger',logger)\n                commit(\"checkDjangoError\", e.message)\n            }\n        },\n        async signupDjangoUserForException( {state, commit},payload ){\n            // this is only for unsub below. dont use other part\n            console.log(\"INSDUFX\")\n            if(!state.djangoUser&&state.beingException){\n                if(state.userInfo){\n                    try{\n                        // throw new Error('could not sent validation')\n                        await axios({\n                            method: 'post',\n                            url: '/api/user/',\n                            data: state.userInfo\n                        })\n                        .then(response => {\n                            commit('setDjangoUser',response.data)\n                        })\n                        state.beingException = false\n                        commit('resetDjangoError')\n                        commit(\"setTempUserReset\")\n                        state.userInfo = ''\n                    }\n                    catch(e){\n                        console.log('catchdayo',e.message)\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.getDjangoUserForException. couldn't signup django user\",\n                            name: window.location.pathname,\n                            actualError: e\n                        }\n                        commit('setLogger',logger)\n                        commit(\"checkDjangoError\", e.message)\n                    }\n                }\n                else{\n                    try{\n                        console.log('NO TEMP')\n                        await axios\n                        .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n                        .then(response => {\n                            let IP = response.data\n                            state.exceptUserInfo = {\n                                UID: state.user.uid,\n                                name: '',\n                                email: state.user.email,\n                                ip_data: [{\n                                    city: IP.city,\n                                    ip: IP.ip,\n                                    loc: IP.loc,\n                                    org: IP.org,\n                                    postal: IP.postal,\n                                    region: IP.region,\n                                    timezone: IP.timezone,\n                                    country: IP.country\n                                }]\n                            } \n                        })\n                    }\n                    catch(e){\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.signup.DjangoUserForException. ipinfo error\",\n                            name: window.location.pathname,\n                            actualError: e\n                        }\n                        commit('setLogger',logger)\n                        router.push({ name: 'NotFound404' })\n                    }\n                     \n                    try{\n                        console.log('try non_userINFO',state.exceptUserInfo)\n                        // throw new Error('could not sent validation')\n                        await axios({\n                            method: 'post',\n                            url: '/api/user/',\n                            data: state.exceptUserInfo\n                        })\n                        state.beingException = false\n                        commit(\"resetDjangoError\")\n                    }\n                    catch(e){\n                        commit(\"checkDjangoError\", e.message)\n                        let logger = {\n                            message: \"in store/signup.getDjangoUserForException. couldn't signup django user\",\n                            name: window.location.pathname,\n                            actualError: e\n                        }\n                        commit('setLogger',logger)\n                        router.push({ name: 'NotFound404' })\n                    }\n                }   \n            }\n        },\n        async getDjangoUser({ state, commit,dispatch }){\n            if(state.user&&!state.beingException){\n                console.log('GDU_pass',state.beingException)\n                try{\n                    await axios\n                    .get(`/api/user/${state.user.uid}`)\n                    .then(response => {\n                        commit('setDjangoUser',response.data)\n                        state.myQuestion = response.data.my_quiz[0].my_question\n                        state.myQuizInfo.id = response.data.my_quiz[0].id\n                        state.myQuizInfo.max = response.data.my_quiz[0].max_num\n                        console.log(\"MQ\",state.myQuestion)\n                    })\n                    commit(\"resetDjangoError\")\n                }\n                catch(e){\n                    console.log('catch')\n                    let logger = {\n                        message: \"in store/signup.getDjangoUser. couldn't get django user\",\n                        name: window.location.pathname,\n                        actualError: e\n                    }\n                    commit('setLogger',logger)\n                    commit(\"checkDjangoError\", e.message)\n                }\n            }\n        },\n        async getFavoriteQuestion({ state, commit }){\n            state.favoriteQuestion = null\n            if(state.djangoUser){\n                try{\n                    const questionId = []\n                    for(let i of state.djangoUser.favorite_question[0].question){\n                        questionId.push(i)\n                    }\n                    if(questionId[0]){\n                        await axios\n                        .get(`/api/board/question-favorite?question_id=${questionId}`)\n                        .then(response => {\n                            state.favoriteQuestion = response.data\n                            })\n                        .catch(error => {\n                            console.log(error)\n                        })\n                    }\n                }catch{\n                    \n                }\n            }\n        },\n        async signup(context, {email,password}){\n            console.log('signup in')\n            try {\n                const ref = await createUserWithEmailAndPassword(auth, email, password)\n                context.state.actionCodeSettings['url'] = context.state.accountURL\n                sendEmailVerification(ref.user,context.state.actionCodeSettings)\n                context.commit('setUser',ref.user)\n                context.commit('emailVerifiedHandler',ref.user.emailVerified)\n                console.log('signup is done',auth.currentUser)\n            }catch(e){\n                let logger = {\n                    message: \"in store/signup.signup. couldn't signup firebase user\",\n                    name: window.location.pathname,\n                    actualError: e\n                }\n                context.commit('setLogger',logger)\n                router.push({ name: 'NotFound404' })\n            }\n        },\n        async sendEmailVerify(context){\n            context.state.actionCodeSettings['url'] = context.state.accountURL\n            console.log('sendEmail',context.state.user,context.state.actionCodeSettings)\n            await sendEmailVerification(context.state.user,context.state.actionCodeSettings)\n        },\n        async sentValidation(context){\n            console.log('insentV')\n            try{\n                await context.state.user.sendEmailVerification()\n            }catch{\n                console.log('error in sent')\n                throw new Error('could not sent validation')\n            }\n        },\n        async login(context, {email,password}){\n            // context.commit('setIsLoading', true, {root:true})\n            console.log('in_login')\n            try{\n                var ref = await signInWithEmailAndPassword(auth, email, password)\n            }catch{\n                console.log('error')\n                throw new Error('could not complite signin')\n            }\n            if(ref){\n                console.log(\"IF YES\")\n                context.commit('setUser',ref.user)\n                context.dispatch('getDjangoUser')\n                context.commit('emailVerifiedHandler',ref.user.emailVerified)\n                console.log(context.state.user,context.state.emailVerified)\n            }else{\n                console.log('error in sign in')\n                throw new Error('could not complite signin')\n            }\n            // context.commit('setIsLoading', false, {root:true})                \n        },\n        async checkEmail(context,email){\n            try {\n                const ref = await fetchSignInMethodsForEmail(auth,email);\n                if (ref == 'password'){\n                    context.commit('checkEmailHandler',false)\n                    console.log('already in use')\n                }else{\n                    context.commit('checkEmailHandler',true)\n                    console.log('you can use it')\n                }\n            }catch{\n                console.log('error in sign up')\n                throw new Error('could not check email')\n            }\n        },\n        async passwordReset(context,email){\n            console.log('passreset action',email)\n            try{\n                context.state.actionCodeSettings['url'] = context.state.accountURL\n                await sendPasswordResetEmail(auth,email,context.state.actionCodeSettings)\n            console.log('password reset sent')\n            }catch{\n                console.log('error in pass reset')\n                throw new Error('could not sent pass reset')\n            }\n        },\n        async logout(context){\n            await signOut(auth)\n            context.commit('setUser',null)\n            context.commit('resetQuizKeyStorage')\n            router.push({ name: 'Home' })\n        }\n    }\n\n}\nconst unsub = onAuthStateChanged(auth,(user) =>{\n    store.commit('setAuthIsReady',true)\n    store.commit('setUser',user)\n    console.log('unsub')\n    if(user){\n        store.dispatch('getDjangoUser')\n        store.commit('emailVerifiedHandler',user.emailVerified)\n        store.dispatch('signupDjangoUserForException')\n    }else{\n        store.commit('resetQuizKeyStorage')\n    }\n    unsub()\n})"]}]}