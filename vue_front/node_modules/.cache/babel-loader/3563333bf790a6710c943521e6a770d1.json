{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-7cbffb3a\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"main-wrapper\"\n};\n\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"lds-dual-ring\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_3 = {\n  key: 0,\n  class: \"content-wrapper\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h1\", {\n    class: \"title-white\"\n  }, \"アカウント\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_5 = {\n  class: \"cropper-wrapper\"\n};\nvar _hoisted_6 = [\"src\"];\n\nvar _hoisted_7 = /*#__PURE__*/_createTextVNode(\"画像を\");\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_9 = /*#__PURE__*/_createTextVNode(\"変更する\");\n\nvar _hoisted_10 = [_hoisted_7, _hoisted_8, _hoisted_9];\nvar _hoisted_11 = {\n  class: \"my-quiz-wrapper\"\n};\n\nvar _hoisted_12 = /*#__PURE__*/_createTextVNode(\"My Quiz\");\n\nvar _hoisted_13 = {\n  key: 0,\n  class: \"notification-container\"\n};\n\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"alert-position-container\"\n  }, [/*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"notification-text\"\n  }, \" お知らせ \"), /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"notification-alert\"\n  }, \" Notifications \")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_15 = [_hoisted_14];\nvar _hoisted_16 = {\n  class: \"user-info-wrapper\"\n};\nvar _hoisted_17 = {\n  class: \"user-name user-container\"\n};\n\nvar _hoisted_18 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"left-side\"\n  }, [/*#__PURE__*/_createTextVNode(\" User\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"Name \")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_19 = {\n  class: \"right-side\"\n};\nvar _hoisted_20 = {\n  class: \"current-level user-container\"\n};\n\nvar _hoisted_21 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"left-side\"\n  }, [/*#__PURE__*/_createTextVNode(\" Current\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"Grade \")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_22 = {\n  class: \"right-side grade-right-side\"\n};\nvar _hoisted_23 = {\n  classs: \"current-level-text\"\n};\nvar _hoisted_24 = {\n  class: \"current-level user-container\"\n};\n\nvar _hoisted_25 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"left-side\"\n  }, [/*#__PURE__*/_createTextVNode(\" Max\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"Grade \")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_26 = {\n  class: \"right-side grade-right-side\"\n};\nvar _hoisted_27 = {\n  classs: \"current-level-text\"\n};\nvar _hoisted_28 = {\n  key: 0,\n  class: \"next-title\"\n};\nvar _hoisted_29 = {\n  key: 1,\n  class: \"next-title grade-up\"\n};\nvar _hoisted_30 = {\n  class: \"status-wrapper\"\n};\nvar _hoisted_31 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  var _component_chart = _resolveComponent(\"chart\");\n\n  var _component_NotVerified = _resolveComponent(\"NotVerified\");\n\n  var _component_Sent = _resolveComponent(\"Sent\");\n\n  var _component_Thumbnail = _resolveComponent(\"Thumbnail\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"account-wrapper\", {\n      'laoding-center': _ctx.$store.state.isLoading\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"is-loading-bar has-text-centered\", {\n      'is-loading': _ctx.$store.state.isLoading\n    }])\n  }, [_createCommentVNode(\" <i class=\\\"fas fa-cog\\\"></i> \"), _hoisted_2], 2\n  /* CLASS */\n  ), _ctx.$store.state.isLoading == false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"img\", {\n    src: $data.userData.thumbnail\n  }, null, 8\n  /* PROPS */\n  , _hoisted_6), _createElementVNode(\"p\", {\n    class: \"change-img\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.handleShowThumbnail && $options.handleShowThumbnail.apply($options, arguments);\n    })\n  }, _hoisted_10)]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_router_link, {\n    to: {\n      name: 'MyQuiz'\n    },\n    class: \"my-quiz\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_12];\n    }),\n    _: 1\n    /* STABLE */\n\n  })]), $data.showNotification ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _hoisted_15)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"div\", _hoisted_19, _toDisplayString($data.userData.name), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, _toDisplayString($options.getCurrentGradeNameFromIds($data.quizTaker.grade)) + \" Lv,\" + _toDisplayString($data.quizTaker.level), 1\n  /* TEXT */\n  ), _createCommentVNode(\" <div class=\\\"max-level\\\">\\n                                最大レベル　初級Lv,2\\n                            </div> \")])]), _createElementVNode(\"div\", _hoisted_24, [_hoisted_25, _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, _toDisplayString($data.quizTaker.max_grade) + \" Lv,\" + _toDisplayString($data.quizTaker.max_level), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", {\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $options.stopFlash();\n    }),\n    class: _normalizeClass($data.gradeUp ? 'next-grade-up' : 'next-level')\n  }, [_createCommentVNode(\" <div class='next-level' :class=\\\"{'next-grade-up':gradeUp}\\\"> \"), !$data.gradeUp ? (_openBlock(), _createElementBlock(\"span\", _hoisted_28, \"Next-Level\")) : _createCommentVNode(\"v-if\", true), $data.gradeUp ? (_openBlock(), _createElementBlock(\"span\", _hoisted_29, \"Grade-Up\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", {\n    class: _normalizeClass({\n      'stop': $data.stop\n    })\n  }, _toDisplayString($options.nextGrade($options.getCurrentGradeNameFromIds($data.quizTaker.grade), $data.quizTaker.level)), 3\n  /* TEXT, CLASS */\n  )], 2\n  /* CLASS */\n  )]), _createElementVNode(\"div\", _hoisted_30, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.grade, function (g, key, index) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"chart-loop\",\n      key: index\n    }, [$options.showChartHeaderGrade(key) ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      onClick: function onClick($event) {\n        return $options.handleStatusParameter($options.convertGradeIntToGradeId(key));\n      },\n      class: _normalizeClass([\"chart-header\", {\n        'current-status-grade': $options.getCurrentStatusGrade($options.convertGradeIntToGradeId(key))\n      }])\n    }, [_createElementVNode(\"div\", null, _toDisplayString(key), 1\n    /* TEXT */\n    )], 10\n    /* CLASS, PROPS */\n    , _hoisted_31)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $data.gotInfo ? (_openBlock(), _createBlock(_component_chart, {\n    key: 0,\n    \"chart-data\": $data.chartData\n  }, null, 8\n  /* PROPS */\n  , [\"chart-data\"])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", {\n    onClick: _cache[2] || (_cache[2] = function ($event) {\n      return $options.goCommunityAccount();\n    }),\n    class: \"comunity-account\"\n  }, \" コミュニティアカウントへ移動 \")])) : _createCommentVNode(\"v-if\", true)]), !$setup.emailVerified && _ctx.$store.state.isLoading == false ? (_openBlock(), _createBlock(_component_NotVerified, {\n    key: 0,\n    currentPageName: $data.currentPageName\n  }, null, 8\n  /* PROPS */\n  , [\"currentPageName\"])) : _createCommentVNode(\"v-if\", true), _withDirectives(_createVNode(_component_Sent, null, null, 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.showSent]]), $data.showThumbnail ? (_openBlock(), _createBlock(_component_Thumbnail, {\n    key: 1,\n    onShowThumbnailFalse: $options.showThumbnailFalse,\n    onGetUserData: $options.getUserData,\n    getDjangouser: _ctx.getDjangouser\n  }, null, 8\n  /* PROPS */\n  , [\"onShowThumbnailFalse\", \"onGetUserData\", \"getDjangouser\"])) : _createCommentVNode(\"v-if\", true)], 2\n  /* CLASS */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_8","_hoisted_14","classs","_createElementBlock","_ctx","state","isLoading","_createCommentVNode","_hoisted_2","_hoisted_4","src","$data","thumbnail","onClick","$options","_createVNode","_component_router_link","to","name","_hoisted_15","_hoisted_18","_toDisplayString","_hoisted_21","grade","level","_hoisted_25","max_grade","max_level","_Fragment","_renderList","g","key","index","_createBlock","_component_chart","$setup","_component_NotVerified","currentPageName","_component_Sent","_component_Thumbnail","onShowThumbnailFalse","onGetUserData","getDjangouser"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/views/Account.vue"],"sourcesContent":["<template>\n    <div class=\"account-wrapper\" :class=\"{'laoding-center':$store.state.isLoading}\">\n        <div class=\"main-wrapper\">\n            <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading }\">\n                <!-- <i class=\"fas fa-cog\"></i> -->\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            \n            <div v-if='$store.state.isLoading==false' class=\"content-wrapper\">\n                <h1 class='title-white'>アカウント</h1>\n                <div class=\"cropper-wrapper\">\n                    <img v-bind:src=\"userData.thumbnail\"/>\n                    <p class=\"change-img\" @click='handleShowThumbnail'>画像を<br>変更する</p>\n                </div>\n                <div class=\"my-quiz-wrapper\">\n                    <router-link :to=\"{ name: 'MyQuiz'}\" class=\"my-quiz\">My Quiz</router-link>\n                </div>\n\n                <div v-if=\"showNotification\" class=\"notification-container\">\n                    <div class=\"alert-position-container\">\n                        <div class=\"notification-text\">\n                            お知らせ\n                        </div>\n                        <div class=\"notification-alert\">\n                            Notifications\n                        </div>\n                    </div>\n                </div>\n                <div class=\"user-info-wrapper\">\n                    <div class=\"user-name user-container\">\n                        <div class=\"left-side\">\n                            User<br>Name\n                        </div>\n                        <div class=\"right-side\">\n                            {{ userData.name}}\n                        </div>\n                    </div>\n                    <div class=\"current-level user-container\">\n                        <div class=\"left-side\">\n                            Current<br>Grade\n                        </div>\n                        <div class=\"right-side grade-right-side\">\n                            <div classs=\"current-level-text\">\n                                {{ getCurrentGradeNameFromIds(quizTaker.grade)}}\n                                Lv,{{ quizTaker.level }}\n                            </div>\n                            <!-- <div class=\"max-level\">\n                                最大レベル　初級Lv,2\n                            </div> -->\n                        </div>       \n                    </div>\n                    <div class=\"current-level user-container\">\n                        <div class=\"left-side\">\n                            Max<br>Grade\n                        </div>\n                        <div class=\"right-side grade-right-side\">\n                            <div classs=\"current-level-text\">\n                                {{ quizTaker.max_grade }}\n                                Lv,{{ quizTaker.max_level }}\n                            </div>\n                        </div>       \n                    </div>\n                    <div @click=\"stopFlash()\" :class=\"(gradeUp)?'next-grade-up':'next-level'\">\n                    <!-- <div class='next-level' :class=\"{'next-grade-up':gradeUp}\"> -->\n                        <span v-if=\"!gradeUp\" class=\"next-title\">Next-Level</span>\n                        <span v-if=\"gradeUp\" class=\"next-title grade-up\">Grade-Up</span>\n                        <p :class=\"{'stop':stop}\">{{ nextGrade(getCurrentGradeNameFromIds(quizTaker.grade),quizTaker.level) }}</p>\n                    </div>\n                </div>\n                <div class=\"status-wrapper\">\n                    <div class=chart-loop \n                    v-for=\"(g,key,index) in grade\"\n                    v-bind:key=\"index\">\n                        <div @click=\"handleStatusParameter(convertGradeIntToGradeId(key))\" \n                            v-if=\"showChartHeaderGrade(key)\" \n                            class=\"chart-header\"\n                            :class=\"{'current-status-grade':getCurrentStatusGrade(convertGradeIntToGradeId(key))}\">\n                            <div>{{key}}</div>\n                        </div>\n                    </div>\n                    <chart\n                    v-if=\"gotInfo\"\n                    :chart-data=\"chartData\"\n                    />\n                </div>\n                <div @click=\"goCommunityAccount()\" class=\"comunity-account\">\n                    コミュニティアカウントへ移動\n                </div>\n            </div>\n        </div>\n        <NotVerified\n        v-if=\"!emailVerified&&$store.state.isLoading==false\"\n        :currentPageName=\"currentPageName\"\n        />\n        <Sent v-show='showSent'/>\n        <Thumbnail v-if=\"showThumbnail\"\n        @showThumbnailFalse=\"showThumbnailFalse\"\n        @getUserData=\"getUserData\"\n        :getDjangouser=\"getDjangouser\"/>\n    </div>\n</template>\n\n<script>\nimport {router} from \"../main.js\"\nimport axios from 'axios'\nimport 'cropperjs/dist/cropper.css';\nimport  Thumbnail from '@/components/account/Thumbnail.vue'\nimport  Chart from '@/components/account/Chart.vue'\nimport Sent from '@/components/signin/Sent.vue'\nimport NotVerified from '@/components/login/NotVerified.vue'\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport {mapGetters,mapActions} from 'vuex'\n\nexport default{\n    setup(){\n        const store = useStore()\n        return{\n            user: computed(() => store.state.signup.user),\n            email: computed(() => store.state.signup.email),\n            password: computed(() => store.state.signup.password),\n            emailVerified: computed(() => store.state.signup.emailVerified),\n        }\n    },\n    data(){\n        return{\n            showSent:false,\n            error:'',\n            userData:'',\n            quizTaker:'',\n            showThumbnail:false,\n            currentPageName:'',\n            // showEmailVerified:true,\n            gotInfo:false,\n            showNotification:false,\n            stop: false,\n            gradeUp: false,\n            currentStatusGrade:'',\n            backgroundColorList:{\n                '超初級':'rgba(255, 153, 51, 0.2)',\n                '初級':'rgba(81, 255, 0, 0.2)',\n                '中級':'rgba(191, 0, 255, 0.2)',\n                '上級':'rgba(255, 6, 6, 0.2)',\n            },\n            grade:{\n                '超初級':0,\n                '初級':1,\n                '中級':2,\n                '上級':3,\n            },\n            chartAllData:{\n                '超初級':{\n                    labels:[\n                        'ひらがな', \n                        'カタカナ', \n                        'ボキャブラリー', \n                        'すうじ'\n                        ],\n                },\n                '初級':{\n                    labels:[\n                        '漢字',\n                        '動詞',\n                        'い形容詞',\n                        'ボキャブラリー',\n                        '文法',\n                        'な形容詞',\n                    ],\n                },\n                '中級':{\n                    labels:[],\n                },\n                '上級':{\n                    labels:[],\n                }\n            },\n            chartData: {\n                labels: [],\n                datasets: [{ \n                    label: \"\",\n                    data: [],\n                    borderWidth:1,\n                    backgroundColor: 'rgba(255, 153, 51, 0.2)',\n                    borderColor: ' #ff9933',\n                    pointBackgroundColor: 'rgb(255, 99, 132)',\n                    pointBorderColor: '#fff',\n                    pointHoverBackgroundColor: '#fff',\n                    pointHoverBorderColor: 'red'\n                }],\n            },\n        }\n    },\n    components: {\n        Sent,\n        Thumbnail,\n        Chart,\n        NotVerified\n    },\n    created(){\n        this.getQuizNameId()\n    },\n    watch:{\n        userData:function(v) {\n            \n        this.userData = v\n        console.log('hi',v)\n        },\n    },\n    computed: mapGetters(['quizNameId','getDjangouser','getPhotoURL']),\n        \n    mounted(){\n        console.log('account mounted',this.getDjangouser)\n        this.currentPageName = ''\n        this.getUserData()\n        this.getCurrentPageName()\n        // this.handleShowEmailVerified()\n    },\n    methods:{\n        ...mapActions(['getQuizNameId']),\n        async getUserData(){\n            this.$store.commit('setIsLoading', true)\n            await axios\n                .get(`/api/user/${this.getDjangouser.UID}`)\n                .then(response => {\n                    this.userData = response.data\n                    this.quizTaker = response.data.quiz_taker[0]\n                    console.log('inGet', this.userData,this.userStatus)\n                    this.handleStatusParameter(this.quizTaker.grade)\n                    // this.setInitUserStatus()\n                    this.gotInfo = true,\n                    this.patchImage()\n                })\n                .catch(error => {\n                    console.log('e',error)\n                })\n                this.$store.commit('setIsLoading', false)\n        },\n        async patchImage(){\n            var list = this.getDjangouser.thumbnail.split('/')\n            console.log('list',list)\n            if(list.includes('default.png')){\n                console.log('png')\n            }\n            const blob = await fetch(this.getPhotoURL).then(r => r.blob());\n            const headers = { \"content-type\": \"multipart/form-data\" };\n            const formData = new FormData();\n            formData.append('thumbnail',blob,`${blob}.png`)\n            console.log('getthumb',formData.get('thumbnail'),formData),\n            axios.patch(`/api/user/${this.getDjangouser.UID}`,\n                formData,\n                {headers}\n            )\n        },\n        async resent(){\n            try{\n                await this.$store.dispatch('sendEmailVerify')\n                this.handleShowSent()\n                console.log('showsent:',this.showSent)\n            }catch(err){\n                this.error = err\n                console.log(this.error)\n            }\n        },\n        handleShowSent(){\n            this.showSent = true\n        },\n        handleShowThumbnail(){\n            this.showThumbnail = true\n        },\n        showThumbnailFalse(){\n            this.showThumbnail = false\n            console.log('inA',this.showThumbnail)\n        },\n        getCurrentGradeNameFromIds(gradeID){\n            for (let i of this.quizNameId){\n                if(i.id == gradeID){\n                    return i.name\n                }\n            }\n        },\n        convertGradeIntToGradeId(gradeInt){\n            for (let i of this.quizNameId){\n                if(i.name==gradeInt){\n                    return i.id\n                }\n            }\n        },\n        handleStatusParameter(grade){\n            // this is handling chart view.\n            // 1, get quiz_taker from userinfo\n            // 2, get current grade from the quizTaker.\n            // 3, get chart labels which is locally set.\n            // 4, get percentage for each status from user_status from quiz_taker\n            // 5, set the labels and the percentages to chartData to invoke data for chart component\n            \n            let tempDict = {}\n            let tempChartAllData = this.chartAllData[this.getCurrentGradeNameFromIds(grade)].labels\n            let tempArray = []\n            this.currentStatusGrade = grade\n            for(let i of this.quizTaker.user_status){\n                if(i.grade==grade){\n                    tempDict[i.status[0]]={\"percentage\":i.percentage,\n                    'order':i.status[1],\n                    }\n                }\n            // var sort = Object.keys(tempDict).map((k)=>({ key: k, value: tempDict[k] }));\n            }\n            for(let i of tempChartAllData){\n                if(i in tempDict){\n                    tempArray.push(tempDict[i].percentage / 10)\n                }else{\n                    tempArray.push(0)\n                }\n            }\n            this.chartData.labels = tempChartAllData\n            this.chartData.datasets[0].data = tempArray\n            this.chartData.datasets[0].backgroundColor = this.backgroundColorList[this.getCurrentGradeNameFromIds(grade)]\n            this.gotInfo = true\n        },\n        getCurrentStatusGrade(grade){\n            if(this.currentStatusGrade==grade){\n                return true\n            }\n            else{\n                return false\n            }\n        },\n        getCurrentPageName(){\n            let i = this.$route.path\n            i = i.split(\"/\")\n            this.currentPageName = i[1]\n        },\n        nextGrade(grade,level){\n            if(level==10){\n                var max = Math.max(...Object.values(this.grade))\n                var g = this.grade[grade]+ 1\n                if(max == this.grade[grade]){\n                    return `最大レベルだよ！`\n                }\n                else{\n                    for(let i in this.grade){\n                        if(this.grade[i] == g){\n                            this.gradeUp = true\n                            return `次は${i}レベル${1}だよ！`\n                        }\n                    }\n                }\n            }\n            else{\n                return `次は${grade}レベル${level + 1}だよ！`\n            }\n        },\n        stopFlash(){\n            this.stop = !this.stop\n        },\n        showChartHeaderGrade(grade){\n            if(this.grade[grade] <= this.grade[this.quizTaker.max_grade]){\n                return true   \n            }\n            else{\n                return false\n            }\n        },\n        mountReset(){\n            this.gradeUp = false\n        },\n        // async setInitUserStatus(){\n        //     if(this.emailVerified){\n        //         if(this.$store.getters.getTempUser){\n        //             this.$store.commit('setQuizTakerID',this.quizTaker.id)\n        //             this.$store.commit('setQuizID',this.$store.getters.getTempUser.grade)\n        //             for(let i of this.$store.getters.getTempUser.statusList){\n        //                 await this.$store.dispatch('userStatusPost',i)\n        //             }\n        //         }\n        //         this.$store.commit('setTempUserReset')\n        //     }\n        // },\n        // handleShowEmailVerified(){\n        //     if(!this.EmainVerified){}\n        //     this.showEmailVerified = false\n        //     }\n        // },\n        goCommunityAccount(){\n            router.push(\"/board/account\")\n        },      \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"style/_variables.scss\";\n// @import 'cropperjs/dist/cropper.css';\n.account-wrapper{\n    display: flex;\n    justify-content: center;\n    // min-height: 10vh;\n    // height: 110vh;\n    .main-wrapper{\n        .content-wrapper{\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            .my-quiz-wrapper{\n                position: relative;\n                height: 30px;\n                width: 100%;\n                margin-top: 1rem;\n                margin-bottom: 0.5rem;\n                .my-quiz{\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    margin: auto;\n                    padding-right: 0.6rem;\n                    padding-left: 0.6rem;\n                    border: solid $base-color;\n                    // background: $buttongradient;\n                    font-weight: bold;\n                    color: $lite-gray;\n                    border-radius: 5px;\n                    width: 90px;\n                    transition: .5s;\n\n                }\n                .my-quiz:hover{\n                    color: $dark-blue;\n                    border: solid $dark-blue;\n                    background: $buttongradient;\n                }\n            }\n            .cropper-wrapper{\n                display: flex;\n                position:relative;\n                justify-content: center;\n                margin-top: 0.5rem;\n                width: 13rem;\n                img{\n                    border-radius: 50%; \n                    width:  5rem;   \n                    height: 5rem;       \n                }\n                .change-img{\n                    position: absolute;\n                    right: 0;\n                    color: white;\n                    font-size: 0.8rem;\n                    border: solid transparent;\n                    border-radius: 5px;\n                    padding-left: 0.3rem;\n                    padding-right: 0.3rem;\n                    margin-left: 1rem;\n                    transition: .5s;\n                }\n                .change-img:hover{\n                    border: solid $lite-gray;\n\n                }\n            }\n            .notification-container{\n                position: relative;\n                display: flex;\n                justify-content: center;\n                width: 100%;\n                .alert-position-container{\n                    width:70%;\n                    border: solid $base-color;\n                    min-height: 3rem;\n                    background: $back-white;\n                    margin-top: 1rem;\n                    margin-bottom: 1rem;\n                    .notification-alert{\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    margin-right: 0.9rem;\n                    padding-right: 0.5rem;\n                    padding-left: 0.5rem;\n                    color: $back-white;\n                    font-weight: bold;\n                    border: solid $dark-blue;\n                    border-radius: 50vh;\n                    background:rgba(252, 75, 175, 0.961); \n                    }\n                }\n            }\n            .user-info-wrapper{\n                margin-top: 1rem;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                width: 100%;\n                .user-container{\n                    display: flex;\n                    border: 0.1rem solid $dark-blue;\n                    background: $back-white;\n                    border-radius: 0.5rem;\n                    width: 80%;\n                    min-height: 3rem;\n                    margin-bottom: 0.5rem;\n                    overflow: hidden;\n                    .left-side{\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        flex-basis: 30%;\n                        background: $base-color;\n                        border-right: 0.1rem solid $dark-blue;\n                        line-height: 0.8rem;\n                        color: white;\n                        font-weight: bold;\n                        font-size: 1.1rem;                      \n                    }\n                    .right-side{\n                        position: relative;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        flex-basis: 70%;\n                        width:70%;\n                        font-size: 1.2rem;\n                        font-weight: bold;\n                        // overflow-wrap: break-all;                        \n                    }\n                    .grade-right-side{\n                        position: relative;\n                        display: flex;\n                        justify-content: center;\n                        .current-level-text{\n                            display: flex;\n                            justify-content: center;\n                            align-items: flex-end;\n                        }\n                        // .max-level{\n                        //     position: absolute;\n                        //     color: rgba(252, 75, 175, 0.961); \n                        //     right: 0;\n                        //     top: 0;\n                        //     font-size: 0.7rem;\n                        //     margin-right: 0.2rem;\n                        // }\n                    }\n                }\n                .next-level{\n                    position: relative;\n                    margin: 2em 0;\n                    padding: 0.5em 1em;\n                    width: 70%;\n                    border: solid 3px #62c1ce;\n                    background: $base-white;\n                    .next-title{\n                        position: absolute;\n                        display: inline-block;\n                        top: -27px;\n                        left: -3px;\n                        padding: 0 9px;\n                        height: 25px;\n                        line-height: 25px;\n                        font-size: 17px;\n                        background: #62c1ce;\n                        color: #ffffff;\n                        font-weight: bold;\n                        border-radius: 5px 5px 0 0;\n                    }\n                    p{\n                        color: $dark-blue;\n                        font-weight: bold;\n                        margin: 0; \n                        padding: 0;\n                    }\n                }\n                .next-grade-up{\n                    position: relative;\n                    margin: 2em 0;\n                    padding: 0.5em 1em;\n                    width: 70%;\n                    background: $base-white;\n                    border: solid 3px rgb(236, 113, 181);\n                    .grade-up{\n                        position: absolute;\n                        display: inline-block;\n                        top: -27px;\n                        left: -3px;\n                        padding: 0 9px;\n                        height: 25px;\n                        line-height: 25px;\n                        font-size: 17px;\n                        color: #ffffff;\n                        font-weight: bold;\n                        border-radius: 5px 5px 0 0;\n                        background: rgb(236, 113, 181);\n                    }\n                    p{\n                        animation: flash 2.5s linear infinite;\n                        color: $dull-red;\n                        font-weight: bold;\n                        margin: 0; \n                        padding: 0;\n                    }\n                    .stop{\n                        animation: none;\n                    }\n                }\n            }\n            .status-wrapper{\n                .chart-loop{\n                    display: inline-block;\n                    .chart-header:hover{\n                        background:rgba(255, 6, 6, 0.2);\n                        font-weight: bold;\n                    }\n                    .chart-header{\n                        border: solid $base-color;\n                        border-radius: 5px;\n                        margin-right: 0.3rem;\n                        margin-left: 0.3rem;\n                        padding-right: 0.7rem;\n                        padding-left: 0.7rem;\n                        padding-top: 0.1rem;\n                        padding-bottom: 0.1rem;\n                        color: white;\n                        transition: .5s;\n                        // font-weight: bold;\n                    }\n                    .current-status-grade{\n                        background:$base-color-tr;\n                        font-weight: bold;\n                        border: solid $dull-red;\n                    }\n                }\n            }\n            .comunity-account{\n                color: white;\n                cursor : pointer;\n                border: solid rgba(0, 0, 0, 0);\n                padding: 1rem;\n                transition: 0.5s;\n                \n            }\n            .comunity-account:hover{\n                border: solid gray;\n                color: gray; \n                padding: 1rem;\n            }\n        }\n    }\n}\n@keyframes flash {\n  0%,100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0;\n  }\n}\n\n\n\n    .main-image{\n        width:15%;\n        height:auto;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .main-text1{\n        font-size:1rem;\n        font-weight: bold;\n        margin:2rem;\n    }\n    img {\n        border-radius: 50%; \n        width:  5rem;   \n        height: 5rem;       \n    }\n    .cropper-view-box,\n    .cropper-face {\n      border-radius: 50%;\n      cursor: grab;\n      outline: initial;\n    }\n    .cropper-face:active {\n      cursor: grabbing;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}