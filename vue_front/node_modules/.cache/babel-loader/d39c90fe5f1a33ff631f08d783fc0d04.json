{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-a6a9d892\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"l-wrapper\"\n};\nvar _hoisted_2 = {\n  class: \"l-container\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"title-blue\"\n  }, [/*#__PURE__*/_createElementVNode(\"p\", null, \"質問文\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = {\n  class: \"question-title\"\n};\nvar _hoisted_5 = {\n  class: \"question-discription\"\n};\n\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"line\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_7 = {\n  class: \"answer-wraper\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", {\n    class: \"title-blue\"\n  }, \"回答文\", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_9 = {\n  class: \"button-group\"\n};\nvar _hoisted_10 = [\"disabled\"];\n\nvar _hoisted_11 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"notification-text\"\n  }, \" 文章を入力してください。 \", -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_12 = [_hoisted_11];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    class: \"form\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers(function () {\n      return $options.addAnswer && $options.addAnswer.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, _toDisplayString($props.questionTitle), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, _toDisplayString($props.questionDescription), 1\n  /* TEXT */\n  )]), _hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-text\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.description = $event;\n    }),\n    placeholder: \"回答\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.description]])]), _createCommentVNode(\" <div class=\\\"image\\\">\\n                    <i class=\\\"fas fa-camera\\\"></i>\\n                    <p>写真を添付</p>\\n                </div> \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", {\n    class: \"cancel\",\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.$emit('handleShowAnswerPage');\n    })\n  }, \"キャンセル\"), _createElementVNode(\"button\", {\n    class: \"btn-tr-black-base-sq\",\n    disabled: $data.alert\n  }, \"回答する\", 8\n  /* PROPS */\n  , _hoisted_10)])], 32\n  /* HYDRATE_EVENTS */\n  ), $data.alert ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass({\n      'notification-red': $data.alert\n    })\n  }, _hoisted_12, 2\n  /* CLASS */\n  )) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":";;;;;;;;;EACUA,KAAK,EAAC;;;EACHA,KAAK,EAAC;;;;sBACPC,oBAEM,KAFN,EAEM;IAFDD,KAAK,EAAC;EAEL,CAFN,EAAuB,cAClBC,oBAAU,GAAV,EAAU,IAAV,EAAG,KAAH,CADkB,CAAvB;;EAAA;;;;EAKSD,KAAK,EAAC;;;EAGNA,KAAK,EAAC;;;;sBAIXC,oBAAwB,KAAxB,EAAwB;IAAnBD,KAAK,EAAC;EAAa,CAAxB,EAAiB,IAAjB,EAAiB;EAAA;EAAjB;;;;EAEKA,KAAK,EAAC;;;;sBACPC,oBAA6B,GAA7B,EAA6B;IAA1BD,KAAK,EAAC;EAAoB,CAA7B,EAAsB,KAAtB,EAAyB;EAAA;EAAzB;;;;EAOCA,KAAK,EAAC;;;;;sBAOXC,oBAEM,KAFN,EAEM;IAFDD,KAAK,EAAC;EAEL,CAFN,EAA+B,gBAA/B,EAEA;EAAA;EAFA;;;mBAAAE;;uBA/BXC,oBAoCK,KApCL,cAoCK,CAnCFF,oBAkCM,KAlCN,cAkCM,CAjCFG,UAiCE,EA7BFH,oBAuBO,MAvBP,EAuBO;IAvBDD,KAAK,EAAC,MAuBL;IAvBaK,QAAM;MAAA,OAAUC,mEAAV;IAAA,GAAmB,WAAnB;EAuBnB,CAvBP,GACIL,oBAEM,KAFN,cAEM,CADFA,oBAA0B,GAA1B,EAA0B,IAA1B,EAA0BM,iBAApBC,oBAAoB,CAA1B,EAAmB;EAAA;EAAnB,CACE,CAFN,GAGAP,oBAEM,KAFN,cAEM,CADFA,oBAAgC,GAAhC,EAAgC,IAAhC,EAAgCM,iBAA1BC,0BAA0B,CAAhC,EAAyB;EAAA;EAAzB,CACE,CAFN,GAIAC,YAEAR,oBAGM,KAHN,cAGM,CAFFS,UAEE,kBADFT,oBAA0F,UAA1F,EAA0F;IAAhFD,KAAK,EAAC,WAA0E;IAA9DW,IAAI,EAAC,MAAyD;;aAAzCC,oBAAWC;MAA8B;IAA5BC,WAAW,EAAC;EAAgB,CAA1F;;EAAA,kBAAiDF,oBAC/C,CAHN,GAIAG,+JAIAd,oBAIM,KAJN,cAIM,CAHFA,oBAAkE,GAAlE,EAAkE;IAA/DD,KAAK,EAAC,QAAyD;IAA/CgB,OAAK;MAAA,OAAEC,WAAK,sBAAL,CAAF;IAAA;EAA0C,CAAlE,EAAyD,OAAzD,CAGE,EAFFhB,oBAC+B,QAD/B,EAC+B;IADvBD,KAAK,EAAC,sBACiB;IAA9BkB,QAAQ,EAAEN;EAAoB,CAD/B,EACkB,MADlB,EACsB;EAAA;EADtB,EACsBO,WADtB,CAEE,CAJN,EAlBJ;;EAAA,CA6BE,EALSP,6BAAXT,oBAIM,KAJN,EAIM;UAAA;IAJaH,KAAK;MAAA,oBAAsBY;IAAtB;EAIlB,CAJN;;EAAA,sCAKE,CAlCN,CAmCE,CApCL","names":["class","_createElementVNode","_hoisted_11","_createElementBlock","_hoisted_3","onSubmit","$options","_toDisplayString","$props","_hoisted_6","_hoisted_8","type","$data","$event","placeholder","_createCommentVNode","onClick","_ctx","disabled","_hoisted_10"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/board/Answer.vue"],"sourcesContent":["<template>\n     <div class=\"l-wrapper\">\n        <div class='l-container'>\n            <div class=\"title-blue\">\n                 <p>質問文</p>\n            </div>\n            \n            <form class=\"form\" @submit.prevent='addAnswer'>\n                <div class=\"question-title\">\n                    <p>{{ questionTitle }}</p>\n                </div>\n                <div class=\"question-discription\">\n                    <p>{{ questionDescription }}</p>\n                </div>\n\n                <div class=\"line\"></div>\n\n                <div class=\"answer-wraper\">\n                    <p class=\"title-blue\">回答文</p>\n                    <textarea class='form-text' type=\"text\" v-model='description' placeholder=\"回答\"></textarea>\n                </div>\n                <!-- <div class=\"image\">\n                    <i class=\"fas fa-camera\"></i>\n                    <p>写真を添付</p>\n                </div> -->\n                <div class=\"button-group\">\n                    <p class=\"cancel\" @click=\"$emit('handleShowAnswerPage')\">キャンセル</p>\n                    <button class=\"btn-tr-black-base-sq\" \n                    :disabled=\"alert\">回答する</button>\n                </div>\n            </form>\n            <div v-if=\"alert\" :class=\"{'notification-red':alert}\">\n                <div class=\"notification-text\">\n                    文章を入力してください。\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            description:'',\n            alert: false\n        }\n    },\n    props:[\n        'questionDescription',\n        'questionTitle',\n        'questionId',\n        'handleNotifications'\n    ],\n    mounted(){\n        console.log('answerMounted',this.questionId)\n        this.$store.commit('showModalTrue')\n    },\n    beforeUnmount(){\n        this.$store.commit('showModalFalse')\n    },\n    methods:{\n        resetNotifications(){\n            this.alert = false\n        },\n        descriptionCheck(){\n             if(this.description==''){\n                 this.alert = true\n                 setTimeout(this.resetNotifications, 3000)\n             }\n         },\n        async answerPost(){\n            console.log(\"this.questionId\",this.questionId)\n            await axios({\n                method: 'post',\n                url: '/api/board/answer/create',\n                data: {\n                    description: this.description,\n                    user: this.$store.state.signup.user.uid,\n                    question: this.questionId,\n                    liked_answer:[]\n                }\n            })\n        },\n        async addAnswer(){\n            this.descriptionCheck()\n            console.log('start add')\n            if(this.alert==false){\n               await this.answerPost()\n                this.$emit('getDetail')\n                this.$store.dispatch(\"handleNotifications\", 'answer')\n                this.$emit('handleShowAnswerPage')\n                console.log(\"end_answer\",this.$store.state.board.notifications)\n            }\n            //   this.$router.go({path: this.$router.currentRoute.path, force: true})\n         },\n    }\n}\n</script>\n\n<style scoped lang='scss'>\n@import \"style/_variables.scss\";\n.l-container{\n    animation: l-container 3s;\n    display: flex;\n    flex-direction: column;\n    // justify-content: center;\n    align-items: center;\n    position:relative;\n    .title-blue{\n        margin: 2rem;\n    }\n    .form{\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        align-items: center;\n        .question-discription{\n            width:90%;\n            height: 100px;\n            background: rgb(228, 228, 228);\n            margin-top: 1rem;\n            padding: 0.5rem;\n            text-align: left;\n            white-space: pre-wrap;\n            overflow-y: scroll;\n\n        }\n        .line{\n            width: 80%;\n            border-bottom: 0.2rem solid $dark-blue;\n            margin-top: 2rem;\n            margin-bottom: 2rem;\n        }\n        .answer-wraper{\n            width: 100%;\n            .title-blue{\n                margin: 0;\n            }\n            .form-text{\n                background: $back-white;\n                padding: 1rem;\n                width: 80%;\n                height:10rem;\n                border: 0.1rem solid $base-color;\n                border-radius: 1vh;\n                resize: none;\n                transition: .5s;\n            }\n            .form-text:focus{\n                outline: none;\n                border: solid $middle-blue;\n            }\n        }\n        .image{\n            width:80%;\n            display:flex;\n            // align-items: left;  \n            margin:1rem;\n            // justify-content: flex-start;\n        }\n        .button-group{\n            width: 80%;\n            display:flex;\n            margin:1rem;\n            justify-content: flex-end;\n            .cancel{\n                border: solid $lite-gray;\n                padding: 0.5rem;\n                transition: 0.5s;\n            }\n            .cancel:hover{\n                background: rgb(196, 195, 195);\n            }\n            .btn-tr-black-base-sq{\n                margin-left: 0.8rem;\n                padding-right: 0.7rem;\n                padding-left: 0.7rem;\n                transition: 0.5s;\n            }\n            .btn-tr-black-base-sq:hover{\n                background: $base-color;\n                color: white;\n                font-weight: bold;\n            }\n        }\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}