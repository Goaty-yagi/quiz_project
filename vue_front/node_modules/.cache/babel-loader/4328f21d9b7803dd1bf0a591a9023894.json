{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport 'cropperjs/dist/cropper.css';\nimport Thumbnail from '@/components/account/Thumbnail.vue';\nimport Sent from '@/components/signin/Sent.vue';\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  setup: function setup() {\n    var store = useStore();\n    return {\n      user: computed(function () {\n        return store.state.signup.user;\n      }),\n      email: computed(function () {\n        return store.state.signup.email;\n      }),\n      password: computed(function () {\n        return store.state.signup.password;\n      }),\n      emailVerified: computed(function () {\n        return store.state.signup.emailVerified;\n      })\n    };\n  },\n  data: function data() {\n    return {\n      showSent: false,\n      error: '',\n      userData: '',\n      showThumbnail: false\n    };\n  },\n  components: {\n    Sent: Sent,\n    Thumbnail: Thumbnail\n  },\n  mounted: function mounted() {\n    console.log('account mounted', this.$route.params.uid);\n    this.getUserData();\n  },\n  methods: {\n    getUserData: function getUserData() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"/api/user/\".concat(_this.$route.params.uid)).then(function (response) {\n                  _this.userData = response.data;\n                  console.log('inGet', _this.userData);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    resent: function resent() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch('sendEmailVerify');\n\n              case 3:\n                _this2.handleShowSent();\n\n                console.log('showsent:', _this2.showSent);\n                _context2.next = 11;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                _this2.error = _context2.t0;\n                console.log(_this2.error);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    },\n    handleShowSent: function handleShowSent() {\n      this.showSent = true;\n    },\n    handleShowThumbnail: function handleShowThumbnail() {\n      this.showThumbnail = true;\n    }\n  }\n};","map":{"version":3,"mappings":";;AA2BA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,4BAAP;AACA,OAAQC,SAAR,MAAuB,oCAAvB;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,SAASC,QAAT,QAAyB,KAAzB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,eAAc;EACZC,KADY,mBACL;IACL,IAAMC,KAAI,GAAIF,QAAQ,EAAtB;IACA,OAAM;MACJG,IAAI,EAAEJ,QAAQ,CAAC;QAAA,OAAMG,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBF,IAAzB;MAAA,CAAD,CADV;MAEJG,KAAK,EAAEP,QAAQ,CAAC;QAAA,OAAMG,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBC,KAAzB;MAAA,CAAD,CAFX;MAGJC,QAAQ,EAAER,QAAQ,CAAC;QAAA,OAAMG,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBE,QAAzB;MAAA,CAAD,CAHd;MAIJC,aAAa,EAAET,QAAQ,CAAC;QAAA,OAAMG,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBG,aAAzB;MAAA,CAAD;IAJnB,CAAN;EAMD,CATW;EAUZC,IAVY,kBAUN;IACJ,OAAM;MACJC,QAAQ,EAAC,KADL;MAEJC,KAAK,EAAC,EAFF;MAGJC,QAAQ,EAAC,EAHL;MAIJC,aAAa,EAAC;IAJV,CAAN;EAMD,CAjBW;EAkBZC,UAAU,EAAE;IACVhB,IAAI,EAAJA,IADU;IAEVD,SAAQ,EAARA;EAFU,CAlBA;EAsBZkB,OAtBY,qBAsBH;IACPC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8B,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,GAAjD;IACA,KAAKC,WAAL;EACD,CAzBW;EA0BZC,OAAO,EAAC;IACED,WADF,yBACe;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACTzB,KAAI,CACP2B,GADG,qBACc,KAAI,CAACL,MAAL,CAAYC,MAAZ,CAAmBC,GADjC,GAEHI,IAFG,CAEE,kBAAO,EAAK;kBACd,KAAI,CAACZ,QAAL,GAAgBa,QAAQ,CAAChB,IAAzB;kBACAO,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAI,CAACL,QAA1B;gBACC,CALD,EAMHc,KANG,CAMG,eAAI,EAAK;kBACZV,OAAO,CAACC,GAAR,CAAYN,KAAZ;gBACC,CARD,CADS;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUZ,CAXH;IAYAgB,MAZA,oBAYQ;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEE,MAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,iBAArB,CAFF;;cAAA;gBAGJ,MAAI,CAACC,cAAL;;gBACAd,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwB,MAAI,CAACP,QAA7B;gBAJI;gBAAA;;cAAA;gBAAA;gBAAA;gBAMN,MAAI,CAACC,KAAL;gBACAK,OAAO,CAACC,GAAR,CAAY,MAAI,CAACN,KAAjB;;cAPM;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASb,CArBK;IAsBNmB,cAtBM,4BAsBU;MACd,KAAKpB,QAAL,GAAgB,IAAhB;IACD,CAxBK;IAyBNqB,mBAzBM,iCAyBe;MACjB,KAAKlB,aAAL,GAAqB,IAArB;IACJ;EA3BM;AA1BI,CAAd","names":["axios","Thumbnail","Sent","computed","useStore","setup","store","user","state","signup","email","password","emailVerified","data","showSent","error","userData","showThumbnail","components","mounted","console","log","$route","params","uid","getUserData","methods","get","then","response","catch","resent","$store","dispatch","handleShowSent","handleShowThumbnail"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/views/Account.vue"],"sourcesContent":["<template>\n  <div class=\"account-wrapper\">\n    <!-- <div v-if='emailVerified==false'>\n        <div class='main-notification-wrapper'>\n            <div class='main-notice-wrapper'>\n                <img class='main-image' src=\"@/assets/logo.png\">\n                <p class='main-text1'>メール承認が完了していません。</p>\n                <p class='main-text1'>メール承認を完了してください。</p>\n                <button @click='resent' onclick=\"disabled = true\" class='main-text1'>承認メールを送る。</button>                      \n            </div>\n        </div>\n      </div> -->\n      <Sent v-show='showSent'/>\n      <Thumbnail v-if=\"showThumbnail\"/>\n      <div class='account'  v-if='this.$store.state.signup.emailVerified'>\n        <p>accountdayo</p>\n        <div class=\"cropper-wrapper\">\n            <img v-bind:src=\"userData.thumbnail\"/>\n            <p @click='handleShowThumbnail'>画像を変更する</p>\n        </div>\n        <p> Username {{ userData.name}}</p>\n        <p> grade {{ userData.grade}}</p>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport 'cropperjs/dist/cropper.css';\nimport  Thumbnail from '@/components/account/Thumbnail.vue'\nimport Sent from '@/components/signin/Sent.vue'\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nexport default{\n  setup(){\n    const store = useStore()\n    return{\n      user: computed(() => store.state.signup.user),\n      email: computed(() => store.state.signup.email),\n      password: computed(() => store.state.signup.password),\n      emailVerified: computed(() => store.state.signup.emailVerified),\n    }\n  },\n  data(){\n    return{\n      showSent:false,\n      error:'',\n      userData:'',\n      showThumbnail:false\n    }\n  },\n  components: {\n    Sent,\n    Thumbnail\n  },\n  mounted(){\n    console.log('account mounted',this.$route.params.uid)\n    this.getUserData()\n  },\n  methods:{\n      async getUserData(){\n          await axios\n            .get(`/api/user/${this.$route.params.uid}`)\n            .then(response => {\n                this.userData = response.data\n                console.log('inGet', this.userData)\n                })\n            .catch(error => {\n                console.log(error)\n                })\n            },\n    async resent(){\n          try{\n              await this.$store.dispatch('sendEmailVerify')\n              this.handleShowSent()\n              console.log('showsent:',this.showSent)\n          }catch(err){\n            this.error = err\n            console.log(this.error)\n          }\n    },\n    handleShowSent(){\n      this.showSent = true\n    },\n    handleShowThumbnail(){\n        this.showThumbnail = true\n    }        \n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"style/_variables.scss\";\n// @import 'cropperjs/dist/cropper.css';\n.main-notification-wrapper{\n        top:0;\n        position: fixed;\n        background:rgba(0,0,0,0.5);\n        width:100vw;\n        height:100vh;\n        flex-direction: column;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .main-notice-wrapper{\n        border: solid $base-color;\n        border-radius: 2vh;\n        background:$back-white;\n        text-align: center;       \n        position:relative;\n        padding-top:1.5rem;\n        height:30rem;\n        width: 20rem;\n        }\n    .main-image{\n        width:15%;\n        height:auto;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .main-text1{\n        font-size:1rem;\n        font-weight: bold;\n        margin:2rem;\n    }\n    img {\n        border-radius: 50%; \n        width:  5rem;   \n        height: 5rem;       \n    }\n    .cropper-view-box,\n    .cropper-face {\n      border-radius: 50%;\n      cursor: grab;\n      outline: initial;\n    }\n    .cropper-face:active {\n      cursor: grabbing;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}