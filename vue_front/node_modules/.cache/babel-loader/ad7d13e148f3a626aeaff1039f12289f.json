{"remainingRequest":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/babel-loader/lib/index.js!/Users/ossan/git-clone/quiz_project/vue_front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ossan/git-clone/quiz_project/vue_front/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/ossan/git-clone/quiz_project/vue_front/src/components/board/Answer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ossan/git-clone/quiz_project/vue_front/src/components/board/Answer.vue","mtime":1646376268553},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/babel.config.js","mtime":1643442797713},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9vc3Nhbi9naXQtY2xvbmUvcXVpel9wcm9qZWN0L3Z1ZV9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGFsZXJ0OiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiBbJ3F1ZXN0aW9uRGVzY3JpcHRpb24nLCAncXVlc3Rpb25UaXRsZScsICdxdWVzdGlvbklkJywgJ2hhbmRsZU5vdGlmaWNhdGlvbnMnXSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coJ2Fuc3dlck1vdW50ZWQnLCB0aGlzLnF1ZXN0aW9uSWQpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXROb3RpZmljYXRpb25zOiBmdW5jdGlvbiByZXNldE5vdGlmaWNhdGlvbnMoKSB7CiAgICAgIHRoaXMuYWxlcnQgPSBmYWxzZTsKICAgIH0sCiAgICBkZXNjcmlwdGlvbkNoZWNrOiBmdW5jdGlvbiBkZXNjcmlwdGlvbkNoZWNrKCkgewogICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbiA9PSAnJykgewogICAgICAgIHRoaXMuYWxlcnQgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQodGhpcy5yZXNldE5vdGlmaWNhdGlvbnMsIDMwMDApOwogICAgICB9CiAgICB9LAogICAgYW5zd2VyUG9zdDogZnVuY3Rpb24gYW5zd2VyUG9zdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInRoaXMucXVlc3Rpb25JZCIsIF90aGlzLnF1ZXN0aW9uSWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9ib2FyZC9hbnN3ZXIvY3JlYXRlJywKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICB1c2VyOiBfdGhpcy4kc3RvcmUuc3RhdGUuc2lnbnVwLnVzZXIudWlkLAogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiBfdGhpcy5xdWVzdGlvbklkLAogICAgICAgICAgICAgICAgICAgIGxpa2VkX2Fuc3dlcjogW10KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRBbnN3ZXI6IGZ1bmN0aW9uIGFkZEFuc3dlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmRlc2NyaXB0aW9uQ2hlY2soKTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3RhcnQgYWRkJyk7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmFsZXJ0ID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYW5zd2VyUG9zdCgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ2dldERldGFpbCcpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImhhbmRsZU5vdGlmaWNhdGlvbnMiLCAnYW5zd2VyJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdoYW5kbGVTaG93QW5zd2VyUGFnZScpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlbmRfYW5zd2VyIiwgX3RoaXMyLiRzdG9yZS5zdGF0ZS5ib2FyZC5ub3RpZmljYXRpb25zKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/board/Answer.vue"],"names":[],"mappings":";;;;AAyCA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IADW,kBACL;AACF,WAAM;AACF,MAAA,WAAW,EAAC,EADV;AAEF,MAAA,KAAK,EAAE;AAFL,KAAN;AAIH,GANU;AAOX,EAAA,KAAK,EAAC,CACF,qBADE,EAEF,eAFE,EAGF,YAHE,EAIF,qBAJE,CAPK;AAaX,EAAA,OAbW,qBAaF;AACL,IAAA,OAAO,CAAC,GAAR,CAAY,eAAZ,EAA4B,KAAK,UAAjC;AACH,GAfU;AAgBX,EAAA,OAAO,EAAC;AACJ,IAAA,kBADI,gCACgB;AAChB,WAAK,KAAL,GAAa,KAAb;AACH,KAHG;AAIJ,IAAA,gBAJI,8BAIc;AACb,UAAG,KAAK,WAAL,IAAkB,EAArB,EAAwB;AACpB,aAAK,KAAL,GAAa,IAAb;AACA,QAAA,UAAU,CAAC,KAAK,kBAAN,EAA0B,IAA1B,CAAV;AACJ;AACH,KATE;AAUE,IAAA,UAVF,wBAUc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,gBAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA8B,KAAI,CAAC,UAAnC;AADc;AAAA,uBAER,KAAK,CAAC;AACR,kBAAA,MAAM,EAAE,MADA;AAER,kBAAA,GAAG,EAAE,0BAFG;AAGR,kBAAA,IAAI,EAAE;AACF,oBAAA,WAAW,EAAE,KAAI,CAAC,WADhB;AAEF,oBAAA,IAAI,EAAE,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,MAAlB,CAAyB,IAAzB,CAA8B,GAFlC;AAGF,oBAAA,QAAQ,EAAE,KAAI,CAAC,UAHb;AAIF,oBAAA,YAAY,EAAC;AAJX;AAHE,iBAAD,CAFG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYjB,KAtBG;AAuBE,IAAA,SAvBF,uBAuBa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,gBAAA,MAAI,CAAC,gBAAL;;AACA,gBAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;;AAFa,sBAGV,MAAI,CAAC,KAAL,IAAY,KAHF;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIJ,MAAI,CAAC,UAAL,EAJI;;AAAA;AAKT,gBAAA,MAAI,CAAC,KAAL,CAAW,WAAX;;AACA,gBAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,qBAArB,EAA4C,QAA5C;;AACA,gBAAA,MAAI,CAAC,KAAL,CAAW,sBAAX;;AACA,gBAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAAyB,MAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,KAAlB,CAAwB,aAAjD;;AARS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWf;AAlCE;AAhBG,CAAf","sourcesContent":["<template>\n     <div class=\"l-wrapper\">\n        <div class='l-container'>\n            <div class=\"title-black\">\n                 <p>質問文</p>\n            </div>\n            \n            <form class=\"form\" @submit.prevent='addAnswer'>\n                <div class=\"question-title\">\n                    <p>{{ questionTitle }}</p>\n                </div>\n                <div class=\"question-discription\">\n                    <p>{{ questionDescription }}</p>\n                </div>\n\n                <div class=\"line\"></div>\n\n                <div class=\"answer-wraper\">\n                    <p class=\"title-black\">回答文</p>\n                    <textarea class='form-text' type=\"text\" v-model='description' placeholder=\"回答\"></textarea>\n                </div>\n                <!-- <div class=\"image\">\n                    <i class=\"fas fa-camera\"></i>\n                    <p>写真を添付</p>\n                </div> -->\n                <div class=\"button-group\">\n                    <p @click=\"$emit('handleShowAnswerPage')\">キャンセル</p>\n                    <button class=\"btn-tr-black-base-sq\" \n                    :disabled=\"alert\">回答する</button>\n                </div>\n            </form>\n            <div v-if=\"alert\" :class=\"{'notification-red':alert}\">\n                <div class=\"notification-text\">\n                    文章を入力してください。\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            description:'',\n            alert: false\n        }\n    },\n    props:[\n        'questionDescription',\n        'questionTitle',\n        'questionId',\n        'handleNotifications'\n    ],\n    mounted(){\n        console.log('answerMounted',this.questionId)\n    },\n    methods:{\n        resetNotifications(){\n            this.alert = false\n        },\n        descriptionCheck(){\n             if(this.description==''){\n                 this.alert = true\n                 setTimeout(this.resetNotifications, 3000)\n             }\n         },\n        async answerPost(){\n            console.log(\"this.questionId\",this.questionId)\n            await axios({\n                method: 'post',\n                url: '/api/board/answer/create',\n                data: {\n                    description: this.description,\n                    user: this.$store.state.signup.user.uid,\n                    question: this.questionId,\n                    liked_answer:[]\n                }\n            })\n        },\n        async addAnswer(){\n            this.descriptionCheck()\n            console.log('start add')\n            if(this.alert==false){\n               await this.answerPost()\n                this.$emit('getDetail')\n                this.$store.dispatch(\"handleNotifications\", 'answer')\n                this.$emit('handleShowAnswerPage')\n                console.log(\"end_answer\",this.$store.state.board.notifications)\n            }\n            //   this.$router.go({path: this.$router.currentRoute.path, force: true})\n         },\n    }\n}\n</script>\n\n<style scoped lang='scss'>\n@import \"style/_variables.scss\";\n.l-container{\n    animation: l-container 3s;\n    display: flex;\n    flex-direction: column;\n    // justify-content: center;\n    align-items: center;\n    position:relative;\n    .title-black{\n        margin: 2rem;\n    }\n    .form{\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        // justify-content: center;\n        align-items: center;\n        .question-discription{\n            width:90%;\n            height: 100px;\n            background: rgb(228, 228, 228);\n            margin-top: 1rem;\n            padding: 0.5rem;\n            text-align: left;\n            white-space: pre-wrap;\n            overflow-y: scroll;\n\n        }\n        .line{\n            width: 80%;\n            border-bottom: 0.2rem solid $dark-blue;\n            margin-top: 2rem;\n            margin-bottom: 2rem;\n        }\n        .answer-wraper{\n            width: 100%;\n            .title-black{\n                margin: 0;\n            }\n            .form-text{\n                background: $back-white;\n                padding: 1rem;\n                width: 80%;\n                height:10rem;\n                border: 0.1rem solid $base-color;\n                border-radius: 1vh;\n                resize: none;\n            }\n        }\n        .image{\n            width:80%;\n            display:flex;\n            // align-items: left;  \n            margin:1rem;\n            // justify-content: flex-start;\n        }\n        .button-group{\n            width: 80%;\n            display:flex;\n            margin:1rem;\n            justify-content: flex-end;\n            .btn-tr-black-base-sq{\n                margin-left: 0.5rem;\n                padding-right: 0.5rem;\n                padding-left: 0.5rem;\n            }\n        }\n    }\n}\n</style>"],"sourceRoot":""}]}