{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-276280ee\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"quiz-info-section\"\n};\nvar _hoisted_2 = {\n  class: \"main-wrapper\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"lds-dual-ring\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = {\n  class: \"bar-wrapper\"\n};\nvar _hoisted_5 = {\n  class: \"chart-footer\"\n};\n\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    class: \"all-quizzes\"\n  }, [/*#__PURE__*/_createElementVNode(\"p\", {\n    class: \"all\"\n  }, \"ALL\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_7 = {\n  class: \"total\"\n};\nvar _hoisted_8 = {\n  class: \"each-title-container\"\n};\nvar _hoisted_9 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_bar = _resolveComponent(\"bar\");\n\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"is-loading-bar has-text-centered\", {\n      'is-loading': _ctx.$store.state.isLoading\n    }])\n  }, [_createCommentVNode(\" <i class=\\\"fas fa-cog\\\"></i> \"), _hoisted_3], 2\n  /* CLASS */\n  ), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_bar, {\n    \"chart-data\": $data.barChartData,\n    detail: $data.detail,\n    onBarChartDetail: $options.barChartDetail\n  }, null, 8\n  /* PROPS */\n  , [\"chart-data\", \"detail\", \"onBarChartDetail\"])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"p\", _hoisted_7, \"Total:\" + _toDisplayString($data.sumOfAllQuestions) + \" questions\", 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.quizNameId, function (quiz, index) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"title-loop\",\n      key: index\n    }, [_createElementVNode(\"p\", {\n      class: _normalizeClass([\"each-title\", {\n        'selected-title': $data.currentTitle == quiz.name\n      }]),\n      onClick: function onClick($event) {\n        return $options.barChartDetail(quiz.id - 1);\n      }\n    }, _toDisplayString(quiz.name), 11\n    /* TEXT, CLASS, PROPS */\n    , _hoisted_9)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createCommentVNode(\" <div v-if=\\\"!showCompo\\\" class='home-main-wrapper'> \"), _createCommentVNode(\" <div class=\\\"home-hero\\\">\\n                    <p class=\\\"hero-title\\\">楽しく学ぶ最高峰の日本語ラーニングコミュニティ</p>\\n                    <img @click=\\\"testClick\\\" class='hero-image' src=\\\"@/assets/logo.png\\\">\\n                    <div class=\\\"hero-paragraph-wrapper\\\">\\n                        <div class=\\\"paragraph-container\\\">\\n                            <p class=\\\"hero-paragraph\\\">自分のレベルに合った問題をクイズ形式で\\n                            解き、実力の確認ができるプラットフォーム。</p>\\n                            <chart\\n                            class=\\\"hero-image\\\"\\n                            :chart-data=\\\"chartData\\\"\\n                            />\\n                        </div>\\n                        <div class=\\\"paragraph-container\\\">\\n                            <i class=\\\"fas fa-comments hero-image\\\"></i>\\n                            <p class=\\\"hero-paragraph\\\">\\n                            分からないことはコミュニティで質問し、\\n                            世界中のユーザー同士が助け合い学び合う場。\\n                            </p>\\n                        </div>\\n                        <div v-if=\\\"!user\\\" class=\\\"test-button-wrapper\\\">\\n                            <div class='test-button' @click='componentHandler()'>実力テストを始める</div>\\n                        </div>\\n                        <div v-if=\\\"user\\\" class=registered-user>\\n                            <div class=\\\"hero-title\\\">\\n                                <p>１日１回実力テストに挑戦できるよ！</p>\\n                            </div>\\n                            <div class=\\\"paragraph-container\\\">\\n                                <div class=\\\"done-test\\\">\\n                                    本日の実力テストは終了しました\\n                                </div>\\n                                <i class=\\\"fas fa-gamepad  hero-image\\\"></i>\\n                            </div>\\n                            <div class=\\\"hero-title\\\">\\n                                <p>運営からのお知らせ</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div> \"), _createCommentVNode(\" </div>    \")])]);\n}","map":{"version":3,"mappings":";;;;;;;;EACaA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;;sBAGHC,oBAAiC,KAAjC,EAAiC;IAA5BD,KAAK,EAAC;EAAsB,CAAjC,EAA0B,IAA1B,EAA0B;EAAA;EAA1B;;;;EAECA,KAAK,EAAC;;;EAMNA,KAAK,EAAC;;;;sBACPC,oBAEM,KAFN,EAEM;IAFDD,KAAK,EAAC;EAEL,CAFN,EAAwB,cACpBC,oBAAsB,GAAtB,EAAsB;IAAnBD,KAAK,EAAC;EAAa,CAAtB,EAAe,KAAf,CADoB,CAAxB;;EAAA;;;;EAGGA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;;;uBAjBvBE,oBAoEU,SApEV,cAoEU,CAnEND,oBAkEM,KAlEN,cAkEM,CAjEFA,oBAGM,KAHN,EAGM;IAHDD,KAAK,mBAAC,kCAAD,EAAmC;MAAA,cAA8BG,YAAOC,KAAP,CAAaC;IAA3C,CAAnC;EAGJ,CAHN,GACIC,uDACAC,WAFJ;;EAAA,CAiEE,EA7DFN,oBAKM,KALN,cAKM,CAJFO,aAGkCC,cAHlC,EAGkC;IAFjC,cAAYC,kBAEqB;IADjCC,MAAM,EAAED,YACyB;IAAjCE,gBAAc,EAAEC;EAAiB,CAHlC;;EAAA,+CAIE,CALN,CA6DE,EAvDFZ,oBAcM,KAdN,cAcM,CAbFa,UAaE,EAVFb,oBAA0D,GAA1D,cAAiB,WAAMc,iBAAEL,uBAAF,CAAN,GAA2B,YAA5C,EAAsD;EAAA;EAAtD,CAUE,EATFT,oBAQM,KARN,cAQM,oBAPFC,oBAMMc,SANN,EAMM,IANN,EAMMC,YALqBJ,mBAKrB,EAL+B,UAAzBK,IAAyB,EAApBC,KAAoB,EAAf;yBADtBjB,oBAMM,KANN,EAMM;MANDF,KAAK,EAAC,YAML;MAJKoB,GAAG,EAAED;IAIV,CANN,GAGIlB,oBAE0D,GAF1D,EAE0D;MAFvDD,KAAK,mBAAC,YAAD,EAAa;QAAA,kBACSU,sBAAcQ,IAAI,CAACG;MAD5B,CAAb,EAEkD;MAArDC,OAAK;QAAA,OAAET,wBAAeK,IAAI,CAACK,EAAL,GAAO,CAAtB,CAAF;MAAA;IAAgD,CAF1D,mBAE0CL,IAAI,CAACG,KAF/C,EAEmD;IAAA;IAFnD,EAEmDG,UAFnD,EAHJ;GAMM,CANN;;EAAA,CAOE,EARN,CASE,CAdN,CAuDE,EAxCFlB,4EAwCE,EAvCEA,69DAuCF,EADFA,kCACE,CAlEN,CAmEM,CApEV","names":["class","_createElementVNode","_createElementBlock","_ctx","state","isLoading","_createCommentVNode","_hoisted_3","_createVNode","_component_bar","$data","detail","onBarChartDetail","$options","_hoisted_6","_toDisplayString","_Fragment","_renderList","quiz","index","key","name","onClick","id","_hoisted_9"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/dashboard/QuizInfo.vue"],"sourcesContent":["<template>\n    <section class='quiz-info-section'>\n        <div class=\"main-wrapper\">\n            <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading }\">\n                <!-- <i class=\"fas fa-cog\"></i> -->\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            <div class=\"bar-wrapper\">\n                <bar\n                :chart-data='barChartData'\n                :detail=\"detail\"\n                @barChartDetail=\"barChartDetail\"/>\n            </div>\n            <div class=\"chart-footer\">\n                <div class='all-quizzes'>\n                    <p class=\"all\">ALL</p>\n                </div>\n                <p class=\"total\">Total:{{sumOfAllQuestions}} questions</p>\n                <div class=\"each-title-container\">\n                    <div class=\"title-loop\"\n                        v-for=\"(quiz,index) in quizNameId\"\n                        v-bind:key=\"index\">\n                        <p class=\"each-title\" \n                            :class=\"{'selected-title':currentTitle==quiz.name}\"\n                            @click=\"barChartDetail(quiz.id-1)\">{{ quiz.name }}</p>\n                    </div>\n                </div>\n            </div>\n            <!-- <div v-if=\"!showCompo\" class='home-main-wrapper'> -->\n                <!-- <div class=\"home-hero\">\n                    <p class=\"hero-title\">楽しく学ぶ最高峰の日本語ラーニングコミュニティ</p>\n                    <img @click=\"testClick\" class='hero-image' src=\"@/assets/logo.png\">\n                    <div class=\"hero-paragraph-wrapper\">\n                        <div class=\"paragraph-container\">\n                            <p class=\"hero-paragraph\">自分のレベルに合った問題をクイズ形式で\n                            解き、実力の確認ができるプラットフォーム。</p>\n                            <chart\n                            class=\"hero-image\"\n                            :chart-data=\"chartData\"\n                            />\n                        </div>\n                        <div class=\"paragraph-container\">\n                            <i class=\"fas fa-comments hero-image\"></i>\n                            <p class=\"hero-paragraph\">\n                            分からないことはコミュニティで質問し、\n                            世界中のユーザー同士が助け合い学び合う場。\n                            </p>\n                        </div>\n                        <div v-if=\"!user\" class=\"test-button-wrapper\">\n                            <div class='test-button' @click='componentHandler()'>実力テストを始める</div>\n                        </div>\n                        <div v-if=\"user\" class=registered-user>\n                            <div class=\"hero-title\">\n                                <p>１日１回実力テストに挑戦できるよ！</p>\n                            </div>\n                            <div class=\"paragraph-container\">\n                                <div class=\"done-test\">\n                                    本日の実力テストは終了しました\n                                </div>\n                                <i class=\"fas fa-gamepad  hero-image\"></i>\n                            </div>\n                            <div class=\"hero-title\">\n                                <p>運営からのお知らせ</p>\n                            </div>\n                        </div>\n                    </div>\n                </div> -->\n            <!-- </div>    -->\n        </div>\n    </section>\n</template>\n\n<script>\nimport ConfettiExplosion from \"vue-confetti-explosion\";\nimport TestConf from '@/components/initial/TestConf.vue'\nimport Notification from '@/components/initial/Notification.vue'\nimport NotLogin from '@/components/login/NotLogin.vue'\nimport  Bar from '@/components/charts/Bar.vue'\nimport  Chart from '@/components/account/Chart.vue'\nimport axios from 'axios';\n// import Cookies from 'js-cookie'\n//  import { uuid } from 'vue-uuid';\nexport default {\n    name: 'Home',\n    components: {\n        TestConf,\n        Notification,\n        NotLogin,\n        Bar,\n        Chart,\n        ConfettiExplosion\n    },\n    data(){\n        return{\n            numOfQuestions:'',\n            detail: false,\n            fixedTitleArray:[],\n            currentTitle:'',\n            \n            field:'並び替え',\n            showCompo: false,\n            showNotLogin: false,\n            item:{status: 1,num:5,test:true},\n            test1:\"\",\n            slideIn:true,\n            slideOut:false,\n            // showChart:false,\n            backgroundColorList:[\n                'rgba(255, 153, 51, 0.2)',\n                'rgba(81, 255, 0, 0.2)',\n                'rgba(191, 0, 255, 0.2)',\n                'rgba(255, 6, 6, 0.2)',\n            ],\n            sumOfAllQuestions:'',\n            barChartData:{\n                labels: [],\n                datasets: [{ \n                    label: \"\",\n                    data: [],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(255, 159, 64, 0.2)',\n                        'rgba(255, 205, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(201, 203, 207, 0.2)'\n                        ],\n                    borderColor: [\n                    'rgb(255, 99, 132)',\n                    'rgb(255, 159, 64)',\n                    'rgb(255, 205, 86)',\n                    'rgb(75, 192, 192)',\n                    'rgb(54, 162, 235)',\n                    'rgb(153, 102, 255)',\n                    'rgb(201, 203, 207)'\n                    ],\n                }]\n            },\n            chartData: {\n                labels: [\"形容詞\",\"文法\",\"動詞\",\"語彙\",\"数字\"],\n                datasets: [{ \n                    label: \"\",\n                    data: [7,3,8,1,9],\n                    borderWidth:1,\n                    backgroundColor:'rgba(81, 255, 0, 0.2)',\n                    borderColor: ' #ff9933',\n                    pointBackgroundColor: 'rgb(255, 99, 132)',\n                    pointBorderColor: '#fff',\n                    pointHoverBackgroundColor: '#fff',\n                    pointHoverBorderColor: 'red'\n                }],\n            },\n        }\n    },\n    created() {\n        \n    },\n    mounted(){\n\n        this.getNumOfQuestions()\n        // this.test()\n        // this.reload()\n        // this.aaa()\n        // const regionNames = new Intl.DisplayNames(['jp'], { type: 'region' });\n        console.log('mounted',this.$store)\n        // this.scrollTop()\n        // this.setInitUserStatus()\n        // console.log('mounted',this.$store.state.signup.djangoUser)\n        // Cookies.set('unko','chinko')\n        // this.$store.dispatch(\"getAnsweredQuestion\")\n        // this.$store.dispatch(\"commitHandleOnReplyAndOnAnswer\")\n    },\n    computed:{\n        user(){\n            return this.$store.state.signup.djangoUser\n        },\n        tempUser(){\n            return this.$store.state.signup.tempUser\n        },\n        reccomendedQuestion(){\n            return this.$store.getters.gettersReccomendedQuestion\n        },\n        emailVerified(){\n            return this.$store.getters.getEmailVerified\n        },\n        tempUserTest(){\n            try{\n                return this.$store.state.signup.tempUser.test\n            }\n            catch{\n                return false\n            }\n        },\n        questions(){\n            return this.$store.getters.questions\n        },\n        quizNameId(){\n                    return this.$store.getters.quizNameId\n        },\n    },\n    methods:{\n        async getNumOfQuestions() {\n            try{\n                const response = await axios.get('/api/questions-dashboard/')\n                this.numOfQuestions = response.data[0]\n                console.log('data',this.numOfQuestions)\n                this.setBarChartData()\n            } catch {\n\n            }\n        },\n        setBarChartData() {\n            const tempList = []\n            for(let i of this.numOfQuestions.get_num_of_question.slice(0,this.numOfQuestions.get_num_of_question.length-1)) {\n                let title = Object.keys(i)[0]\n                this.barChartData.labels.push(title)\n                this.fixedTitleArray = this.barChartData.labels\n                tempList.push(i[title].sum)\n                this.barChartData.datasets[0].data = tempList\n            }\n            this.sumOfAllQuestions = this.numOfQuestions.get_num_of_question[this.numOfQuestions.get_num_of_question.length-1].all_questions_num\n        },\n        barChartDetail(index) {\n            for(let i of this.numOfQuestions.get_num_of_question.slice(0,this.numOfQuestions.get_num_of_question.length-1)) {\n                if(Object.keys(i)[0]==this.fixedTitleArray[index]){\n                    this.currentTitle = this.fixedTitleArray[index]\n                    console.log('C',this.currentTitle)\n                    this.barChartData.datasets[0].data= Object.values(i[this.fixedTitleArray[index]])\n                    this.barChartData.labels = Object.keys(i[this.fixedTitleArray[index]])\n                    this.detail = true\n                    \n                }\n            }\n        },\n        detailFalse() {\n            this.detail = false\n        },\n        // selectedBarChartDetail(index) {\n        // },\n        unko(){\n            console.log('clicked')\n            this.$store.commit('setTempUserNull')\n            // window.localStorage.removeItem('quizkey')\n            // return `/quiz/${this.status}`\n            },\n        componentHandler(){\n            if(this.tempUserTest){\n                this.handleShowNotLogin()\n            }\n            else{\n                this.showCompoHandler()\n            }\n        },\n        showCompoHandler(){\n        this.showCompo = !this.showCompo\n        },\n        handleShowNotLogin(){\n            this.showNotLogin = !this.showNotLogin\n        },\n        // async test(){\n        //     await axios\n        //     .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n        //     .then(response => {\n        //         this.test1 = response.data\n        //         console.log(this.test1.city)\n        //         })\n        //     .catch(error => {\n        //         console.log(error)\n        //     })      \n        // },\n        scrollTop(){\n            window.scrollTo({\n            top: 0,\n            // behavior: \"smooth\"\n            });\n        },\n        async setInitUserStatus(){\n            if(this.emailVerified){\n                if(this.$store.getters.getTempUser.test){\n                    this.$store.commit('setQuizTakerID',this.user.quiz_taker.id)\n                    this.$store.commit('setQuizID',this.$store.getters.getTempUser.grade)\n                    for(let i of this.$store.getters.getTempUser.statusList){\n                        await this.$store.dispatch('userStatusPost',i)\n                    }\n                }\n                this.$store.commit('setTempUserReset')\n            }\n        },\n        testClick(){\n            this.slideIn = !this.slideIn\n            this.slideOut = !this.slideOut\n        },\n        aaa(){\n            let b = document.getElementsByClassName('hero-title')\n            console.log('aaa',b,b.length)\n            b[2].style.backgroundColor = 'red'\n        }\n        // reload(){\n        //     console.log('reload_enter',this.$store.state.signup.beingException)\n        //     if(this.$store.state.signup.beingException){\n        //         console.log('reload_desu')\n        //         window.location.reload();\n        //     }\n        // }\n    }\n}       \n</script>\n<style scoped lang=\"scss\">\n@import \"style/_variables.scss\";\n\n.quiz-info-section{\n    width:100%;\n    // height: 100vh;\n    display: flex;\n    // justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    .main-wrapper{\n        // display: flex;\n        .bar-wrapper{\n\n        }\n        .chart-footer{\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            .all-quizzes{\n                color: white;\n                padding: 0 1rem;\n                margin: 0.5rem 0;\n                font-size: 1.2rem;\n                font-weight: bold;\n                border: solid $base-color;\n                border-radius: 50vh;\n                transition: .5s;\n                .all{\n\n                }                \n            }\n            .total{\n            color: white;\n            font-weight: bold;\n            margin-bottom: 0.5rem;\n            }\n            .each-title-container{\n                display: flex;\n                justify-content: center;\n                width: 100%;\n                .title-loop{\n                    .each-title{\n                        color: white;\n                        margin-left: 0.5rem;\n                        margin-right: 0.5rem;\n                        padding: 0 0.4rem;\n                        font-weight: bold;\n                        border: solid $base-color;\n                        transition: .5s;\n                    }.selected-title{\n                        color: $dark-blue;\n                        background: $base-color-tr;\n                        border: solid white;\n                    }\n                }\n\n            }\n        }\n    }\n}\n.hero-title{\n    border-top: 6px solid $base-color;\n    border-right: 1px solid $base-color;\n    border-left: 1px solid $base-color;\n    border-bottom: 1px solid $base-color;\n    // background: rgb(254, 254, 221);\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n    padding-right: 0.1rem;\n    padding-left: 0.1rem;\n    font-weight: bold;\n    font-size: 1.1rem;\n    color: white;\n\n}\n\n\n\n// @media(max-width: 1024px){\n\n//   }\n//   .home-section{\n//     width:100%;\n//     height: 100vh;\n//     // height:100%;\n//   }.wrapper{\n//     flex-direction: column;\n//     display: flex;\n//     justify-content: center;\n//     align-items: center;\n//     width:100%;\n//     // height:100%;\n//     // bottom:10%;\n//   }\n//   .is-image{\n//     width: 8rem;\n//     height: auto;\n//   }\n//   .home-text{\n//     font-size:2rem;\n//     color:white;\n//     font-weight: bold;\n//   }\n//   #or-button{\n//     border-radius: 100vh;\n//     border: 2px solid $base-color;\n//     margin:1rem;\n//     padding:0.4rem;\n//     background: transparent;\n//     color: $base-color;\n//     font-weight:bold;\n//     font-size: 1rem;\n//     transition:0.5s;\n//     }\n//     #or-button:hover{\n//       background: $base-color;\n//       color:white;\n//     }\n//     .home-conf{\n//       position:absolute;\n//       left:0;\n//     }\n.slide-in{\n\ttext-align: center;\n\topacity: 0;\n\tanimation: slide-in-anim 1.5s ease-out forwards;\n}\n.slide-out{\n    text-align: center;\n\topacity: 1;\n\tanimation: slide-out-anim 1.5s ease-out forwards;\n}\n\n@keyframes slide-in-anim {\n\t20% {\n\t\topacity: 0;\n        transform: translateX(-20%);\n\t}\n\t// 60% {\n\t// \ttransform: translateX(-10%);\n\t// }\n\t// 75% {\n\t// \ttransform: translateX(2%);\n\t// }\n\t100% {\n\t\topacity: 1;\n\t\ttransform: translateX(0);\n\t}\n}\n@keyframes slide-out-anim {\n\t20% {\n\t\topacity: 1;\n        transform: translateX(0);\n\t}\n\t// 60% {\n\t// \ttransform: translateX(-10%);\n\t// }\n\t// 75% {\n\t// \ttransform: translateX(2%);\n\t// }\n\t100% {\n\t\topacity: 0;\n\t\ttransform: translateX(-20%);\n        display: none;\n\t}\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}