{"ast":null,"code":"import _defineProperty from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _methods;\n\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport axios from 'axios';\nexport default {\n  props: ['loggers', 'currentTagIndex', 'nextUrl', 'noMoreUrl', 'urlForPatch'],\n  data: function data() {\n    return {\n      errorMessage: \"components/dashboard/LoggerDetail\",\n      DetailTagIndex: this.currentTagIndex,\n      logIdList: []\n    };\n  },\n  mounted: function mounted() {\n    this.ckeckedTrue();\n    this.$store.commit('showModalTrue');\n    console.log('mounted at detail', this.nextUrl);\n  },\n  beforeUnmount: function beforeUnmount() {\n    console.log('BU');\n    this.patchLogger();\n  },\n  computed: {\n    myQuiz: function myQuiz() {\n      return this.$store.state.signup.djangoUser.my_quiz[0];\n    }\n  },\n  methods: (_methods = {\n    close: function close() {\n      this.$emit('logDetailFalse');\n    },\n    next: function next(e) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('clicked', e);\n\n                if (!(_this.DetailTagIndex != _this.loggers.results.length - 1)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.DetailTagIndex += 1;\n\n                _this.ckeckedTrue();\n\n                _context.next = 11;\n                break;\n\n              case 6:\n                if (!(_this.nextUrl && _this.DetailTagIndex == _this.loggers.results.length - 1)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 9;\n                return _this.getNextLogger();\n\n              case 9:\n                _this.DetailTagIndex += 1;\n\n                _this.ckeckedTrue();\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    ckeckedTrue: function ckeckedTrue() {\n      console.log('checkedTrue', this.loggers.results, this.DetailTagIndex);\n\n      if (!this.loggers.results[this.DetailTagIndex].checked) {\n        this.loggers.results[this.DetailTagIndex].checked = true;\n        this.logIdList.push(this.loggers.results[this.DetailTagIndex].id);\n      }\n\n      console.log('true', this.loggers.results, this.logIdList);\n    },\n    back: function back() {\n      this.DetailTagIndex -= 1;\n      this.ckeckedTrue();\n    },\n    getNextLogger: function getNextLogger() {\n      this.$emit('getNextLogger');\n    },\n    noShow: function noShow(index) {\n      if (index == 0 || index == 5) {\n        console.log('true', index);\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, _defineProperty(_methods, \"getNextLogger\", function getNextLogger() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log('next');\n              _this2.loading = true;\n              _context2.next = 4;\n              return axios.get(_this2.nextUrl).then(function (response) {\n                console.log(response.data.results);\n                response.data.results.forEach(function (e) {\n                  _this2.loggers.results.push(e);\n                });\n                console.log('refs', _this2.$refs.child); // this.$refs.child.ckeckedTrue()\n\n                console.log('n', response.data.next);\n                _this2.nextUrl = response.data.next;\n              }).catch(function (e) {\n                var logger = {\n                  message: _this2.errorMessage + 'getLogger',\n                  path: window.location.pathname,\n                  actualErrorName: e.name,\n                  actualErrorMessage: e.message\n                };\n\n                _this2.$store.commit('setLogger', logger);\n\n                _this2.$store.commit(\"checkDjangoError\", e.message);\n\n                _this2.$store.commit('setIsLoading', false);\n\n                router.push({\n                  name: 'ConnectionError'\n                });\n              });\n\n            case 4:\n              _this2.loading = false;\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }), _defineProperty(_methods, \"patchLogger\", function patchLogger() {\n    var _this3 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this3.$store.commit('setIsLoading', true);\n\n              console.log(_this3.logIdList);\n\n              if (!_this3.logIdList.length) {\n                _context3.next = 5;\n                break;\n              }\n\n              _context3.next = 5;\n              return axios.patch(\"/api/loggers-patch?logList=\".concat(_this3.logIdList)).catch(function (e) {\n                var logger = {\n                  message: _this3.errorMessage + 'patchLogger',\n                  path: window.location.pathname,\n                  actualErrorName: e.name,\n                  actualErrorMessage: e.message\n                };\n\n                _this3.$store.commit('setLogger', logger);\n\n                _this3.$store.commit(\"checkDjangoError\", e.message);\n\n                _this3.$store.commit('setIsLoading', false);\n\n                router.push({\n                  name: 'ConnectionError'\n                });\n              });\n\n            case 5:\n              _this3.$store.commit('setIsLoading', false);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  }), _methods)\n};","map":{"version":3,"mappings":";;;;;;;;;AA8BA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACXC,KAAK,EAAC,CACF,SADE,EAEF,iBAFE,EAGF,SAHE,EAIF,WAJE,EAKF,aALE,CADK;EAQXC,IARW,kBAQL;IACF,OAAM;MACFC,YAAY,EAAC,mCADX;MAEFC,cAAc,EAAE,KAAKC,eAFnB;MAGFC,SAAS,EAAE;IAHT,CAAN;EAKH,CAdU;EAeXC,OAfW,qBAeF;IACL,KAAKC,WAAL;IACA,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,eAAnB;IACAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgC,KAAKC,OAArC;EACH,CAnBU;EAoBXC,aApBW,2BAoBI;IACXH,OAAO,CAACC,GAAR,CAAY,IAAZ;IACA,KAAKG,WAAL;EACH,CAvBU;EAwBXC,QAAQ,EAAC;IACLC,MADK,oBACG;MACJ,OAAO,KAAKR,MAAL,CAAYS,KAAZ,CAAkBC,MAAlB,CAAyBC,UAAzB,CAAoCC,OAApC,CAA4C,CAA5C,CAAP;IACH;EAHI,CAxBE;EA6BXC,OAAO;IACHC,KADG,mBACI;MACH,KAAKC,KAAL,CAAW,gBAAX;IACH,CAHE;IAIGC,IAJH,gBAIQC,CAJR,EAIW;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACVf,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBc,CAAtB;;gBADU,MAEP,KAAI,CAACtB,cAAL,IAAqB,KAAI,CAACuB,OAAL,CAAaC,OAAb,CAAqBC,MAArB,GAA4B,CAF1C;kBAAA;kBAAA;gBAAA;;gBAGN,KAAI,CAACzB,cAAL,IAAuB,CAAvB;;gBACA,KAAI,CAACI,WAAL;;gBAJM;gBAAA;;cAAA;gBAAA,MAKC,KAAI,CAACK,OAAL,IAAc,KAAI,CAACT,cAAL,IAAqB,KAAI,CAACuB,OAAL,CAAaC,OAAb,CAAqBC,MAArB,GAA4B,CALhE;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAMA,KAAI,CAACC,aAAL,EANA;;cAAA;gBAON,KAAI,CAAC1B,cAAL,IAAuB,CAAvB;;gBACA,KAAI,CAACI,WAAL;;cARM;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWb,CAfE;IAgBHA,WAhBG,yBAgBW;MACVG,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B,KAAKe,OAAL,CAAaC,OAAvC,EAA+C,KAAKxB,cAApD;;MACA,IAAG,CAAC,KAAKuB,OAAL,CAAaC,OAAb,CAAqB,KAAKxB,cAA1B,EAA0C2B,OAA9C,EAAuD;QACnD,KAAKJ,OAAL,CAAaC,OAAb,CAAqB,KAAKxB,cAA1B,EAA0C2B,OAA1C,GAAoD,IAApD;QACA,KAAKzB,SAAL,CAAe0B,IAAf,CAAoB,KAAKL,OAAL,CAAaC,OAAb,CAAqB,KAAKxB,cAA1B,EAA0C6B,EAA9D;MACJ;;MACAtB,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKe,OAAL,CAAaC,OAAhC,EAAwC,KAAKtB,SAA7C;IACH,CAvBE;IAwBH4B,IAxBG,kBAwBI;MACH,KAAK9B,cAAL,IAAuB,CAAvB;MACA,KAAKI,WAAL;IACH,CA3BE;IA4BHsB,aA5BG,2BA4Ba;MACZ,KAAKN,KAAL,CAAW,eAAX;IACH,CA9BE;IA+BHW,MA/BG,kBA+BIC,KA/BJ,EA+BW;MACV,IAAGA,KAAK,IAAE,CAAP,IAAUA,KAAK,IAAE,CAApB,EAAuB;QACnBzB,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBwB,KAAnB;QACA,OAAO,IAAP;MACJ,CAHA,MAGO;QACH,OAAO,KAAP;MACJ;IACH;EAtCE,uEAuCmB;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cAClBzB,OAAO,CAACC,GAAR,CAAY,MAAZ;cACA,MAAI,CAACyB,OAAL,GAAe,IAAf;cAFkB;cAAA,OAGZrC,KAAI,CACLsC,GADC,CACG,MAAI,CAACzB,OADR,EAED0B,IAFC,CAEI,kBAAO,EAAK;gBACd5B,OAAO,CAACC,GAAR,CAAY4B,QAAQ,CAACtC,IAAT,CAAc0B,OAA1B;gBACAY,QAAQ,CAACtC,IAAT,CAAc0B,OAAd,CAAsBa,OAAtB,CAA8B,aAAK;kBAC/B,MAAI,CAACd,OAAL,CAAaC,OAAb,CAAqBI,IAArB,CAA0BN,CAA1B;gBACH,CAFD;gBAGAf,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,MAAI,CAAC8B,KAAL,CAAWC,KAA9B,EALc,CAMd;;gBACAhC,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgB4B,QAAQ,CAACtC,IAAT,CAAcuB,IAA9B;gBACA,MAAI,CAACZ,OAAL,GAAe2B,QAAQ,CAACtC,IAAT,CAAcuB,IAA7B;cACC,CAXH,EAYDmB,KAZC,CAYK,aAAK;gBACR,IAAIC,MAAK,GAAI;kBACbC,OAAO,EAAE,MAAI,CAAC3C,YAAL,GAAoB,WADhB;kBAEb4C,IAAI,EAAEC,MAAM,CAACC,QAAP,CAAgBC,QAFT;kBAGbC,eAAe,EAAEzB,CAAC,CAAC0B,IAHN;kBAIbC,kBAAkB,EAAE3B,CAAC,CAACoB;gBAJT,CAAb;;gBAMJ,MAAI,CAACrC,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAA+BmC,MAA/B;;gBACA,MAAI,CAACpC,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAsCgB,CAAC,CAACoB,OAAxC;;gBACA,MAAI,CAACrC,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;gBACA4C,MAAM,CAACtB,IAAP,CAAY;kBAAEoB,IAAI,EAAE;gBAAR,CAAZ;cACC,CAvBC,CAHY;;YAAA;cA2BlB,MAAI,CAACf,OAAL,GAAe,KAAf;;YA3BkB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EA4BrB,CAnEE,mEAoEgB;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACf,MAAI,CAAC5B,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;cACAC,OAAO,CAACC,GAAR,CAAY,MAAI,CAACN,SAAjB;;cAFe,KAGZ,MAAI,CAACA,SAAL,CAAeuB,MAHH;gBAAA;gBAAA;cAAA;;cAAA;cAAA,OAKL7B,KAAI,CACTuD,KADK,sCAC+B,MAAI,CAACjD,SADpC,GAELsC,KAFK,CAEC,aAAK;gBACR,IAAIC,MAAK,GAAI;kBACbC,OAAO,EAAE,MAAI,CAAC3C,YAAL,GAAoB,aADhB;kBAEb4C,IAAI,EAAEC,MAAM,CAACC,QAAP,CAAgBC,QAFT;kBAGbC,eAAe,EAAEzB,CAAC,CAAC0B,IAHN;kBAIbC,kBAAkB,EAAE3B,CAAC,CAACoB;gBAJT,CAAb;;gBAMJ,MAAI,CAACrC,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAA+BmC,MAA/B;;gBACA,MAAI,CAACpC,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAsCgB,CAAC,CAACoB,OAAxC;;gBACA,MAAI,CAACrC,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;gBACA4C,MAAM,CAACtB,IAAP,CAAY;kBAAEoB,IAAI,EAAE;gBAAR,CAAZ;cACC,CAbK,CALK;;YAAA;cAoBf,MAAI,CAAC3C,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;YApBe;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAqBlB,CAzFE;AA7BI,CAAf","names":["axios","props","data","errorMessage","DetailTagIndex","currentTagIndex","logIdList","mounted","ckeckedTrue","$store","commit","console","log","nextUrl","beforeUnmount","patchLogger","computed","myQuiz","state","signup","djangoUser","my_quiz","methods","close","$emit","next","e","loggers","results","length","getNextLogger","checked","push","id","back","noShow","index","loading","get","then","response","forEach","$refs","child","catch","logger","message","path","window","location","pathname","actualErrorName","name","actualErrorMessage","router","patch"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/dashboard/LogDetail.vue"],"sourcesContent":["<template>\n    <div class=\"l-wrapper\">\n        <div class=\"main-wrapper\">\n            <div class='main-quizdetail-wrapper'>\n                <div class='l-container'>\n                    <div class=\"close-container\">\n                        <div @click=\"close()\" class=\"close\">\n                            <i class=\"fas fa-times\"></i>\n                        </div>\n                    </div>\n                    <div class=\"log-index\">{{ DetailTagIndex+1 }}</div>\n                    <div class=\"main-detail-container\" :class=\"{'noShow':noShow(logindex)}\" v-for=\"(value, key ,logindex) in loggers.results[DetailTagIndex]\"\n                        v-bind:key=\"logindex\">\n                        <div v-if=\"logindex!=0&&logindex!=5\" class=\"question-field\">\n                            <p class=\"detail-text\">{{ key }}</p>\n                            <p class=\"detail-val\">{{ value }}</p>\n                        </div>\n                    </div>\n                    <div class=\"angle-container\">                        \n                        <!-- @click=\"e => result==false && onClick(answerindex,answer,question)\" -->\n                        <i @click=\"e => DetailTagIndex!=0&& back()\" :class=\"DetailTagIndex==0 ? 'space-left':'fas fa-angle-double-left'\"></i>\n                        <i @click=\"e => !nextUrl&&DetailTagIndex!=loggers.results.length-1&& next(e)||typeof nextUrl=='string' && next()\" :class=\"!nextUrl&&DetailTagIndex==loggers.results.length-1 ? 'space-right':'fas fa-angle-double-right'\"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    props:[\n        'loggers',\n        'currentTagIndex',\n        'nextUrl',\n        'noMoreUrl',\n        'urlForPatch',\n    ],\n    data(){\n        return{\n            errorMessage:\"components/dashboard/LoggerDetail\",\n            DetailTagIndex: this.currentTagIndex,\n            logIdList: []\n        }\n    },\n    mounted(){\n        this.ckeckedTrue()\n        this.$store.commit('showModalTrue')\n        console.log('mounted at detail',this.nextUrl)\n    },\n    beforeUnmount(){\n        console.log('BU')\n        this.patchLogger()\n    },\n    computed:{\n        myQuiz(){\n            return this.$store.state.signup.djangoUser.my_quiz[0]\n        },\n    },\n    methods:{\n        close(){\n            this.$emit('logDetailFalse')\n        },\n        async next(e) {\n            console.log('clicked',e)\n            if(this.DetailTagIndex!=this.loggers.results.length-1){\n                this.DetailTagIndex += 1\n                this.ckeckedTrue()\n            } else if (this.nextUrl&&this.DetailTagIndex==this.loggers.results.length-1){\n                await this.getNextLogger()\n                this.DetailTagIndex += 1\n                this.ckeckedTrue()\n                \n            }\n        },\n        ckeckedTrue() {\n            console.log('checkedTrue',this.loggers.results,this.DetailTagIndex)\n            if(!this.loggers.results[this.DetailTagIndex].checked) {\n                this.loggers.results[this.DetailTagIndex].checked = true\n                this.logIdList.push(this.loggers.results[this.DetailTagIndex].id)\n            }\n            console.log('true',this.loggers.results,this.logIdList)\n        },\n        back() {\n            this.DetailTagIndex -= 1\n            this.ckeckedTrue()\n        },\n        getNextLogger() {\n            this.$emit('getNextLogger')\n        },\n        noShow(index) {\n            if(index==0||index==5) {\n                console.log('true',index)\n                return true\n            } else {\n                return false\n            }\n        },\n        async getNextLogger() {\n            console.log('next')\n            this.loading = true\n            await axios\n                .get(this.nextUrl)\n                .then(response => {\n                    console.log(response.data.results)\n                    response.data.results.forEach(e => {\n                        this.loggers.results.push(e)\n                    })\n                    console.log('refs',this.$refs.child)\n                    // this.$refs.child.ckeckedTrue()\n                    console.log('n',response.data.next)\n                    this.nextUrl = response.data.next\n                    })\n                .catch(e => {\n                    let logger = {\n                    message: this.errorMessage + 'getLogger',\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n                }\n                this.$store.commit('setLogger',logger)\n                this.$store.commit(\"checkDjangoError\",e.message)\n                this.$store.commit('setIsLoading', false)\n                router.push({ name: 'ConnectionError' })\n                })\n            this.loading = false\n        },\n        async patchLogger(){\n            this.$store.commit('setIsLoading', true)\n            console.log(this.logIdList)\n            if(this.logIdList.length) {\n                // let a = '/api/loggers-patch?logList='\n                await axios\n                .patch(`/api/loggers-patch?logList=${this.logIdList}`)\n                .catch(e => {\n                    let logger = {\n                    message: this.errorMessage + 'patchLogger',\n                    path: window.location.pathname,\n                    actualErrorName: e.name,\n                    actualErrorMessage: e.message,\n                }\n                this.$store.commit('setLogger',logger)\n                this.$store.commit(\"checkDjangoError\",e.message)\n                this.$store.commit('setIsLoading', false)\n                router.push({ name: 'ConnectionError' })\n                })\n            }\n            this.$store.commit('setIsLoading', false)\n        },\n    },\n}\n</script>\n\n<style scoped lang='scss'>\n@import \"style/_variables.scss\";\n.main-quizdetail-wrapper{\n    display: flex;\n    justify-content: center;\n    position: relative;\n    width: 100%;\n    .l-container{\n        position: relative;\n        width: 90%;\n        .log-index{\n            position: absolute;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: solid $base-color;\n            border-radius: 50vh;\n            width: 1.5rem;\n            height: 1.5rem;\n            margin-left: 0.6rem;\n            margin-top: 0.3rem;\n            font-weight: bold;\n            background: $dark-blue;\n            color: $lite-gray;\n        }\n        .main-detail-container{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            margin-top: 1rem;\n            margin-bottom: 1rem;\n            .question-field{\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                flex-direction: column;\n                border-bottom: 0.2rem solid $lite-gray;\n                width: 90%;\n                .detail-text{\n                    display: flex;\n                    font-weight: bold;\n                    font-size: 1.2rem;\n                    color: rgb(167, 167, 167);\n                }\n                .detail-val{\n                    font-weight: bold;\n                    margin-left: 0.5rem;\n                    font-size: 0.9rem;\n                    width: 90%;\n                    max-width: 90%;\n                    // margin: 0 1rem;\n                    overflow-wrap: break-word;\n                }\n            }\n        }\n        .noShow{\n            display: none;\n        }\n        .angle-container{\n            display: flex;\n            justify-content: center;\n            width: 100%;\n            margin-bottom: 1rem;\n            .fa-angle-double-left{\n                margin-right: 2rem;\n                font-size: 1.2rem;\n                color: gray;\n                transition: .5s;\n            }\n            .fa-angle-double-left:hover{\n                color: $lite-blue;\n            }\n            .space-left{\n                margin-right: 2rem;\n                width: 1.2rem;\n            }\n            .fa-angle-double-right{\n                margin-left: 2rem;\n                font-size: 1.2rem;\n                color: gray;\n                transition: .5s;\n            }\n            .fa-angle-double-right:hover {\n                color: $lite-blue;\n            }\n            .space-right{\n                margin-left: 2rem;\n                width: 1.2rem;\n            }\n        }\n    }\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}