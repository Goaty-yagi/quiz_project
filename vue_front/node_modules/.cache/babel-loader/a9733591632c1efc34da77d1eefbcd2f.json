{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ossan/git-clone/quiz_project/vue_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport ConfettiExplosion from \"vue-confetti-explosion\";\nimport TestConf from '@/components/initial/TestConf.vue';\nimport Notification from '@/components/initial/Notification.vue';\nimport NotLogin from '@/components/login/NotLogin.vue';\nimport Bar from '@/components/charts/Bar.vue';\nimport Chart from '@/components/account/Chart.vue';\nimport axios from 'axios';\nexport default {\n  name: 'Home',\n  components: {\n    TestConf: TestConf,\n    Notification: Notification,\n    NotLogin: NotLogin,\n    Bar: Bar,\n    Chart: Chart,\n    ConfettiExplosion: ConfettiExplosion\n  },\n  data: function data() {\n    return {\n      numOfQuestions: '',\n      detail: false,\n      fixedTitleArray: [],\n      currentTitle: '',\n      field: '並び替え',\n      showCompo: false,\n      showNotLogin: false,\n      item: {\n        status: 1,\n        num: 5,\n        test: true\n      },\n      test1: \"\",\n      slideIn: true,\n      slideOut: false,\n      // showChart:false,\n      backgroundColorList: ['rgba(255, 153, 51, 0.2)', 'rgba(81, 255, 0, 0.2)', 'rgba(191, 0, 255, 0.2)', 'rgba(255, 6, 6, 0.2)'],\n      sumOfAllQuestions: '',\n      barChartData: {\n        labels: [],\n        datasets: [{\n          label: \"\",\n          data: [],\n          backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(255, 159, 64, 0.2)', 'rgba(255, 205, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(201, 203, 207, 0.2)'],\n          borderColor: ['rgb(255, 99, 132)', 'rgb(255, 159, 64)', 'rgb(255, 205, 86)', 'rgb(75, 192, 192)', 'rgb(54, 162, 235)', 'rgb(153, 102, 255)', 'rgb(201, 203, 207)']\n        }]\n      },\n      chartData: {\n        labels: [\"形容詞\", \"文法\", \"動詞\", \"語彙\", \"数字\"],\n        datasets: [{\n          label: \"\",\n          data: [7, 3, 8, 1, 9],\n          borderWidth: 1,\n          backgroundColor: 'rgba(81, 255, 0, 0.2)',\n          borderColor: ' #ff9933',\n          pointBackgroundColor: 'rgb(255, 99, 132)',\n          pointBorderColor: '#fff',\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: 'red'\n        }]\n      }\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.getNumOfQuestions();\n    console.log('mounted', this.$store);\n  },\n  computed: {\n    user: function user() {\n      return this.$store.state.signup.djangoUser;\n    },\n    tempUser: function tempUser() {\n      return this.$store.state.signup.tempUser;\n    },\n    reccomendedQuestion: function reccomendedQuestion() {\n      return this.$store.getters.gettersReccomendedQuestion;\n    },\n    emailVerified: function emailVerified() {\n      return this.$store.getters.getEmailVerified;\n    },\n    tempUserTest: function tempUserTest() {\n      try {\n        return this.$store.state.signup.tempUser.test;\n      } catch (_unused) {\n        return false;\n      }\n    },\n    questions: function questions() {\n      return this.$store.getters.questions;\n    },\n    quizNameId: function quizNameId() {\n      return this.$store.getters.quizNameId;\n    }\n  },\n  methods: {\n    getNumOfQuestions: function getNumOfQuestions() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get('/api/questions-dashboard/');\n\n              case 3:\n                response = _context.sent;\n                _this.numOfQuestions = response.data[0];\n                console.log('data', _this.numOfQuestions);\n\n                _this.setBarChartData();\n\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }))();\n    },\n    setBarChartData: function setBarChartData() {\n      this.detailFalse();\n      this.currentTitle = '';\n      var tempList = [];\n      var tempLadelList = [];\n\n      var _iterator = _createForOfIteratorHelper(this.numOfQuestions.get_num_of_question.slice(0, this.numOfQuestions.get_num_of_question.length - 1)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          var title = Object.keys(i)[0];\n          tempLadelList.push(title);\n          this.fixedTitleArray = tempLadelList;\n          this.barChartData.labels = tempLadelList;\n          tempList.push(i[title].sum);\n          this.barChartData.datasets[0].data = tempList;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.sumOfAllQuestions = this.numOfQuestions.get_num_of_question[this.numOfQuestions.get_num_of_question.length - 1].all_questions_num;\n    },\n    barChartDetail: function barChartDetail(index) {\n      var _iterator2 = _createForOfIteratorHelper(this.numOfQuestions.get_num_of_question.slice(0, this.numOfQuestions.get_num_of_question.length - 1)),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n\n          if (Object.keys(i)[0] == this.fixedTitleArray[index]) {\n            this.currentTitle = this.fixedTitleArray[index];\n            this.barChartData.datasets[0].data = Object.values(i[this.fixedTitleArray[index]]);\n            this.barChartData.labels = Object.keys(i[this.fixedTitleArray[index]]);\n            this.detail = true;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    },\n    detailFalse: function detailFalse() {\n      this.detail = false;\n    },\n    // selectedBarChartDetail(index) {\n    // },\n    unko: function unko() {\n      console.log('clicked');\n      this.$store.commit('setTempUserNull'); // window.localStorage.removeItem('quizkey')\n      // return `/quiz/${this.status}`\n    },\n    componentHandler: function componentHandler() {\n      if (this.tempUserTest) {\n        this.handleShowNotLogin();\n      } else {\n        this.showCompoHandler();\n      }\n    },\n    showCompoHandler: function showCompoHandler() {\n      this.showCompo = !this.showCompo;\n    },\n    handleShowNotLogin: function handleShowNotLogin() {\n      this.showNotLogin = !this.showNotLogin;\n    },\n    // async test(){\n    //     await axios\n    //     .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n    //     .then(response => {\n    //         this.test1 = response.data\n    //         console.log(this.test1.city)\n    //         })\n    //     .catch(error => {\n    //         console.log(error)\n    //     })      \n    // },\n    scrollTop: function scrollTop() {\n      window.scrollTo({\n        top: 0 // behavior: \"smooth\"\n\n      });\n    },\n    setInitUserStatus: function setInitUserStatus() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _iterator3, _step3, i;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.emailVerified) {\n                  _context2.next = 22;\n                  break;\n                }\n\n                if (!_this2.$store.getters.getTempUser.test) {\n                  _context2.next = 21;\n                  break;\n                }\n\n                _this2.$store.commit('setQuizTakerID', _this2.user.quiz_taker.id);\n\n                _this2.$store.commit('setQuizID', _this2.$store.getters.getTempUser.grade);\n\n                _iterator3 = _createForOfIteratorHelper(_this2.$store.getters.getTempUser.statusList);\n                _context2.prev = 5;\n\n                _iterator3.s();\n\n              case 7:\n                if ((_step3 = _iterator3.n()).done) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                i = _step3.value;\n                _context2.next = 11;\n                return _this2.$store.dispatch('userStatusPost', i);\n\n              case 11:\n                _context2.next = 7;\n                break;\n\n              case 13:\n                _context2.next = 18;\n                break;\n\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2[\"catch\"](5);\n\n                _iterator3.e(_context2.t0);\n\n              case 18:\n                _context2.prev = 18;\n\n                _iterator3.f();\n\n                return _context2.finish(18);\n\n              case 21:\n                _this2.$store.commit('setTempUserReset');\n\n              case 22:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[5, 15, 18, 21]]);\n      }))();\n    },\n    testClick: function testClick() {\n      this.slideIn = !this.slideIn;\n      this.slideOut = !this.slideOut;\n    },\n    aaa: function aaa() {\n      var b = document.getElementsByClassName('hero-title');\n      console.log('aaa', b, b.length);\n      b[2].style.backgroundColor = 'red';\n    } // reload(){\n    //     console.log('reload_enter',this.$store.state.signup.beingException)\n    //     if(this.$store.state.signup.beingException){\n    //         console.log('reload_desu')\n    //         window.location.reload();\n    //     }\n    // }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ConfettiExplosion","TestConf","Notification","NotLogin","Bar","Chart","axios","name","components","data","numOfQuestions","detail","fixedTitleArray","currentTitle","field","showCompo","showNotLogin","item","status","num","test","test1","slideIn","slideOut","backgroundColorList","sumOfAllQuestions","barChartData","labels","datasets","label","backgroundColor","borderColor","chartData","borderWidth","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","created","mounted","getNumOfQuestions","console","log","$store","computed","user","state","signup","djangoUser","tempUser","reccomendedQuestion","getters","gettersReccomendedQuestion","emailVerified","getEmailVerified","tempUserTest","questions","quizNameId","methods","get","response","setBarChartData","detailFalse","tempList","tempLadelList","get_num_of_question","slice","length","i","title","Object","keys","push","sum","all_questions_num","barChartDetail","index","values","unko","commit","componentHandler","handleShowNotLogin","showCompoHandler","scrollTop","window","scrollTo","top","setInitUserStatus","getTempUser","quiz_taker","id","grade","statusList","dispatch","testClick","aaa","b","document","getElementsByClassName","style"],"sourceRoot":"","sources":["/Users/ossan/git-clone/quiz_project/vue_front/src/components/dashboard/QuizInfo.vue"],"sourcesContent":["<template>\n    <section class='quiz-info-section'>\n        <div class=\"main-wrapper\">\n            <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading }\">\n                <div class=\"lds-dual-ring\"></div>\n            </div>\n            <div class=\"bar-wrapper\">\n                <bar\n                class=\"bar\"\n                :chart-data='barChartData'\n                :detail=\"detail\"\n                @barChartDetail=\"barChartDetail\"/>\n            </div>\n            <div class=\"chart-footer\">\n                <div @click=\"setBarChartData()\" class='all-quizzes' :class=\"{'selected':!currentTitle}\">\n                    <p class=\"all\">ALL</p>\n                </div>\n                <p class=\"total\">Total:{{sumOfAllQuestions}} questions</p>\n                <div class=\"each-title-container\">\n                    <div class=\"title-loop\"\n                        v-for=\"(quiz,index) in quizNameId\"\n                        v-bind:key=\"index\">\n                        <p class=\"each-title\" \n                            :class=\"{'selected-title':currentTitle==quiz.name}\"\n                            @click=\"barChartDetail(quiz.id-1)\">{{ quiz.name }}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport ConfettiExplosion from \"vue-confetti-explosion\";\nimport TestConf from '@/components/initial/TestConf.vue'\nimport Notification from '@/components/initial/Notification.vue'\nimport NotLogin from '@/components/login/NotLogin.vue'\nimport  Bar from '@/components/charts/Bar.vue'\nimport  Chart from '@/components/account/Chart.vue'\nimport axios from 'axios';\n\nexport default {\n    name: 'Home',\n    components: {\n        TestConf,\n        Notification,\n        NotLogin,\n        Bar,\n        Chart,\n        ConfettiExplosion\n    },\n    data(){\n        return{\n            numOfQuestions:'',\n            detail: false,\n            fixedTitleArray:[],\n            currentTitle:'',\n            \n            field:'並び替え',\n            showCompo: false,\n            showNotLogin: false,\n            item:{status: 1,num:5,test:true},\n            test1:\"\",\n            slideIn:true,\n            slideOut:false,\n            // showChart:false,\n            backgroundColorList:[\n                'rgba(255, 153, 51, 0.2)',\n                'rgba(81, 255, 0, 0.2)',\n                'rgba(191, 0, 255, 0.2)',\n                'rgba(255, 6, 6, 0.2)',\n            ],\n            sumOfAllQuestions:'',\n            barChartData:{\n                labels: [],\n                datasets: [{ \n                    label: \"\",\n                    data: [],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(255, 159, 64, 0.2)',\n                        'rgba(255, 205, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(201, 203, 207, 0.2)'\n                        ],\n                    borderColor: [\n                    'rgb(255, 99, 132)',\n                    'rgb(255, 159, 64)',\n                    'rgb(255, 205, 86)',\n                    'rgb(75, 192, 192)',\n                    'rgb(54, 162, 235)',\n                    'rgb(153, 102, 255)',\n                    'rgb(201, 203, 207)'\n                    ],\n                }]\n            },\n            chartData: {\n                labels: [\"形容詞\",\"文法\",\"動詞\",\"語彙\",\"数字\"],\n                datasets: [{ \n                    label: \"\",\n                    data: [7,3,8,1,9],\n                    borderWidth:1,\n                    backgroundColor:'rgba(81, 255, 0, 0.2)',\n                    borderColor: ' #ff9933',\n                    pointBackgroundColor: 'rgb(255, 99, 132)',\n                    pointBorderColor: '#fff',\n                    pointHoverBackgroundColor: '#fff',\n                    pointHoverBorderColor: 'red'\n                }],\n            },\n        }\n    },\n    created() {\n        \n    },\n    mounted(){\n        this.getNumOfQuestions()\n        console.log('mounted',this.$store)\n    },\n    computed:{\n        user(){\n            return this.$store.state.signup.djangoUser\n        },\n        tempUser(){\n            return this.$store.state.signup.tempUser\n        },\n        reccomendedQuestion(){\n            return this.$store.getters.gettersReccomendedQuestion\n        },\n        emailVerified(){\n            return this.$store.getters.getEmailVerified\n        },\n        tempUserTest(){\n            try{\n                return this.$store.state.signup.tempUser.test\n            }\n            catch{\n                return false\n            }\n        },\n        questions(){\n            return this.$store.getters.questions\n        },\n        quizNameId(){\n                    return this.$store.getters.quizNameId\n        },\n    },\n    methods:{\n        async getNumOfQuestions() {\n            try{\n                const response = await axios.get('/api/questions-dashboard/')\n                this.numOfQuestions = response.data[0]\n                console.log('data',this.numOfQuestions)\n                this.setBarChartData()\n            } catch {\n\n            }\n        },\n        setBarChartData() {\n            this.detailFalse()\n            this.currentTitle=''\n            const tempList = []\n            const tempLadelList = []\n            for(let i of this.numOfQuestions.get_num_of_question.slice(0,this.numOfQuestions.get_num_of_question.length-1)) {\n                let title = Object.keys(i)[0]\n                tempLadelList.push(title)\n                this.fixedTitleArray = tempLadelList\n                this.barChartData.labels = tempLadelList\n                tempList.push(i[title].sum)\n                this.barChartData.datasets[0].data = tempList\n            }\n            this.sumOfAllQuestions = this.numOfQuestions.get_num_of_question[this.numOfQuestions.get_num_of_question.length-1].all_questions_num\n        },\n        barChartDetail(index) {\n            for(let i of this.numOfQuestions.get_num_of_question.slice(0,this.numOfQuestions.get_num_of_question.length-1)) {\n                if(Object.keys(i)[0]==this.fixedTitleArray[index]){\n                    this.currentTitle = this.fixedTitleArray[index]\n                    this.barChartData.datasets[0].data= Object.values(i[this.fixedTitleArray[index]])\n                    this.barChartData.labels = Object.keys(i[this.fixedTitleArray[index]])\n                    this.detail = true\n                    \n                }\n            }\n        },\n        detailFalse() {\n            this.detail = false\n        },\n        // selectedBarChartDetail(index) {\n        // },\n        unko(){\n            console.log('clicked')\n            this.$store.commit('setTempUserNull')\n            // window.localStorage.removeItem('quizkey')\n            // return `/quiz/${this.status}`\n            },\n        componentHandler(){\n            if(this.tempUserTest){\n                this.handleShowNotLogin()\n            }\n            else{\n                this.showCompoHandler()\n            }\n        },\n        showCompoHandler(){\n        this.showCompo = !this.showCompo\n        },\n        handleShowNotLogin(){\n            this.showNotLogin = !this.showNotLogin\n        },\n        // async test(){\n        //     await axios\n        //     .get(\"https://ipinfo.io/json?token=32e16159d962c5\")\n        //     .then(response => {\n        //         this.test1 = response.data\n        //         console.log(this.test1.city)\n        //         })\n        //     .catch(error => {\n        //         console.log(error)\n        //     })      \n        // },\n        scrollTop(){\n            window.scrollTo({\n            top: 0,\n            // behavior: \"smooth\"\n            });\n        },\n        async setInitUserStatus(){\n            if(this.emailVerified){\n                if(this.$store.getters.getTempUser.test){\n                    this.$store.commit('setQuizTakerID',this.user.quiz_taker.id)\n                    this.$store.commit('setQuizID',this.$store.getters.getTempUser.grade)\n                    for(let i of this.$store.getters.getTempUser.statusList){\n                        await this.$store.dispatch('userStatusPost',i)\n                    }\n                }\n                this.$store.commit('setTempUserReset')\n            }\n        },\n        testClick(){\n            this.slideIn = !this.slideIn\n            this.slideOut = !this.slideOut\n        },\n        aaa(){\n            let b = document.getElementsByClassName('hero-title')\n            console.log('aaa',b,b.length)\n            b[2].style.backgroundColor = 'red'\n        }\n        // reload(){\n        //     console.log('reload_enter',this.$store.state.signup.beingException)\n        //     if(this.$store.state.signup.beingException){\n        //         console.log('reload_desu')\n        //         window.location.reload();\n        //     }\n        // }\n    }\n}       \n</script>\n<style scoped lang=\"scss\">\n@import \"style/_variables.scss\";\n\n.quiz-info-section{\n    width:100%;\n    // height: 100vh;\n    display: flex;\n    // justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    .main-wrapper{\n        .bar-wrapper{\n            position: relative;\n        }\n        .chart-footer{\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            .all-quizzes{\n                color: white;\n                padding: 0 1rem;\n                margin: 0.5rem 0;\n                font-size: 1.2rem;\n                font-weight: bold;\n                border: solid $base-color;\n                border-radius: 50vh;\n                transition: .5s;\n                .all{\n\n                }                \n            }\n            .selected{\n                color: $dark-blue;\n                background: $base-color-tr;\n                border: solid white;\n            }\n            .total{\n            color: white;\n            font-weight: bold;\n            margin-bottom: 0.5rem;\n            }\n            .each-title-container{\n                display: flex;\n                justify-content: center;\n                width: 100%;\n                .title-loop{\n                    .each-title{\n                        color: white;\n                        margin-left: 0.5rem;\n                        margin-right: 0.5rem;\n                        padding: 0 0.4rem;\n                        font-weight: bold;\n                        border: solid $base-color;\n                        transition: .5s;\n                    }.selected-title{\n                        color: $dark-blue;\n                        background: $base-color-tr;\n                        border: solid white;\n                    }\n                }\n\n            }\n        }\n    }\n}\n.hero-title{\n    border-top: 6px solid $base-color;\n    border-right: 1px solid $base-color;\n    border-left: 1px solid $base-color;\n    border-bottom: 1px solid $base-color;\n    // background: rgb(254, 254, 221);\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n    padding-right: 0.1rem;\n    padding-left: 0.1rem;\n    font-weight: bold;\n    font-size: 1.1rem;\n    color: white;\n\n}\n\n\n\n// @media(max-width: 1024px){\n\n//   }\n//   .home-section{\n//     width:100%;\n//     height: 100vh;\n//     // height:100%;\n//   }.wrapper{\n//     flex-direction: column;\n//     display: flex;\n//     justify-content: center;\n//     align-items: center;\n//     width:100%;\n//     // height:100%;\n//     // bottom:10%;\n//   }\n//   .is-image{\n//     width: 8rem;\n//     height: auto;\n//   }\n//   .home-text{\n//     font-size:2rem;\n//     color:white;\n//     font-weight: bold;\n//   }\n//   #or-button{\n//     border-radius: 100vh;\n//     border: 2px solid $base-color;\n//     margin:1rem;\n//     padding:0.4rem;\n//     background: transparent;\n//     color: $base-color;\n//     font-weight:bold;\n//     font-size: 1rem;\n//     transition:0.5s;\n//     }\n//     #or-button:hover{\n//       background: $base-color;\n//       color:white;\n//     }\n//     .home-conf{\n//       position:absolute;\n//       left:0;\n//     }\n.slide-in{\n\ttext-align: center;\n\topacity: 0;\n\tanimation: slide-in-anim 1.5s ease-out forwards;\n}\n.slide-out{\n    text-align: center;\n\topacity: 1;\n\tanimation: slide-out-anim 1.5s ease-out forwards;\n}\n\n@keyframes slide-in-anim {\n\t20% {\n\t\topacity: 0;\n        transform: translateX(-20%);\n\t}\n\t// 60% {\n\t// \ttransform: translateX(-10%);\n\t// }\n\t// 75% {\n\t// \ttransform: translateX(2%);\n\t// }\n\t100% {\n\t\topacity: 1;\n\t\ttransform: translateX(0);\n\t}\n}\n@keyframes slide-out-anim {\n\t20% {\n\t\topacity: 1;\n        transform: translateX(0);\n\t}\n\t// 60% {\n\t// \ttransform: translateX(-10%);\n\t// }\n\t// 75% {\n\t// \ttransform: translateX(2%);\n\t// }\n\t100% {\n\t\topacity: 0;\n\t\ttransform: translateX(-20%);\n        display: none;\n\t}\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}